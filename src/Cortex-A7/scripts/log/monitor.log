ÿÂÞCpdóJL`gÞçÊAÒoÀÂöÊAÒïëöB×sÿbÆåÊAÒÄ ÆÊAêRùÊAêrÆÿx¥1ùHRB¶ËÊÀ wÙ6¾hnÙØ÷e lisc[   33.753759] vdda: disabling

Poky (Yocto Project Reference Distro) 3.1.19 stm32mp1 ttySTM0

stm32mp1 login: 
Poky (Yocto Project Reference Distro) 3.1.19 stm32mp1 ttySTM0

stm32mp1 login: 
Poky (Yocto Project Reference Distro) 3.1.19 stm32mp1 ttySTM0

stm32mp1 login: root
root@stm32mp1:~# 
root@stm32mp1:~# 
root@stm32mp1:~# sh stm32_usbotg_eth_config.sh restart 
Stop usb gadget
Nothing to do
Start usb gadget
[  148.876591] using random self ethernet address
[  148.879599] using random host ethernet address
[  148.922313] usb0: HOST MAC 72:4b:06:a2:ba:29
[  148.926255] usb0: MAC 62:f0:c0:80:f6:e0
[  148.929040] dwc2 49000000.usb-otg: bound driver configfs-gadget
[  149.132952] dwc2 49000000.usb-otg: new device is high-speed
root@stm32mp1:~# [  149.262264] dwc2 49000000.usb-otg: new device is high-speed
[  149.338922] dwc2 49000000.usb-otg: new address 2
[  154.629225] dwc2 49000000.usb-otg: new device is high-speed
[  154.633381] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[  160.005227] dwc2 49000000.usb-otg: new device is high-speed
[  160.009381] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[  175.621660] dwc2 49000000.usb-otg: new device is high-speed
[  175.625816] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[  176.173639] dwc2 49000000.usb-otg: new device is high-speed
[  176.177794] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[  176.241649] dwc2 49000000.usb-otg: new device is high-speed
[  176.245802] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[  187.349952] dwc2 49000000.usb-otg: new device is high-speed
[  187.354109] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
^C
root@stm32mp1:~# ^C
root@stm32mp1:~# ifconfig
lo        Link encap:Local Loopback  
          inet addr:127.0.0.1  Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING  MTU:65536  Metric:1
          RX packets:176 errors:0 dropped:0 overruns:0 frame:0
          TX packets:176 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:11936 (11.6 KiB)  TX bytes:11936 (11.6 KiB)

usb0      Link encap:Ethernet  HWaddr 62:F0:C0:80:F6:E0  
          inet addr:169.254.128.28  Bcast:169.254.255.255  Mask:255.255.0.0
          UP BROADCAST MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

root@stm32mp1:~# NOTICE:  CPU: STM32MP157CAC Rev.Z
NOTICE:  Model: STMicroelectronics STM32MP157C-DK2 Discovery Board
INFO:    Reset reason (0x15):
INFO:      Power-on Reset (rst_por)
INFO:    PMIC version = 0x21
INFO:    FCONF: Reading TB_FW firmware configuration file from: 0x2ffe3000
INFO:    FCONF: Reading firmware configuration information for: stm32mp_io
INFO:    Using EMMC
INFO:      Instance 2
INFO:    Boot used partition fsbl1
NOTICE:  BL2: v2.4-r1.0(debug):v2.4-dirty
NOTICE:  BL2: Built : 16:43:51, Nov 17 2020
INFO:    BL2: Doing platform setup
INFO:    RAM: DDR3-DDR3L 16bits 533000Khz
WARNING: Couldn't find property st,phy-cal in dtb
INFO:    Memory size = 0x20000000 (512 MB)
INFO:    BL2: Loading image id 31
INFO:    Loading image id=31 at address 0x2ffff000
INFO:    Image id=31 loaded: 0x2ffff000 - 0x2ffff226
INFO:    FCONF: Reading FW_CONFIG firmware configuration file from: 0x2ffff000
INFO:    FCONF: Reading firmware configuration information for: dyn_cfg
INFO:    FCONF: Reading firmware configuration information for: stm32mp1_firewall
INFO:    BL2: Loading image id 4
INFO:    Loading image id=4 at address 0x2ffc5000
INFO:    Image id=4 loaded: 0x2ffc5000 - 0x2ffd847c
WARNING: Not a known TEE, use default loading options.
INFO:    BL2: Skip loading image id 21
INFO:    BL2: Skip loading image id 22
INFO:    BL2: Loading image id 23
INFO:    Loading image id=23 at address 0xc0500000
INFO:    Image id=23 loaded: 0xc0500000 - 0xc0517345
INFO:    BL2: Loading image id 26
INFO:    Loading image id=26 at address 0x2ffc0000
INFO:    Image id=26 loaded: 0x2ffc0000 - 0x2ffc4a5b
INFO:    BL2: Loading image id 5
INFO:    Loading image id=5 at address 0xc0100000
INFO:    Image id=5 loaded: 0xc0100000 - 0xc01cf9d0
NOTICE:  BL2: Booting BL32
INFO:    Entry point address = 0x2ffc5000
INFO:    SPSR = 0x1d3
NOTICE:  SP_MIN: v2.4-r1.0(debug):v2.4-dirty
NOTICE:  SP_MIN: Built : 16:43:51, Nov 17 2020
INFO:    ARM GICv2 driver initialized
WARNING: Timer is not accurate enough for calibration
INFO:    Set calibration timer to 60 sec
INFO:    stm32mp1 IWDG1 is secure
INFO:    SP_MIN: Initializing runtime services
INFO:    SP_MIN: Preparing exit to normal world


U-Boot 2020.10-stm32mp-r1-dirty (Oct 05 2020 - 15:15:32 +0000)

CPU: STM32MP157CAC Rev.Z
Model: Seeed Studio Odyssey-STM32MP157C Board
Board: stm32mp1 in trusted mode (seeed,stm32mp157c-odyssey)
DRAM:  512 MiB
Clocks:
- MPU : 650 MHz
- MCU : 40.878 MHz
- AXI : 266.500 MHz
- PER : 24 MHz
- DDR : 533 MHz
STM32Programmer key pressed, entering download mode...
WDT:   Started with servicing (32s timeout)
NAND:  0 MiB
MMC:   STM32 SD/MMC: 1
Loading Environment from MMC... OK
In:    serial
Out:   serial
Err:   serial
Net:   eth0: ethernet@5800a000
Hit any key to stop autoboot:  0 
Boot over mmc1!
switch to partitions #0, OK
mmc1(part 0) is current device
Scanning mmc 1:2...
Found /mmc1_extlinux/extlinux.conf
Retrieving file: /mmc1_extlinux/extlinux.conf
239 bytes read in 29 ms (7.8 KiB/s)
Retrieving file: /splash.bmp
18244 bytes read in 31 ms (574.2 KiB/s)
1:	OpenSTLinux
Retrieving file: /uImage
7455528 bytes read in 346 ms (20.5 MiB/s)
append: root=PARTUUID=491f6117-415d-4f53-88c9-6e0de54deac6 rootwait rw console=ttySTM0,115200
Retrieving file: /stm32mp157c-odyssey.dtb
63513 bytes read in 32 ms (1.9 MiB/s)
## Booting kernel from Legacy Image at c2000000 ...
   Image Name:   Linux-5.10.10
   Created:      2021-01-23  15:04:06 UTC
   Image Type:   ARM Linux Kernel Image (uncompressed)
   Data Size:    7455464 Bytes = 7.1 MiB
   Load Address: c2000040
   Entry Point:  c2000040
   Verifying Checksum ... OK
## Flattened Device Tree blob at c4000000
   Booting using the fdt blob at 0xc4000000
   XIP Kernel Image
   Loading Device Tree to cffed000, end cffff818 ... OK
ETZPC: 0x48001000 node disabled, decprot 89=2

Starting kernel ...

[    0.000000] Booting Linux on physical CPU 0x0
[    0.000000] Linux version 5.10.10 (oe-user@oe-host) (arm-poky-linux-gnueabi-gcc (GCC) 9.3.0, GNU ld (GNU Binutils) 2.34.0.20200220) #1 SMP PREEMPT Sat Jan 23 15:04:06 UTC 2021
[    0.000000] CPU: ARMv7 Processor [410fc075] revision 5 (ARMv7), cr=10c5387d
[    0.000000] CPU: div instructions available: patching division code
[    0.000000] CPU: PIPT / VIPT nonaliasing data cache, VIPT aliasing instruction cache
[    0.000000] OF: fdt: Machine model: Seeed Studio Odyssey-STM32MP157C Board
[    0.000000] Memory policy: Data cache writealloc
[    0.000000] Reserved memory: created DMA memory pool at 0x10000000, size 0 MiB
[    0.000000] OF: reserved mem: initialized node mcuram2@10000000, compatible id shared-dma-pool
[    0.000000] Reserved memory: created DMA memory pool at 0x10040000, size 0 MiB
[    0.000000] OF: reserved mem: initialized node vdev0vring0@10040000, compatible id shared-dma-pool
[    0.000000] Reserved memory: created DMA memory pool at 0x10041000, size 0 MiB
[    0.000000] OF: reserved mem: initialized node vdev0vring1@10041000, compatible id shared-dma-pool
[    0.000000] Reserved memory: created DMA memory pool at 0x10042000, size 0 MiB
[    0.000000] OF: reserved mem: initialized node vdev0buffer@10042000, compatible id shared-dma-pool
[    0.000000] Reserved memory: created DMA memory pool at 0x30000000, size 0 MiB
[    0.000000] OF: reserved mem: initialized node mcuram@30000000, compatible id shared-dma-pool
[    0.000000] Reserved memory: created DMA memory pool at 0x38000000, size 0 MiB
[    0.000000] OF: reserved mem: initialized node retram@38000000, compatible id shared-dma-pool
[    0.000000] cma: Reserved 128 MiB at 0xd8000000
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x00000000c0000000-0x00000000dfffffff]
[    0.000000]   HighMem  empty
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x00000000c0000000-0x00000000d3ffffff]
[    0.000000]   node   0: [mem 0x00000000d8000000-0x00000000dfffffff]
[    0.000000] Initmem setup node 0 [mem 0x00000000c0000000-0x00000000dfffffff]
[    0.000000] psci: probing for conduit method from DT.
[    0.000000] psci: PSCIv1.1 detected in firmware.
[    0.000000] psci: Using standard PSCI v0.2 function IDs
[    0.000000] psci: MIGRATE_INFO_TYPE not supported.
[    0.000000] psci: SMC Calling Convention v1.2
[    0.000000] percpu: Embedded 20 pages/cpu s51788 r8192 d21940 u81920
[    0.000000] Built 1 zonelists, mobility grouping on.  Total pages: 113536
[    0.000000] Kernel command line: root=PARTUUID=491f6117-415d-4f53-88c9-6e0de54deac6 rootwait rw console=ttySTM0,115200
[    0.000000] Dentry cache hash table entries: 65536 (order: 6, 262144 bytes, linear)
[    0.000000] Inode-cache hash table entries: 32768 (order: 5, 131072 bytes, linear)
[    0.000000] mem auto-init: stack:off, heap alloc:off, heap free:off
[    0.000000] Memory: 304684K/458752K available (11264K kernel code, 1206K rwdata, 3312K rodata, 1024K init, 248K bss, 22996K reserved, 131072K cma-reserved, 0K highmem)
[    0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=2, Nodes=1
[    0.000000] rcu: Preemptible hierarchical RCU implementation.
[    0.000000] rcu: 	RCU event tracing is enabled.
[    0.000000] 	Trampoline variant of Tasks RCU enabled.
[    0.000000] 	Tracing variant of Tasks RCU enabled.
[    0.000000] rcu: RCU calculated value of scheduler-enlistment delay is 10 jiffies.
[    0.000000] NR_IRQS: 16, nr_irqs: 16, preallocated irqs: 16
[    0.000000] random: get_random_bytes called from start_kernel+0x390/0x568 with crng_init=0
[    0.000000] arch_timer: cp15 timer(s) running at 24.00MHz (virt).
[    0.000000] clocksource: arch_sys_counter: mask: 0xffffffffffffff max_cycles: 0x588fe9dc0, max_idle_ns: 440795202592 ns
[    0.000009] sched_clock: 56 bits at 24MHz, resolution 41ns, wraps every 4398046511097ns
[    0.000030] Switching to timer-based delay loop, resolution 41ns
[    0.001341] Console: colour dummy device 80x30
[    0.001396] Calibrating delay loop (skipped), value calculated using timer frequency.. 48.00 BogoMIPS (lpj=240000)
[    0.001426] pid_max: default: 32768 minimum: 301
[    0.001690] Mount-cache hash table entries: 1024 (order: 0, 4096 bytes, linear)
[    0.001716] Mountpoint-cache hash table entries: 1024 (order: 0, 4096 bytes, linear)
[    0.003056] CPU: Testing write buffer coherency: ok
[    0.003508] /cpus/cpu@0 missing clock-frequency property
[    0.003552] /cpus/cpu@1 missing clock-frequency property
[    0.003574] CPU0: thread -1, cpu 0, socket 0, mpidr 80000000
[    0.004863] Setting up static identity map for 0xc0100000 - 0xc0100060
[    0.005073] rcu: Hierarchical SRCU implementation.
[    0.006523] smp: Bringing up secondary CPUs ...
[    0.007762] CPU1: thread -1, cpu 1, socket 0, mpidr 80000001
[    0.008020] smp: Brought up 1 node, 2 CPUs
[    0.008053] SMP: Total of 2 processors activated (96.00 BogoMIPS).
[    0.008066] CPU: All CPU(s) started in SVC mode.
[    0.008918] devtmpfs: initialized
[    0.034675] VFP support v0.3: implementor 41 architecture 2 part 30 variant 7 rev 5
[    0.035060] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 19112604462750000 ns
[    0.035099] futex hash table entries: 512 (order: 3, 32768 bytes, linear)
[    0.041332] pinctrl core: initialized pinctrl subsystem
[    0.043319] NET: Registered protocol family 16
[    0.046839] DMA: preallocated 256 KiB pool for atomic coherent allocations
[    0.048864] thermal_sys: Registered thermal governor 'step_wise'
[    0.049251] cpuidle: using governor menu
[    0.049668] hw-breakpoint: found 5 (+1 reserved) breakpoint and 4 watchpoint registers.
[    0.049690] hw-breakpoint: maximum watchpoint size is 8 bytes.
[    0.050103] Serial: AMBA PL011 UART driver
[    0.089959] stm32-pm-domain pm_domain: domain core-ret-power-domain registered
[    0.090010] stm32-pm-domain pm_domain: subdomain core-power-domain registered
[    0.090029] stm32-pm-domain pm_domain: domains probed
[    0.117725] SCSI subsystem initialized
[    0.118653] usbcore: registered new interface driver usbfs
[    0.118746] usbcore: registered new interface driver hub
[    0.118827] usbcore: registered new device driver usb
[    0.119145] pps_core: LinuxPPS API ver. 1 registered
[    0.119164] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti <giometti@linux.it>
[    0.119200] PTP clock support registered
[    0.120212] arm-scmi firmware:scmi0: SCMI Notifications - Core Enabled.
[    0.120307] arm-scmi firmware:scmi0: SCMI Protocol v2.0 'ST:' Firmware version 0x0
[    0.123808] clocksource: Switched to clocksource arch_sys_counter
[    1.570995] NET: Registered protocol family 2
[    1.572284] tcp_listen_portaddr_hash hash table entries: 512 (order: 0, 6144 bytes, linear)
[    1.572454] TCP established hash table entries: 4096 (order: 2, 16384 bytes, linear)
[    1.572529] TCP bind hash table entries: 4096 (order: 3, 32768 bytes, linear)
[    1.572628] TCP: Hash tables configured (established 4096 bind 4096)
[    1.572805] UDP hash table entries: 256 (order: 1, 8192 bytes, linear)
[    1.572861] UDP-Lite hash table entries: 256 (order: 1, 8192 bytes, linear)
[    1.573388] NET: Registered protocol family 1
[    1.574501] RPC: Registered named UNIX socket transport module.
[    1.574531] RPC: Registered udp transport module.
[    1.574545] RPC: Registered tcp transport module.
[    1.574558] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    1.575685] hw perfevents: enabled with armv7_cortex_a7 PMU driver, 5 counters available
[    1.577700] Initialise system trusted keyrings
[    1.578153] workingset: timestamp_bits=14 max_order=17 bucket_order=3
[    1.589310] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    1.590800] NFS: Registering the id_resolver key type
[    1.590870] Key type id_resolver registered
[    1.590887] Key type id_legacy registered
[    1.591083] nfs4filelayout_init: NFSv4 File Layout Driver Registering...
[    1.591291] ntfs: driver 2.1.32 [Flags: R/O].
[    1.591620] jffs2: version 2.2. (NAND) Â 2001-2006 Red Hat, Inc.
[    1.592568] fuse: init (API version 7.32)
[    1.593703] NET: Registered protocol family 38
[    1.593731] Key type asymmetric registered
[    1.593747] Asymmetric key parser 'x509' registered
[    1.593913] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 246)
[    1.593934] io scheduler mq-deadline registered
[    1.593948] io scheduler kyber registered
[    1.601131] reg11: supplied by regulator-dummy
[    1.601578] reg18: supplied by regulator-dummy
[    1.601940] usb33: supplied by regulator-dummy
[    1.606763] STM32 USART driver initialized
[    1.629624] brd: module loaded
[    1.630953] random: fast init done
[    1.635784] random: crng init done
[    1.644276] loop: module loaded
[    1.650172] libphy: Fixed MDIO Bus: probed
[    1.652313] CAN device driver interface
[    1.654384] pegasus: v0.9.3 (2013/04/25), Pegasus/Pegasus II USB Ethernet driver
[    1.654486] usbcore: registered new interface driver pegasus
[    1.654573] usbcore: registered new interface driver asix
[    1.654639] usbcore: registered new interface driver ax88179_178a
[    1.654722] usbcore: registered new interface driver cdc_ether
[    1.654808] usbcore: registered new interface driver smsc75xx
[    1.654891] usbcore: registered new interface driver smsc95xx
[    1.654955] usbcore: registered new interface driver net1080
[    1.655019] usbcore: registered new interface driver cdc_subset
[    1.655082] usbcore: registered new interface driver zaurus
[    1.655188] usbcore: registered new interface driver cdc_ncm
[    1.656331] ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver
[    1.656390] ehci-platform: EHCI generic platform driver
[    1.656885] ohci_hcd: USB 1.1 'Open' Host Controller (OHCI) Driver
[    1.656930] ohci-platform: OHCI generic platform driver
[    1.657819] usbcore: registered new interface driver usb-storage
[    1.661469] i2c /dev entries driver
[    1.665934] stm32-cpufreq stm32-cpufreq: Failed to get chip info: -517
[    1.667014] sdhci: Secure Digital Host Controller Interface driver
[    1.667033] sdhci: Copyright(c) Pierre Ossman
[    1.667045] Synopsys Designware Multimedia Card Interface Driver
[    1.667492] sdhci-pltfm: SDHCI platform and OF driver helper
[    1.668745] ledtrig-cpu: registered to indicate activity on CPUs
[    1.668867] SMCCC: SOC_ID: ARCH_SOC_ID not implemented, skipping ....
[    1.669364] usbcore: registered new interface driver usbhid
[    1.669381] usbhid: USB HID core driver
[    1.670839] remoteproc remoteproc0: releasing m4
[    1.673028] NET: Registered protocol family 17
[    1.673073] can: controller area network core
[    1.673211] NET: Registered protocol family 29
[    1.673233] can: raw protocol
[    1.673247] can: broadcast manager protocol
[    1.673269] can: netlink gateway - max_hops=1
[    1.684205] Key type dns_resolver registered
[    1.684393] ThumbEE CPU extension supported.
[    1.684424] Registering SWP/SWPB emulation handler
[    1.684879] registered taskstats version 1
[    1.684908] Loading compiled-in X.509 certificates
[    1.729213] stm32-mdma 58000000.dma-controller: STM32 MDMA driver registered
[    1.731793] stm32-dma 48000000.dma-controller: no dma pool: can't use MDMA: 0
[    1.733417] stm32-dma 48000000.dma-controller: STM32 DMA driver registered
[    1.747907] remoteproc remoteproc0: releasing m4
[    1.748821] /soc/interrupt-controller@5000d000: bank0
[    1.748852] /soc/interrupt-controller@5000d000: bank1
[    1.748872] /soc/interrupt-controller@5000d000: bank2
[    1.751172] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOA bank added
[    1.751655] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOB bank added
[    1.752099] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOC bank added
[    1.752541] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOD bank added
[    1.752949] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOE bank added
[    1.753353] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOF bank added
[    1.753744] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOG bank added
[    1.754364] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOH bank added
[    1.754796] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOI bank added
[    1.755059] stm32mp157-pinctrl soc:pin-controller@50002000: Pinctrl STM32 initialized
[    1.756331] stm32mp157-pinctrl soc:pin-controller-z@54004000: GPIOZ bank added
[    1.756374] stm32mp157-pinctrl soc:pin-controller-z@54004000: Pinctrl STM32 initialized
[    1.759450] stm32-usart 4000e000.serial: failed to get alias id, errno -19
[    1.761625] 40010000.serial: ttySTM0 at MMIO 0x40010000 (irq = 46, base_baud = 4000000) is a stm32-usart
[    2.902345] printk: console [ttySTM0] enabled
[    2.908487] stm32-usart 5c000000.serial: failed to get alias id, errno -19
[    2.916103] stm32-dwmac 5800a000.ethernet: IRQ eth_lpi not found
[    2.920851] stm32-dwmac 5800a000.ethernet: PTP uses main clock
[    2.926616] stm32-dwmac 5800a000.ethernet: no reset control found
[    2.933353] stm32-dwmac 5800a000.ethernet: User ID: 0x40, Synopsys ID: 0x42
[    2.939671] stm32-dwmac 5800a000.ethernet: 	DWMAC4/5
[    2.944609] stm32-dwmac 5800a000.ethernet: DMA HW capability register supported
[    2.951889] stm32-dwmac 5800a000.ethernet: RX Checksum Offload Engine supported
[    2.959248] stm32-dwmac 5800a000.ethernet: TX Checksum insertion supported
[    2.966126] stm32-dwmac 5800a000.ethernet: Wake-Up On Lan supported
[    2.972524] stm32-dwmac 5800a000.ethernet: TSO supported
[    2.977759] stm32-dwmac 5800a000.ethernet: Enable RX Mitigation via HW Watchdog Timer
[    2.985583] stm32-dwmac 5800a000.ethernet: Enabled Flow TC (entries=2)
[    2.992091] stm32-dwmac 5800a000.ethernet: TSO feature enabled
[    2.997960] stm32-dwmac 5800a000.ethernet: Using 32 bits DMA width
[    3.005465] libphy: stmmac: probed
[    3.007532] mdio_bus stmmac-0: fixed-link has invalid PHY address
[    3.015716] mdio_bus stmmac-0: scan phy fixed-link at address 1
[    3.029602] stm32_rtc 5c004000.rtc: registered as rtc0
[    3.033369] stm32_rtc 5c004000.rtc: setting system clock to 2000-01-01T00:02:42 UTC (946684962)
[    3.042941] stm32_rtc 5c004000.rtc: Date/Time must be initialized
[    3.048249] stm32_rtc 5c004000.rtc: registered rev:1.2
[    3.076458] stpmic1 0-0033: PMIC Chip Version: 0x21
[    3.089861] vddcore: supplied by regulator-dummy
[    3.096652] vdd_ddr: supplied by regulator-dummy
[    3.103357] vdd: supplied by regulator-dummy
[    3.110260] v3v3: supplied by regulator-dummy
[    3.116354] v3v3_env: supplied by v3v3
[    3.124465] v3v3_eth0: supplied by vin
[    3.130721] vtt_ddr: supplied by vdd_ddr
[    3.134125] vdd_usb: supplied by regulator-dummy
[    3.141924] vdda: supplied by regulator-dummy
[    3.149056] v3v3_cam: supplied by v3v3
[    3.155447] stpmic1-regulator 40013000.i2c:stpmic@33:regulators: Supply for VREF_DDR (vref_ddr) resolved to itself
[    3.164433] vref_ddr: supplied by regulator-dummy
[    3.170020] bst_out: supplied by regulator-dummy
[    3.175074] vbus_otg: supplied by bst_out
[    3.179280] vbus_sw: supplied by bst_out
[    3.186745] input: pmic_onkey as /devices/platform/soc/40013000.i2c/i2c-0/0-0033/40013000.i2c:stpmic@33:onkey/input/input0
[    3.197566] stm32f7-i2c 40013000.i2c: STM32F7 I2C-0 bus adapter
[    3.222736] stm32f7-i2c 5c002000.i2c: using dma0chan0 (tx) and dma0chan1 (rx) for DMA transfers
[    3.230779] stm32f7-i2c 5c002000.i2c: STM32F7 I2C-1 bus adapter
[    3.256512] stm32f7-i2c 5c009000.i2c: using dma0chan2 (tx) and dma0chan3 (rx) for DMA transfers
[    3.264560] stm32f7-i2c 5c009000.i2c: STM32F7 I2C-2 bus adapter
[    3.272616] mmci-pl18x 58007000.sdmmc: mmc0: PL180 manf 53 rev2 at 0x58007000 irq 42,0 (pio)
[    3.310987] stm32-ipcc 4c001000.mailbox: ipcc rev:1.0 enabled, 6 chans, proc 0
[    3.319731] stm32-rproc 10000000.m4: wdg irq registered
[    3.325875] remoteproc remoteproc0: m4 is available
[    3.331645] stm32-usbphyc 5a006000.usbphyc: registered rev:1.0
[    3.340029] dwc2 49000000.usb-otg: supply vusb_d not found, using dummy regulator
[    3.346547] dwc2 49000000.usb-otg: supply vusb_a not found, using dummy regulator
[    3.390301] mmc0: new DDR MMC card at address 0001
[    3.395062] mmcblk0: mmc0:0001 M62704 3.56 GiB 
[    3.398826] mmcblk0boot0: mmc0:0001 M62704 partition 1 2.00 MiB
[    3.405003] mmcblk0boot1: mmc0:0001 M62704 partition 2 2.00 MiB
[    3.410461] mmcblk0rpmb: mmc0:0001 M62704 partition 3 512 KiB, chardev (243:0)
[    3.429493]  mmcblk0: p1 p2 p3 p4 p5
[    3.484252] dwc2 49000000.usb-otg: EPs: 9, dedicated fifos, 952 entries in SPRAM
[    3.490938] dwc2 49000000.usb-otg: DWC OTG Controller
[    3.495465] dwc2 49000000.usb-otg: new USB bus registered, assigned bus number 1
[    3.502745] dwc2 49000000.usb-otg: irq 69, io mem 0x49000000
[    3.509750] hub 1-0:1.0: USB hub found
[    3.512179] hub 1-0:1.0: 1 port detected
[    3.518792] ehci-platform 5800d000.usbh-ehci: EHCI Host Controller
[    3.523565] ehci-platform 5800d000.usbh-ehci: new USB bus registered, assigned bus number 2
[    3.532840] ehci-platform 5800d000.usbh-ehci: irq 48, io mem 0x5800d000
[    3.563859] ehci-platform 5800d000.usbh-ehci: USB 2.0 started, EHCI 1.00
[    3.570555] hub 2-0:1.0: USB hub found
[    3.572935] hub 2-0:1.0: 2 ports detected
[    3.579177] ohci-platform 5800c000.usbh-ohci: Generic Platform OHCI controller
[    3.585102] ohci-platform 5800c000.usbh-ohci: new USB bus registered, assigned bus number 3
[    3.593881] ohci-platform 5800c000.usbh-ohci: irq 44, io mem 0x5800c000
[    3.669142] hub 3-0:1.0: USB hub found
[    3.671508] hub 3-0:1.0: 2 ports detected
[    3.791231] EXT4-fs (mmcblk0p4): recovery complete
[    3.795380] EXT4-fs (mmcblk0p4): mounted filesystem with ordered data mode. Opts: (null)
[    3.802797] VFS: Mounted root (ext4 filesystem) on device 179:4.
[    3.809792] devtmpfs: mounted
[    3.813945] Freeing unused kernel memory: 1024K
[    3.817418] Run /sbin/init as init process
[    3.997951] systemd[1]: System time before build time, advancing clock.
[    4.110561] NET: Registered protocol family 10
[    4.146122] Segment Routing with IPv6
[    4.169871] systemd[1]: systemd 244.5+ running in system mode. (-PAM -AUDIT -SELINUX +IMA -APPARMOR -SMACK +SYSVINIT +UTMP -LIBCRYPTSETUP -GCRYPT -GNUTLS +ACL +XZ -LZ4 -SECCOMP +BLKID -ELFUTILS +KMOD -IDN2 -IDN -PCRE2 default-hierarchy=hybrid)
[    4.196252] systemd[1]: Detected architecture arm.

Welcome to Poky (Yocto Project Reference Distro) 3.1.19 (dunfell)!

[    4.304916] systemd[1]: Set hostname to <stm32mp1>.
[    4.315985] systemd[1]: Hardware watchdog 'STM32 Independent Watchdog', version 0
[    4.323154] systemd[1]: Set hardware watchdog to 32s.
[    5.085569] systemd[1]: Created slice system-getty.slice.
[  OK  ] Created slice system-getty.slice.
[    5.116524] systemd[1]: Created slice system-serial\x2dgetty.slice.
[  OK  ] Created slice system-serial\x2dgetty.slice.
[    5.146402] systemd[1]: Created slice User and Session Slice.
[  OK  ] Created slice User and Session Slice.
[    5.174732] systemd[1]: Started Dispatch Password Requests to Console Directory Watch.
[  OK  ] Started Dispatch Password â¦ts to Console Directory Watch.
[    5.204605] systemd[1]: Started Forward Password Requests to Wall Directory Watch.
[  OK  ] Started Forward Password Râ¦uests to Wall Directory Watch.
[    5.234390] systemd[1]: Reached target Host and Network Name Lookups.
[  OK  ] Reached target Host and Network Name Lookups.
[    5.264111] systemd[1]: Reached target Paths.
[  OK  ] Reached target Paths.
[    5.294111] systemd[1]: Reached target Remote File Systems.
[  OK  ] Reached target Remote File Systems.
[    5.324096] systemd[1]: Reached target Slices.
[  OK  ] Reached target Slices.
[    5.354201] systemd[1]: Reached target Swap.
[  OK  ] Reached target Swap.
[    5.385325] systemd[1]: Listening on Syslog Socket.
[  OK  ] Listening on Syslog Socket.
[    5.414745] systemd[1]: Listening on initctl Compatibility Named Pipe.
[  OK  ] Listening on initctl Compatibility Named Pipe.
[    5.451033] systemd[1]: Condition check resulted in Journal Audit Socket being skipped.
[    5.458917] systemd[1]: Listening on Journal Socket (/dev/log).
[  OK  ] Listening on Journal Socket (/dev/log).
[    5.495197] systemd[1]: Listening on Journal Socket.
[  OK  ] Listening on Journal Socket.
[    5.525549] systemd[1]: Listening on Network Service Netlink Socket.
[  OK  ] Listening on Network Service Netlink Socket.
[    5.555158] systemd[1]: Listening on udev Control Socket.
[  OK  ] Listening on udev Control Socket.
[    5.584873] systemd[1]: Listening on udev Kernel Socket.
[  OK  ] Listening on udev Kernel Socket.
[    5.615271] systemd[1]: Condition check resulted in Huge Pages File System being skipped.
[    5.629573] systemd[1]: Mounting POSIX Message Queue File System...
         Mounting POSIX Message Queue File System...
[    5.671428] systemd[1]: Mounting Kernel Debug File System...
         Mounting Kernel Debug File System...
[    5.712071] systemd[1]: Mounting Temporary Directory (/tmp)...
         Mounting Temporary Directory (/tmp)...
[    5.752090] systemd[1]: Starting Create list of static device nodes for the current kernel...
         Starting Create list of stâ¦odes for the current kernel...
[    5.784533] systemd[1]: Condition check resulted in File System Check on Root Device being skipped.
[    5.802534] systemd[1]: Starting Journal Service...
         Starting Journal Service...
[    5.837265] systemd[1]: Condition check resulted in Load Kernel Modules being skipped.
[    5.851339] systemd[1]: Mounting FUSE Control File System...
         Mounting FUSE Control File System...
[    5.875696] systemd[1]: Mounting Kernel Configuration File System...
         Mounting Kernel Configuration File System...
[    5.920938] systemd[1]: Starting Remount Root and Kernel File Systems...
         Starting Remount Root and Kernel File Systems...
[    5.960853] systemd[1]: Starting Apply Kernel Variables...
[    5.989898] EXT4-fs (mmcblk0p4): re-mounted. Opts: (null)
         Starting Apply Kernel Variables...
[    6.031787] systemd[1]: Starting udev Coldplug all Devices...
         Starting udev Coldplug all Devices...
[    6.092458] systemd[1]: Mounted POSIX Message Queue File System.
[  OK  ] Mounted POSIX Message Queue File System.
[    6.125205] systemd[1]: Started Journal Service.
[  OK  ] Started Journal Service.
[  OK  ] Mounted Kernel Debug File System.
[  OK  ] Mounted Temporary Directory (/tmp).
[  OK  ] Started Create list of staâ¦ nodes for the current kernel.
[  OK  ] Mounted FUSE Control File System.
[  OK  ] Mounted Kernel Configuration File System.
[  OK  ] Started Remount Root and Kernel File Systems.
[  OK  ] Started Apply Kernel Variables.
         Starting Flush Journal to Persistent Storage...
[    6.410483] systemd-journald[106]: Received client request to flush runtime journal.
         Starting Create Static Device Nodes in /dev...
[  OK  ] Started Flush Journal to Persistent Storage.
[  OK  ] Started Create Static Device Nodes in /dev.
[  OK  ] Reached target Local File Systems (Pre).
         Mounting /var/volatile...
         Starting udev Kernel Device Manager...
[  OK  ] Mounted /var/volatile.
         Starting Load/Save Random Seed...
[  OK  ] Reached target Local File Systems.
         Starting Create Volatile Files and Directories...
[  OK  ] Started Load/Save Random Seed.
[  OK  ] Started Create Volatile Files and Directories.
[  OK  ] Started udev Kernel Device Manager.
         Starting Network Time Synchronization...
         Starting Update UTMP about System Boot/Shutdown...
[  OK  ] Started udev Coldplug all Devices.
         Starting udev Wait for Complete Device Initialization...
[  OK  ] Started Update UTMP about System Boot/Shutdown.
[  OK  ] Started Network Time Synchronization.
[  OK  ] Reached target System Time Set.
[  OK  ] Reached target System Time Synchronized.
[    8.028816] spidev@0 enforce active low on chipselect handle
[    8.034964] spi_stm32 4000b000.spi: driver initialized
[  OK  ] Reached target Hardware activated USB gadget.
[    8.404218] etnaviv etnaviv: bound 59000000.gpu (ops gpu_ops [etnaviv])
[    8.409425] etnaviv-gpu 59000000.gpu: model: GC400, revision: 4652
[    8.462613] etnaviv-gpu 59000000.gpu: Need to move linear window on MC1.0, disabling TS
[    8.485264] [drm] Initialized etnaviv 1.3.0 20151214 for etnaviv on minor 0
[  OK  ] Started udev Wait for Complete Device Initialization.
[  OK  ] Listening on Load/Save RF â¦itch Status /dev/rfkill Watch.
[  OK  ] Started Hardware RNG Entropy Gatherer Daemon.
[  OK  ] Reached target System Initialization.
[  OK  ] Started Daily Cleanup of Temporary Directories.
[  OK  ] Reached target Timers.
[  OK  ] Listening on D-Bus System Message Bus Socket.
         Starting sshd.socket.
[  OK  ] Listening on sshd.socket.
[  OK  ] Reached target Sockets.
[  OK  ] Reached target Basic System.
[  OK  ] Started Kernel Logging Service.
[  OK  ] Started System Logging Service.
[  OK  ] Started D-Bus System Message Bus.
[  OK  ] Started Getty on tty1.
         Starting IPv6 Packet Filtering Framework...
         Starting IPv4 Packet Filtering Framework...
         Starting Telephony service...
[  OK  ] Started Serial Getty on ttySTM0.
[  OK  ] Reached target Login Prompts.
         Starting Login Service...
[  OK  ] Started IPv6 Packet Filtering Framework.
[  OK  ] Started IPv4 Packet Filtering Framework.
[  OK  ] Reached target Network (Pre).
         Starting Connection service...
         Starting Network Service...
[  OK  ] Started Telephony service.
[   10.733118] Bluetooth: Core ver 2.22
[   10.744439] NET: Registered protocol family 31
[   10.764720] Bluetooth: HCI device and connection manager initialized
[   10.769677] Bluetooth: HCI socket layer initialized
[   10.794431] Bluetooth: L2CAP socket layer initialized
[   10.798113] Bluetooth: SCO socket layer initialized
[  OK  ] Started Connection service.
[  OK  ] Started Network Service.
[   11.369799] stm32-dwmac 5800a000.ethernet eth0: validation of rmii with support 0000000,00000000,00006280 and advertisement 0000000,00000000,00006280 failed: -22
[   11.424530] stm32-dwmac 5800a000.ethernet eth0: no phy at addr -1
[   11.429205] stm32-dwmac 5800a000.ethernet eth0: stmmac_open: Cannot attach to PHY (error: -19)
         Starting WPA supplicant...
[   11.534443] stm32-dwmac 5800a000.ethernet eth0: validation of rmii with support 0000000,00000000,00006280 and advertisement 0000000,00000000,00006280 failed: -22
         Starting Hostname Service...
[   11.598409] stm32-dwmac 5800a000.ethernet eth0: no phy at addr -1
[   11.610185] stm32-dwmac 5800a000.ethernet eth0: stmmac_open: Cannot attach to PHY (error: -19)
[  OK  ] Started WPA supplicant.
[  OK  ] Reached target Network.
[  OK  ] Started Login Service.
[  OK  ] Reached target Multi-User System.
         Starting Update UTMP about System Runlevel Changes...
[  OK  ] Started Update UTMP about System Runlevel Changes.
[  OK  ] Started Hostname Service.

Poky (Yocto Project Reference Distro) 3.1.19 stm32mp1 ttySTM0

stm32mp1 login: root
root@stm32mp1:~# 
root@stm32mp1:~# sh stm32_usbotg_eth_config.sh restart 
Stop usb gadget
Nothing to do
Start usb gadget
[   33.312785] using random self ethernet address
[   33.315913] using random host ethernet address
[   33.392835] usb0: HOST MAC 82:29:8b:55:d9:57
[   33.414990] usb0: MAC 4a:e7:0d:30:2d:6e
[   33.417450] dwc2 49000000.usb-otg: bound driver configfs-gadget
root@stm32mp1:~# [   33.753941] vdda: disabling

root@stm32mp1:~# [   47.111001] dwc2 49000000.usb-otg: new device is high-speed
[   47.244444] dwc2 49000000.usb-otg: new device is high-speed
[   47.320732] dwc2 49000000.usb-otg: new address 2
[   52.623137] dwc2 49000000.usb-otg: new device is high-speed
[   52.627295] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
sh stm32_usbotg_eth_config.sh restart 
Stop usb gadget
Start usb gadget
[   58.300002] using random self ethernet address
[   58.303014] using random host ethernet address
[   58.382827] usb0: HOST MAC 26:bb:93:13:ad:9f
[   58.394978] usb0: MAC 66:2e:c6:01:b5:9e
[   58.397430] dwc2 49000000.usb-otg: bound driver configfs-gadget
[   58.599060] dwc2 49000000.usb-otg: new device is high-speed
[   58.728658] dwc2 49000000.usb-otg: new device is high-speed
root@stm32mp1:~# [   58.805072] dwc2 49000000.usb-otg: new address 2
[   63.887304] dwc2 49000000.usb-otg: new device is high-speed
[   63.891466] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[   69.262949] dwc2 49000000.usb-otg: new device is high-speed
[   69.267110] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[   84.879090] dwc2 49000000.usb-otg: new device is high-speed
[   84.883249] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[   85.431073] dwc2 49000000.usb-otg: new device is high-speed
[   85.435234] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[   85.499074] dwc2 49000000.usb-otg: new device is high-speed
[   85.503230] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[   96.607280] dwc2 49000000.usb-otg: new device is high-speed
[   96.611439] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
^C
root@stm32mp1:~# sh stm32_usbotg_eth_config.sh restart restart^C
root@stm32mp1:~# cd /usr/bin
root@stm32mp1:/usr/bin# vi st32_`         ls
PWR_STOP_CoPro_CM4.elf              fgconsole.kbd                       logname                             setsid
[                                   find                                lzcat                               setup_vars_opencv4.sh
[[                                  flock                               makedb                              setvtrgb
autofocus                           free                                mapscrn                             sexp-conv
awk                                 fuser                               md5sum                              sg
basename                            gapplication                        mesg                                sha1sum
bccmd                               gdbus                               microcom                            sha256sum
bluemoon                            gencat                              mkfifo                              showconsolefont
bluetoothctl                        getconf                             mpicalc                             showkey
btattach                            getent                              mpris-proxy                         showkey.kbd
btmon                               getkeycodes                         nc                                  shuf
bunzip2                             gio                                 nettle-hash                         sort
busctl                              gio-launch-desktop                  nettle-lfib-stream                  sprof
bzcat                               glib-compile-resources              nettle-pbkdf2                       ssh
bzip2                               glib-compile-schemas                newgidmap                           ssh-keygen
c_rehash                            glib-genmarshal                     newgrp                              ssh.openssh
capture_image                       glib-gettextize                     newgrp.shadow                       stm32_usbotg_eth_config.sh
capture_image.sh                    glib-mkenums                        newuidmap                           strings
chage                               gobject-query                       nohup                               systemd-cat
chfn                                gpasswd                             nosetests                           systemd-cgls
chfn.shadow                         gpio.elf                            nosetests-3.8                       systemd-cgtop
chsh                                gpiodetect                          nproc                               systemd-delta
chsh.shadow                         gpiofind                            nslookup                            systemd-detect-virt
chvt                                gpioget                             od                                  systemd-id128
chvt.kbd                            gpioinfo                            opencv_annotation                   systemd-mount
ciptool                             gpiomon                             opencv_interactive-calibration      systemd-path
clear                               gpioset                             opencv_version                      systemd-resolve
cmp                                 gresource                           opencv_visualisation                systemd-run
connmanctl                          groups                              opencv_waldboost_detector           systemd-socket-activate
controller_A7.sh                    groups.shadow                       openssl                             systemd-stdio-bridge
controller_M4.sh                    gsettings                           openvt                              systemd-umount
crystal_detection                   gst-inspect-1.0                     openvt.kbd                          tail
cut                                 gst-launch-1.0                      pango-list                          tee
dbus-cleanup-sockets                gst-stats-1.0                       pango-view                          telnet
dbus-daemon                         gst-typefind-1.0                    passwd                              test
dbus-launch                         gtester                             passwd.shadow                       tftp
dbus-monitor                        gtester-report                      patch                               time
dbus-run-session                    gtk-launch                          pcprofiledump                       timedatectl
dbus-send                           gtk-query-immodules-3.0             pkcs1-conv                          top
dbus-update-activation-environment  gtk-update-icon-cache               pldd                                tr
dbus-uuidgen                        gtk-update-icon-cache-3.0           printf                              traceroute
dc                                  hciattach                           psfaddtable                         ts
deallocvt                           hciconfig                           psfgettable                         tty
deallocvt.kbd                       hcidump                             psfstriptable                       udpsvd
diff                                hcitool                             psfxtable                           unicode_start
dirname                             head                                pydoc3                              unicode_stop
du                                  hex2hcd                             pydoc3.8                            uniq
dumpkeys                            hexdump                             python3                             unlink
dumpleases                          hostnamectl                         python3.8                           unzip
env                                 i2c_ms8607.elf                      rctest                              update-alternatives
expiry                              iconv                               readlink                            update-mime-database
expr                                id                                  realpath                            uptime
f2py                                iptables-xml                        renice                              users
f2py3                               kbd_mode                            reset                               vlock
f2py3.8                             kbdinfo                             resize                              wc
faillog                             kbdrate                             resolvectl                          wget
fc-cache                            killall                             rfcomm                              which
fc-cat                              l2ping                              rngtest                             who
fc-conflist                         l2test                              scp                                 whoami
fc-list                             lastlog                             scp.openssh                         wpa_passphrase
fc-match                            less                                sdptool                             xargs
fc-pattern                          loadkeys                            seq                                 xzcat
fc-query                            loadunimap                          setfont                             yat2m
fc-scan                             locale                              setkeycodes                         yes
fc-validate                         localectl                           setleds
fgconsole                           logger                              setmetamode
root@stm32mp1:/usr/bin# 
root@stm32mp1:/usr/bin# lscd /usr/binsh stm32_usbotg_eth_config.sh restart 
Stop usb gadget
Start usb gadget
[  778.154744] using random self ethernet address
[  778.157755] using random host ethernet address
[  778.192871] usb0: HOST MAC d6:75:6b:d8:cc:04
[  778.196403] usb0: MAC d6:d1:eb:ec:ce:84
[  778.199596] dwc2 49000000.usb-otg: bound driver configfs-gadget
[  778.403782] dwc2 49000000.usb-otg: new device is high-speed
root@stm32mp1:/usr/bin# [  778.533167] dwc2 49000000.usb-otg: new device is high-speed
[  778.609706] dwc2 49000000.usb-otg: new address 2
[  783.759834] dwc2 49000000.usb-otg: new device is high-speed
[  783.763993] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[  789.135596] dwc2 49000000.usb-otg: new device is high-speed
[  789.139757] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
^C
root@stm32mp1:/usr/bin# [  804.751112] dwc2 49000000.usb-otg: new device is high-speed
[  804.755268] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[  805.303315] dwc2 49000000.usb-otg: new device is high-speed
[  805.307475] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[  805.371374] dwc2 49000000.usb-otg: new device is high-speed
[  805.375532] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
vi st
stm32_usbotg_eth_config.sh  strings                     
root@stm32mp1:/usr/bin# vi st
stm32_usbotg_eth_config.sh  strings                     
root@stm32mp1:/usr/bin# vi stm32_usbotg_eth_config.sh 
#!/bin/sh#add stm32_eth_config script to enable USB Ethernet & MSC gadget This script configures USB Gadget#configfs to use USB OTG as a USB Ethernet Gadget with Remote NDIS (RNDIS), well supported by Microsoft#Windows and Linux.configfs="/sys/kernel/config/usb_gadget"g=g1c=c.1d="${configfs}/${g}"func_eth=ncm.0# func_ms=mass_storage.0VENDOR_ID="0x1d6b"PRODUCT_ID="0x0104"IPv4=169.254.128.28- stm32_usbotg_eth_config.sh 1/136 0%- stm32_usbotg_eth_config.sh 2/136 1%[  816.479287] dwc2 49000000.usb-otg: new device is high-speed
[  816.483446] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
- stm32_usbotg_eth_config.sh 1/136 0%!/bin/sh - stm32_usbotg_eth_config.sh [Modified] 1/136 0%/bin/sh bin/sh in/sh n/sh /sh sh h  #add stm32_eth_config script to enable USB Ethernet & MSC gadget This script configures USB Gadgetconfigfs to use USB OTG as a USB Ethernet Gadget with Remote NDIS (RNDIS), well supported by MicrosoftWindows and Linux.                                                                                                       configfs="/sys/kernel/config/usb_gadget"g=g1                                    c=c.1d="${configfs}/${g}"func_eth=ncm.0      # func_ms=mass_storage.0                        VENDOR_ID="0x1d6b"PRODUCT_ID="0x0104"                   IPv4=169.254.128.28BROADCAST=169.254.255.255- stm32_usbotg_eth_config.sh [Modified] 1/135 0%#add stm32_eth_config script to enable USB Ethernet & MSC gadget This script configures USB Gadgetconfigfs to use USB OTG as a USB Ethernet Gadget with Remote NDIS (RNDIS), well supported by MicrosoftWindows and Linux.                                                                                                       configfs="/sys/kernel/config/usb_gadget"g=g1                                    c=c.1d="${configfs}/${g}"func_eth=ncm.0      # func_ms=mass_storage.0                        VENDOR_ID="0x1d6b"PRODUCT_ID="0x0104"                   IPv4=169.254.128.28BROADCAST=169.254.255.255NETMASK=255.255.0.0      - stm32_usbotg_eth_config.sh [Modified] 1/134 0%add stm32_eth_config script to enable USB Ethernet & MSC gadget This script configures USB Gadget dd stm32_eth_config script to enable USB Ethernet & MSC gadget This script configures USB Gadget  stm32_eth_config script to enable USB Ethernet & MSC gadget This script configures USB Gadget  stm32_eth_config script to enable USB Ethernet & MSC gadget This script configures USB Gadget stm32_eth_config script to enable USB Ethernet & MSC gadget This script configures USB Gadget tm32_eth_config script to enable USB Ethernet & MSC gadget This script configures USB Gadget m32_eth_config script to enable USB Ethernet & MSC gadget This script configures USB Gadget 32_eth_config script to enable USB Ethernet & MSC gadget This script configures USB Gadget 2_eth_config script to enable USB Ethernet & MSC gadget This script configures USB Gadget _eth_config script to enable USB Ethernet & MSC gadget This script configures USB Gadget eth_config script to enable USB Ethernet & MSC gadget This script configures USB Gadget th_config script to enable USB Ethernet & MSC gadget This script configures USB Gadget h_config script to enable USB Ethernet & MSC gadget This script configures USB Gadget _config script to enable USB Ethernet & MSC gadget This script configures USB Gadget config script to enable USB Ethernet & MSC gadget This script configures USB Gadget onfig script to enable USB Ethernet & MSC gadget This script configures USB Gadget nfig script to enable USB Ethernet & MSC gadget This script configures USB Gadget fig script to enable USB Ethernet & MSC gadget This script configures USB Gadget ig script to enable USB Ethernet & MSC gadget This script configures USB Gadget g script to enable USB Ethernet & MSC gadget This script configures USB Gadget  script to enable USB Ethernet & MSC gadget This script configures USB Gadget script to enable USB Ethernet & MSC gadget This script configures USB Gadget cript to enable USB Ethernet & MSC gadget This script configures USB Gadget ript to enable USB Ethernet & MSC gadget This script configures USB Gadget ipt to enable USB Ethernet & MSC gadget This script configures USB Gadget pt to enable USB Ethernet & MSC gadget This script configures USB Gadget t to enable USB Ethernet & MSC gadget This script configures USB Gadget  to enable USB Ethernet & MSC gadget This script configures USB Gadget to enable USB Ethernet & MSC gadget This script configures USB Gadget o enable USB Ethernet & MSC gadget This script configures USB Gadget  enable USB Ethernet & MSC gadget This script configures USB Gadget enable USB Ethernet & MSC gadget This script configures USB Gadget nable USB Ethernet & MSC gadget This script configures USB Gadget able USB Ethernet & MSC gadget This script configures USB Gadget ble USB Ethernet & MSC gadget This script configures USB Gadget le USB Ethernet & MSC gadget This script configures USB Gadget e USB Ethernet & MSC gadget This script configures USB Gadget  USB Ethernet & MSC gadget This script configures USB Gadget USB Ethernet & MSC gadget This script configures USB Gadget SB Ethernet & MSC gadget This script configures USB Gadget B Ethernet & MSC gadget This script configures USB Gadget  Ethernet & MSC gadget This script configures USB Gadget Ethernet & MSC gadget This script configures USB Gadget thernet & MSC gadget This script configures USB Gadget hernet & MSC gadget This script configures USB Gadget ernet & MSC gadget This script configures USB Gadget rnet & MSC gadget This script configures USB Gadget net & MSC gadget This script configures USB Gadget et & MSC gadget This script configures USB Gadget t & MSC gadget This script configures USB Gadget  & MSC gadget This script configures USB Gadget & MSC gadget This script configures USB Gadget  MSC gadget This script configures USB Gadget MSC gadget This script configures USB Gadget SC gadget This script configures USB Gadget C gadget This script configures USB Gadget  gadget This script configures USB Gadget gadget This script configures USB Gadget adget This script configures USB Gadget dget This script configures USB Gadget get This script configures USB Gadget et This script configures USB Gadget t This script configures USB Gadget  This script configures USB Gadget This script configures USB Gadget his script configures USB Gadget is script configures USB Gadget s script configures USB Gadget  script configures USB Gadget script configures USB Gadget cript configures USB Gadget ript configures USB Gadget ipt configures USB Gadget pt configures USB Gadget t configures USB Gadget  configures USB Gadget configures USB Gadget onfigures USB Gadget nfigures USB Gadget figures USB Gadget igures USB Gadget gures USB Gadget ures USB Gadget res USB Gadget es USB Gadget s USB Gadget  USB Gadget USB Gadget SB Gadget B Gadget  Gadget Gadget adget dget get et t  #configfs to use USB OTG as a USB Ethernet Gadget with Remote NDIS (RNDIS), well supported by MicrosoftWindows and Linux.                                                                                                       configfs="/sys/kernel/config/usb_gadget"g=g1                                    c=c.1d="${configfs}/${g}"func_eth=ncm.0      # func_ms=mass_storage.0                        VENDOR_ID="0x1d6b"PRODUCT_ID="0x0104"                   IPv4=169.254.128.28BROADCAST=169.254.255.255NETMASK=255.255.0.0                         - stm32_usbotg_eth_config.sh [Modified] 1/133 0%configfs to use USB OTG as a USB Ethernet Gadget with Remote NDIS (RNDIS), well supported by Microsoft onfigfs to use USB OTG as a USB Ethernet Gadget with Remote NDIS (RNDIS), well supported by Microsoft nfigfs to use USB OTG as a USB Ethernet Gadget with Remote NDIS (RNDIS), well supported by Microsoft figfs to use USB OTG as a USB Ethernet Gadget with Remote NDIS (RNDIS), well supported by Microsoft igfs to use USB OTG as a USB Ethernet Gadget with Remote NDIS (RNDIS), well supported by Microsoft gfs to use USB OTG as a USB Ethernet Gadget with Remote NDIS (RNDIS), well supported by Microsoft fs to use USB OTG as a USB Ethernet Gadget with Remote NDIS (RNDIS), well supported by Microsoft s to use USB OTG as a USB Ethernet Gadget with Remote NDIS (RNDIS), well supported by Microsoft '^A' is not implemented- stm32_usbotg_eth_config.sh [Modified] 1/133 0%'^A' is not implemented- stm32_usbotg_eth_config.sh [Modified] 1/133 0%- stm32_usbotg_eth_config.sh [Modified] 1/133 0%:qNo write since last change (:q! overrides)- stm32_usbotg_eth_config.sh [Modified] 1/133 0%- stm32_usbotg_eth_config.sh [Modified] 1/133 0%:q!- stm32_usbotg_eth_config.sh [Modified] 1/133 0%root@stm32mp1:/usr/bin# reboot
[  OK  ] Stopped target Multi-User System.
[  OK  ] Stopped target Login Prompts.
[  OK  ] Stopped target Network.
[  OK  ] Stopped target Host and Network Name Lookups.
[  OK  ] Stopped target Remote File Systems.
[  OK  ] Stopped target System Time Synchronized.
[  OK  ] Stopped target System Time Set.
[  OK  ] Stopped target Timers.
[  OK  ] Stopped Daily Cleanup of Temporary Directories.
[  OK  ] Stopped target Hardware activated USB gadget.
[  OK  ] Closed Load/Save RF Kill Switch Status /dev/rfkill Watch.
         Stopping Kernel Logging Service...
         Stopping System Logging Service...
         Stopping Connection          Stopping Serial Getty on ttySTM0...
         Stopping Login Service...
         Stopping Network Service...
         Stopping Load/Save Random Seed...
         Stopping WPA supplicant...
[  OK  ] Stopped Kernel Logging Service.
[  OK  ] Stopped System Logging Service.
[  OK  ] Stopped Getty on tty1.
[  OK  ] Stopped Telephony service.
[  OK  ] Stopped Serial Getty on ttySTM0.
[  OK  ] Stopped Connection service.
[  OK  ] Stopped Network Service.
[  OK  ] Stopped Login Service.
[  OK  ] Stopped WPA supplicant.
[  OK  ] Stopped Load/Save Random Seed.
[  OK  ] Removed slice system-getty.slice.
[  OK  ] Removed slice system-serial\x2dgetty.slice.
[  OK  ] Stopped target Network (Pre).
         Stopping D-Bus System Message Bus...
[  OK  ] Stopped IPv6 Packet Filtering Framework.
[  OK  ] Stopped IPv4 Packet Filtering Framework.
[  OK  ] Stopped D-Bus System Message Bus.
[  OK  ] Stopped target Basic System.
[  OK  ] Stopped target Paths.
[  OK  ] Stopped Dispatch Password â¦ts to Console Directory Watch.
[  OK  ] Stopped Forward Password Râ¦uests to Wall Directory Watch.
[  OK  ] Stopped target Slices.
[  OK  ] Removed slice User and Session Slice.
[  OK  ] Stopped target Sockets.
[  OK  ] Closed D-Bus System Message Bus Socket.
[  OK  ] Closed sshd.socket.
[  OK  ] Stopped target System Initialization.
[  OK  ] Closed Syslog Socket.
         Stopping Hardware RNG Entropy Gatherer Daemon...
[  OK  ] Stopped Apply Kernel Variables.
         Stopping Network Time Synchronization...
[  OK  ] Stopped Network Time Synchronization.
[  OK  ] Stopped Hardware RNG Entropy Gatherer Daemon.
[  OK  ] Stopped Create Volatile Files and Directories.
[  OK  ] Stopped target Local File Systems.
         Unmounting Temporary Directory (/tmp)...
         Unmounting /var/volatile...
[  OK  ] Unmounted Temporary Directory (/tmp).
[  OK  ] Unmounted /var/volatile.
[  OK  ] Stopped target Local File Systems (Pre).
[  OK  ] Stopped target Swap.
[  OK  ] Reached target Unmount All Filesystems.
[  OK  ] Stopped Remount Root and Kernel File Systems.
[  OK  ] Stopped Create Static Device Nodes in /dev.
[  OK  ] Reached target Shutdown.
[  OK  ] Reached target Final Step.
[  OK  ] Started Reboot.
[  OK  ] Reached target Reboot.
[  844.590910] watchdog: watchdog0: watchdog did not stop!
[  844.632007] systemd-shutdown[1]: Syncing filesystems and block devices.
[  844.643399] systemd-shutdown[1]: Sending SIGTERM to remaining processes...
[  844.664486] systemd-journald[106]: Received SIGTERM from PID 1 (systemd-shutdow).
[  844.684233] systemd-shutdown[1]: Sending SIGKILL to remaining processes...
[  844.700085] systemd-shutdown[1]: Hardware watchdog 'STM32 Independent Watchdog', version 0
[  844.711533] systemd-shutdown[1]: Unmounting file systems.
[  844.721054] [285]: Remounting '/' read-only in with options '(null)'.
[  844.735170] EXT4-fs (mmcblk0p4): re-mounted. Opts: (null)
[  844.747098] systemd-shutdown[1]: All filesystems unmounted.
[  844.751265] systemd-shutdown[1]: Deactivating swaps.
[  844.756703] systemd-shutdown[1]: All swaps deactivated.
[  844.761462] systemd-shutdown[1]: Detaching loop devices.
[  844.775232] systemd-shutdown[1]: All loop devices detached.
[  844.779392] systemd-shutdown[1]: Detaching DM devices.
[  844.785260] systemd-shutdown[1]: All DM devices detached.
[  844.789945] systemd-shutdown[1]: All filesystems, swaps, loop devices and DM devices detached.
[  844.810279] systemd-shutdown[1]: Syncing filesystems and block devices.
[  844.816359] systemd-shutdown[1]: Rebooting.
[  844.900993] reboot: Restarting system
INFO:    PSCI Power Domain Map:
INFO:      Domain Node : Level 1, parent_node -1, State ON (0x0)
INFO:      Domain Node : Level 0, parent_node 0, State ON (0x0)
INFO:      CPU Node : MPID 0x0, parent_node 0, State ON (0x0)
INFO:      CPU Node : MPID 0x1, parent_node 0, State ON (0x0)
NOTICE:  CPU: STM32MP157CAC Rev.Z
NOTICE:  Model: STMicroelectronics STM32MP157C-DK2 Discovery Board
INFO:    Reset reason (0x54):
INFO:      System reset generated by MPU (MPSYSRST)
INFO:    PMIC version = 0x21
INFO:    FCONF: Reading TB_FW firmware configuration file from: 0x2ffe3000
INFO:    FCONF: Reading firmware configuration information for: stm32mp_io
INFO:    Using EMMC
INFO:      Instance 2
INFO:    Boot used partition fsbl1
NOTICE:  BL2: v2.4-r1.0(debug):v2.4-dirty
NOTICE:  BL2: Built : 16:43:51, Nov 17 2020
INFO:    BL2: Doing platform setup
INFO:    RAM: DDR3-DDR3L 16bits 533000Khz
WARNING: Couldn't find property st,phy-cal in dtb
INFO:    Memory size = 0x20000000 (512 MB)
INFO:    BL2: Loading image id 31
INFO:    Loading image id=31 at address 0x2ffff000
INFO:    Image id=31 loaded: 0x2ffff000 - 0x2ffff226
INFO:    FCONF: Reading FW_CONFIG firmware configuration file from: 0x2ffff000
INFO:    FCONF: Reading firmware configuration information for: dyn_cfg
INFO:    FCONF: Reading firmware configuration information for: stm32mp1_firewall
INFO:    BL2: Loading image id 4
INFO:    Loading image id=4 at address 0x2ffc5000
INFO:    Image id=4 loaded: 0x2ffc5000 - 0x2ffd847c
WARNING: Not a known TEE, use default loading options.
INFO:    BL2: Skip loading image id 21
INFO:    BL2: Skip loading image id 22
INFO:    BL2: Loading image id 23
INFO:    Loading image id=23 at address 0xc0500000
INFO:    Image id=23 loaded: 0xc0500000 - 0xc0517345
INFO:    BL2: Loading image id 26
INFO:    Loading image id=26 at address 0x2ffc0000
INFO:    Image id=26 loaded: 0x2ffc0000 - 0x2ffc4a5b
INFO:    BL2: Loading image id 5
INFO:    Loading image id=5 at address 0xc0100000
INFO:    Image id=5 loaded: 0xc0100000 - 0xc01cf9d0
NOTICE:  BL2: Booting BL32
INFO:    Entry point address = 0x2ffc5000
INFO:    SPSR = 0x1d3
NOTICE:  SP_MIN: v2.4-r1.0(debug):v2.4-dirty
NOTICE:  SP_MIN: Built : 16:43:51, Nov 17 2020
INFO:    ARM GICv2 driver initialized
WARNING: Timer is not accurate enough for calibration
INFO:    Set calibration timer to 60 sec
INFO:    stm32mp1 IWDG1 is secure
INFO:    SP_MIN: Initializing runtime services
INFO:    SP_MIN: Preparing exit to normal world


U-Boot 2020.10-stm32mp-r1-dirty (Oct 05 2020 - 15:15:32 +0000)

CPU: STM32MP157CAC Rev.Z
Model: Seeed Studio Odyssey-STM32MP157C Board
Board: stm32mp1 in trusted mode (seeed,stm32mp157c-odyssey)
DRAM:  512 MiB
Clocks:
- MPU : 650 MHz
- MCU : 40.878 MHz
- AXI : 266.500 MHz
- PER : 24 MHz
- DDR : 533 MHz
STM32Programmer key pressed, entering download mode...
WDT:   Started with servicing (32s timeout)
NAND:  0 MiB
MMC:   STM32 SD/MMC: 1
Loading Environment from MMC... OK
In:    serial
Out:   serial
Err:   serial
Net:   eth0: ethernet@5800a000
Hit any key to stop autoboot:  0  0
STM32MP> 
STM32MP> ums 0 mmc 1
UMS: LUN 0, dev 1, hwpart 0, sector 0x0, count 0x720000
|/-\|/-\/-\|/-\/-\|crq->brequest:0x0
/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\CTRL+C - Operation aborted
STM32MP> run distro_bootcmd 
switch to partitions #0, OK
mmc1(part 0) is current device
Scanning mmc 1:2...
Found /mmc1_extlinux/extlinux.conf
Retrieving file: /mmc1_extlinux/extlinux.conf
239 bytes read in 29 ms (7.8 KiB/s)
Retrieving file: /splash.bmp
18244 bytes read in 30 ms (593.8 KiB/s)
1:	OpenSTLinux
Retrieving file: /uImage
7455528 bytes read in 347 ms (20.5 MiB/s)
append: root=PARTUUID=491f6117-415d-4f53-88c9-6e0de54deac6 rootwait rw console=ttySTM0,115200
Retrieving file: /stm32mp157c-odyssey.dtb
63513 bytes read in 33 ms (1.8 MiB/s)
## Booting kernel from Legacy Image at c2000000 ...
   Image Name:   Linux-5.10.10
   Created:      2021-01-23  15:04:06 UTC
   Image Type:   ARM Linux Kernel Image (uncompressed)
   Data Size:    7455464 Bytes = 7.1 MiB
   Load Address: c2000040
   Entry Point:  c2000040
   Verifying Checksum ... OK
## Flattened Device Tree blob at c4000000
   Booting using the fdt blob at 0xc4000000
   XIP Kernel Image
   Loading Device Tree to cffed000, end cffff818 ... OK
ETZPC: 0x48001000 node disabled, decprot 89=2

Starting kernel ...

[    0.000000] Booting Linux on physical CPU 0x0
[    0.000000] Linux version 5.10.10 (oe-user@oe-host) (arm-poky-linux-gnueabi-gcc (GCC) 9.3.0, GNU ld (GNU Binutils) 2.34.0.20200220) #1 SMP PREEMPT Sat Jan 23 15:04:06 UTC 2021
[    0.000000] CPU: ARMv7 Processor [410fc075] revision 5 (ARMv7), cr=10c5387d
[    0.000000] CPU: div instructions available: patching division code
[    0.000000] CPU: PIPT / VIPT nonaliasing data cache, VIPT aliasing instruction cache
[    0.000000] OF: fdt: Machine model: Seeed Studio Odyssey-STM32MP157C Board
[    0.000000] Memory policy: Data cache writealloc
[    0.000000] Reserved memory: created DMA memory pool at 0x10000000, size 0 MiB
[    0.000000] OF: reserved mem: initialized node mcuram2@10000000, compatible id shared-dma-pool
[    0.000000] Reserved memory: created DMA memory pool at 0x10040000, size 0 MiB
[    0.000000] OF: reserved mem: initialized node vdev0vring0@10040000, compatible id shared-dma-pool
[    0.000000] Reserved memory: created DMA memory pool at 0x10041000, size 0 MiB
[    0.000000] OF: reserved mem: initialized node vdev0vring1@10041000, compatible id shared-dma-pool
[    0.000000] Reserved memory: created DMA memory pool at 0x10042000, size 0 MiB
[    0.000000] OF: reserved mem: initialized node vdev0buffer@10042000, compatible id shared-dma-pool
[    0.000000] Reserved memory: created DMA memory pool at 0x30000000, size 0 MiB
[    0.000000] OF: reserved mem: initialized node mcuram@30000000, compatible id shared-dma-pool
[    0.000000] Reserved memory: created DMA memory pool at 0x38000000, size 0 MiB
[    0.000000] OF: reserved mem: initialized node retram@38000000, compatible id shared-dma-pool
[    0.000000] cma: Reserved 128 MiB at 0xd8000000
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x00000000c0000000-0x00000000dfffffff]
[    0.000000]   HighMem  empty
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x00000000c0000000-0x00000000d3ffffff]
[    0.000000]   node   0: [mem 0x00000000d8000000-0x00000000dfffffff]
[    0.000000] Initmem setup node 0 [mem 0x00000000c0000000-0x00000000dfffffff]
[    0.000000] psci: probing for conduit method from DT.
[    0.000000] psci: PSCIv1.1 detected in firmware.
[    0.000000] psci: Using standard PSCI v0.2 function IDs
[    0.000000] psci: MIGRATE_INFO_TYPE not supported.
[    0.000000] psci: SMC Calling Convention v1.2
[    0.000000] percpu: Embedded 20 pages/cpu s51788 r8192 d21940 u81920
[    0.000000] Built 1 zonelists, mobility grouping on.  Total pages: 113536
[    0.000000] Kernel command line: root=PARTUUID=491f6117-415d-4f53-88c9-6e0de54deac6 rootwait rw console=ttySTM0,115200
[    0.000000] Dentry cache hash table entries: 65536 (order: 6, 262144 bytes, linear)
[    0.000000] Inode-cache hash table entries: 32768 (order: 5, 131072 bytes, linear)
[    0.000000] mem auto-init: stack:off, heap alloc:off, heap free:off
[    0.000000] Memory: 304684K/458752K available (11264K kernel code, 1206K rwdata, 3312K rodata, 1024K init, 248K bss, 22996K reserved, 131072K cma-reserved, 0K highmem)
[    0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=2, Nodes=1
[    0.000000] rcu: Preemptible hierarchical RCU implementation.
[    0.000000] rcu: 	RCU event tracing is enabled.
[    0.000000] 	Trampoline variant of Tasks RCU enabled.
[    0.000000] 	Tracing variant of Tasks RCU enabled.
[    0.000000] rcu: RCU calculated value of scheduler-enlistment delay is 10 jiffies.
[    0.000000] NR_IRQS: 16, nr_irqs: 16, preallocated irqs: 16
[    0.000000] random: get_random_bytes called from start_kernel+0x390/0x568 with crng_init=0
[    0.000000] arch_timer: cp15 timer(s) running at 24.00MHz (virt).
[    0.000000] clocksource: arch_sys_counter: mask: 0xffffffffffffff max_cycles: 0x588fe9dc0, max_idle_ns: 440795202592 ns
[    0.000009] sched_clock: 56 bits at 24MHz, resolution 41ns, wraps every 4398046511097ns
[    0.000030] Switching to timer-based delay loop, resolution 41ns
[    0.001332] Console: colour dummy device 80x30
[    0.001387] Calibrating delay loop (skipped), value calculated using timer frequency.. 48.00 BogoMIPS (lpj=240000)
[    0.001416] pid_max: default: 32768 minimum: 301
[    0.001677] Mount-cache hash table entries: 1024 (order: 0, 4096 bytes, linear)
[    0.001703] Mountpoint-cache hash table entries: 1024 (order: 0, 4096 bytes, linear)
[    0.003052] CPU: Testing write buffer coherency: ok
[    0.003498] /cpus/cpu@0 missing clock-frequency property
[    0.003543] /cpus/cpu@1 missing clock-frequency property
[    0.003566] CPU0: thread -1, cpu 0, socket 0, mpidr 80000000
[    0.004846] Setting up static identity map for 0xc0100000 - 0xc0100060
[    0.005057] rcu: Hierarchical SRCU implementation.
[    0.006517] smp: Bringing up secondary CPUs ...
[    0.007755] CPU1: thread -1, cpu 1, socket 0, mpidr 80000001
[    0.008011] smp: Brought up 1 node, 2 CPUs
[    0.008043] SMP: Total of 2 processors activated (96.00 BogoMIPS).
[    0.008056] CPU: All CPU(s) started in SVC mode.
[    0.008906] devtmpfs: initialized
[    0.034601] VFP support v0.3: implementor 41 architecture 2 part 30 variant 7 rev 5
[    0.034983] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 19112604462750000 ns
[    0.035021] futex hash table entries: 512 (order: 3, 32768 bytes, linear)
[    0.041271] pinctrl core: initialized pinctrl subsystem
[    0.043252] NET: Registered protocol family 16
[    0.046658] DMA: preallocated 256 KiB pool for atomic coherent allocations
[    0.048548] thermal_sys: Registered thermal governor 'step_wise'
[    0.048954] cpuidle: using governor menu
[    0.049377] hw-breakpoint: found 5 (+1 reserved) breakpoint and 4 watchpoint registers.
[    0.049399] hw-breakpoint: maximum watchpoint size is 8 bytes.
[    0.049921] Serial: AMBA PL011 UART driver
[    0.089675] stm32-pm-domain pm_domain: domain core-ret-power-domain registered
[    0.089725] stm32-pm-domain pm_domain: subdomain core-power-domain registered
[    0.089745] stm32-pm-domain pm_domain: domains probed
[    0.117549] SCSI subsystem initialized
[    0.118432] usbcore: registered new interface driver usbfs
[    0.118525] usbcore: registered new interface driver hub
[    0.118603] usbcore: registered new device driver usb
[    0.118925] pps_core: LinuxPPS API ver. 1 registered
[    0.118943] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti <giometti@linux.it>
[    0.118990] PTP clock support registered
[    0.119873] arm-scmi firmware:scmi0: SCMI Notifications - Core Enabled.
[    0.119966] arm-scmi firmware:scmi0: SCMI Protocol v2.0 'ST:' Firmware version 0x0
[    0.123599] clocksource: Switched to clocksource arch_sys_counter
[    1.570919] NET: Registered protocol family 2
[    1.572217] tcp_listen_portaddr_hash hash table entries: 512 (order: 0, 6144 bytes, linear)
[    1.572403] TCP established hash table entries: 4096 (order: 2, 16384 bytes, linear)
[    1.572478] TCP bind hash table entries: 4096 (order: 3, 32768 bytes, linear)
[    1.572578] TCP: Hash tables configured (established 4096 bind 4096)
[    1.572762] UDP hash table entries: 256 (order: 1, 8192 bytes, linear)
[    1.572817] UDP-Lite hash table entries: 256 (order: 1, 8192 bytes, linear)
[    1.573333] NET: Registered protocol family 1
[    1.574421] RPC: Registered named UNIX socket transport module.
[    1.574452] RPC: Registered udp transport module.
[    1.574465] RPC: Registered tcp transport module.
[    1.574478] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    1.575600] hw perfevents: enabled with armv7_cortex_a7 PMU driver, 5 counters available
[    1.577592] Initialise system trusted keyrings
[    1.578028] workingset: timestamp_bits=14 max_order=17 bucket_order=3
[    1.589121] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    1.590641] NFS: Registering the id_resolver key type
[    1.590697] Key type id_resolver registered
[    1.590713] Key type id_legacy registered
[    1.590910] nfs4filelayout_init: NFSv4 File Layout Driver Registering...
[    1.591107] ntfs: driver 2.1.32 [Flags: R/O].
[    1.591447] jffs2: version 2.2. (NAND) Â 2001-2006 Red Hat, Inc.
[    1.592402] fuse: init (API version 7.32)
[    1.593515] NET: Registered protocol family 38
[    1.593543] Key type asymmetric registered
[    1.593642] Asymmetric key parser 'x509' registered
[    1.593744] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 246)
[    1.593764] io scheduler mq-deadline registered
[    1.593779] io scheduler kyber registered
[    1.600956] reg11: supplied by regulator-dummy
[    1.601383] reg18: supplied by regulator-dummy
[    1.601756] usb33: supplied by regulator-dummy
[    1.606439] STM32 USART driver initialized
[    1.629336] brd: module loaded
[    1.630615] random: fast init done
[    1.635446] random: crng init done
[    1.643952] loop: module loaded
[    1.649827] libphy: Fixed MDIO Bus: probed
[    1.652007] CAN device driver interface
[    1.654043] pegasus: v0.9.3 (2013/04/25), Pegasus/Pegasus II USB Ethernet driver
[    1.654146] usbcore: registered new interface driver pegasus
[    1.654233] usbcore: registered new interface driver asix
[    1.654300] usbcore: registered new interface driver ax88179_178a
[    1.654363] usbcore: registered new interface driver cdc_ether
[    1.654447] usbcore: registered new interface driver smsc75xx
[    1.654543] usbcore: registered new interface driver smsc95xx
[    1.654611] usbcore: registered new interface driver net1080
[    1.654674] usbcore: registered new interface driver cdc_subset
[    1.654735] usbcore: registered new interface driver zaurus
[    1.654839] usbcore: registered new interface driver cdc_ncm
[    1.656004] ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver
[    1.656062] ehci-platform: EHCI generic platform driver
[    1.656558] ohci_hcd: USB 1.1 'Open' Host Controller (OHCI) Driver
[    1.656607] ohci-platform: OHCI generic platform driver
[    1.657468] usbcore: registered new interface driver usb-storage
[    1.661103] i2c /dev entries driver
[    1.665567] stm32-cpufreq stm32-cpufreq: Failed to get chip info: -517
[    1.666629] sdhci: Secure Digital Host Controller Interface driver
[    1.666647] sdhci: Copyright(c) Pierre Ossman
[    1.666660] Synopsys Designware Multimedia Card Interface Driver
[    1.667096] sdhci-pltfm: SDHCI platform and OF driver helper
[    1.668372] ledtrig-cpu: registered to indicate activity on CPUs
[    1.668495] SMCCC: SOC_ID: ARCH_SOC_ID not implemented, skipping ....
[    1.668948] usbcore: registered new interface driver usbhid
[    1.668965] usbhid: USB HID core driver
[    1.670428] remoteproc remoteproc0: releasing m4
[    1.672607] NET: Registered protocol family 17
[    1.672652] can: controller area network core
[    1.672796] NET: Registered protocol family 29
[    1.672818] can: raw protocol
[    1.672833] can: broadcast manager protocol
[    1.672854] can: netlink gateway - max_hops=1
[    1.673783] Key type dns_resolver registered
[    1.673972] ThumbEE CPU extension supported.
[    1.674003] Registering SWP/SWPB emulation handler
[    1.674420] registered taskstats version 1
[    1.674451] Loading compiled-in X.509 certificates
[    1.718784] stm32-mdma 58000000.dma-controller: STM32 MDMA driver registered
[    1.721328] stm32-dma 48000000.dma-controller: no dma pool: can't use MDMA: 0
[    1.722973] stm32-dma 48000000.dma-controller: STM32 DMA driver registered
[    1.737363] remoteproc remoteproc0: releasing m4
[    1.738296] /soc/interrupt-controller@5000d000: bank0
[    1.738327] /soc/interrupt-controller@5000d000: bank1
[    1.738348] /soc/interrupt-controller@5000d000: bank2
[    1.740677] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOA bank added
[    1.741167] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOB bank added
[    1.741590] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOC bank added
[    1.742016] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOD bank added
[    1.742419] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOE bank added
[    1.742835] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOF bank added
[    1.743265] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOG bank added
[    1.743784] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOH bank added
[    1.744272] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOI bank added
[    1.744540] stm32mp157-pinctrl soc:pin-controller@50002000: Pinctrl STM32 initialized
[    1.745847] stm32mp157-pinctrl soc:pin-controller-z@54004000: GPIOZ bank added
[    1.745892] stm32mp157-pinctrl soc:pin-controller-z@54004000: Pinctrl STM32 initialized
[    1.748915] stm32-usart 4000e000.serial: failed to get alias id, errno -19
[    1.751116] 40010000.serial: ttySTM0 at MMIO 0x40010000 (irq = 46, base_baud = 4000000) is a stm32-usart
[    2.892167] printk: console [ttySTM0] enabled
[    2.898340] stm32-usart 5c000000.serial: failed to get alias id, errno -19
[    2.905880] stm32-dwmac 5800a000.ethernet: IRQ eth_lpi not found
[    2.910632] stm32-dwmac 5800a000.ethernet: PTP uses main clock
[    2.916396] stm32-dwmac 5800a000.ethernet: no reset control found
[    2.923199] stm32-dwmac 5800a000.ethernet: User ID: 0x40, Synopsys ID: 0x42
[    2.929459] stm32-dwmac 5800a000.ethernet: 	DWMAC4/5
[    2.934393] stm32-dwmac 5800a000.ethernet: DMA HW capability register supported
[    2.941677] stm32-dwmac 5800a000.ethernet: RX Checksum Offload Engine supported
[    2.949037] stm32-dwmac 5800a000.ethernet: TX Checksum insertion supported
[    2.955918] stm32-dwmac 5800a000.ethernet: Wake-Up On Lan supported
[    2.962312] stm32-dwmac 5800a000.ethernet: TSO supported
[    2.967537] stm32-dwmac 5800a000.ethernet: Enable RX Mitigation via HW Watchdog Timer
[    2.975380] stm32-dwmac 5800a000.ethernet: Enabled Flow TC (entries=2)
[    2.981891] stm32-dwmac 5800a000.ethernet: TSO feature enabled
[    2.987779] stm32-dwmac 5800a000.ethernet: Using 32 bits DMA width
[    2.995264] libphy: stmmac: probed
[    2.997336] mdio_bus stmmac-0: fixed-link has invalid PHY address
[    3.005482] mdio_bus stmmac-0: scan phy fixed-link at address 1
[    3.019358] stm32_rtc 5c004000.rtc: registered as rtc0
[    3.023123] stm32_rtc 5c004000.rtc: setting system clock to 2000-01-01T00:05:14 UTC (946685114)
[    3.032675] stm32_rtc 5c004000.rtc: Date/Time must be initialized
[    3.037963] stm32_rtc 5c004000.rtc: registered rev:1.2
[    3.066277] stpmic1 0-0033: PMIC Chip Version: 0x21
[    3.079712] vddcore: supplied by regulator-dummy
[    3.086515] vdd_ddr: supplied by regulator-dummy
[    3.093245] vdd: supplied by regulator-dummy
[    3.100132] v3v3: supplied by regulator-dummy
[    3.106320] v3v3_env: supplied by v3v3
[    3.114408] v3v3_eth0: supplied by vin
[    3.120690] vtt_ddr: supplied by vdd_ddr
[    3.124054] vdd_usb: supplied by regulator-dummy
[    3.131887] vdda: supplied by regulator-dummy
[    3.139025] v3v3_cam: supplied by v3v3
[    3.145401] stpmic1-regulator 40013000.i2c:stpmic@33:regulators: Supply for VREF_DDR (vref_ddr) resolved to itself
[    3.154370] vref_ddr: supplied by regulator-dummy
[    3.159995] bst_out: supplied by regulator-dummy
[    3.164995] vbus_otg: supplied by bst_out
[    3.169247] vbus_sw: supplied by bst_out
[    3.176717] input: pmic_onkey as /devices/platform/soc/40013000.i2c/i2c-0/0-0033/40013000.i2c:stpmic@33:onkey/input/input0
[    3.187532] stm32f7-i2c 40013000.i2c: STM32F7 I2C-0 bus adapter
[    3.212713] stm32f7-i2c 5c002000.i2c: using dma0chan0 (tx) and dma0chan1 (rx) for DMA transfers
[    3.220757] stm32f7-i2c 5c002000.i2c: STM32F7 I2C-1 bus adapter
[    3.246485] stm32f7-i2c 5c009000.i2c: using dma0chan2 (tx) and dma0chan3 (rx) for DMA transfers
[    3.254525] stm32f7-i2c 5c009000.i2c: STM32F7 I2C-2 bus adapter
[    3.262608] mmci-pl18x 58007000.sdmmc: mmc0: PL180 manf 53 rev2 at 0x58007000 irq 42,0 (pio)
[    3.300966] stm32-ipcc 4c001000.mailbox: ipcc rev:1.0 enabled, 6 chans, proc 0
[    3.309725] stm32-rproc 10000000.m4: wdg irq registered
[    3.315845] remoteproc remoteproc0: m4 is available
[    3.321946] stm32-usbphyc 5a006000.usbphyc: registered rev:1.0
[    3.330281] dwc2 49000000.usb-otg: supply vusb_d not found, using dummy regulator
[    3.336769] dwc2 49000000.usb-otg: supply vusb_a not found, using dummy regulator
[    3.380509] mmc0: new DDR MMC card at address 0001
[    3.385327] mmcblk0: mmc0:0001 M62704 3.56 GiB 
[    3.389067] mmcblk0boot0: mmc0:0001 M62704 partition 1 2.00 MiB
[    3.395231] mmcblk0boot1: mmc0:0001 M62704 partition 2 2.00 MiB
[    3.400717] mmcblk0rpmb: mmc0:0001 M62704 partition 3 512 KiB, chardev (243:0)
[    3.419900]  mmcblk0: p1 p2 p3 p4 p5
[    3.474049] dwc2 49000000.usb-otg: EPs: 9, dedicated fifos, 952 entries in SPRAM
[    3.480819] dwc2 49000000.usb-otg: DWC OTG Controller
[    3.485243] dwc2 49000000.usb-otg: new USB bus registered, assigned bus number 1
[    3.492549] dwc2 49000000.usb-otg: irq 69, io mem 0x49000000
[    3.499539] hub 1-0:1.0: USB hub found
[    3.501977] hub 1-0:1.0: 1 port detected
[    3.508633] ehci-platform 5800d000.usbh-ehci: EHCI Host Controller
[    3.513411] ehci-platform 5800d000.usbh-ehci: new USB bus registered, assigned bus number 2
[    3.522722] ehci-platform 5800d000.usbh-ehci: irq 48, io mem 0x5800d000
[    3.553626] ehci-platform 5800d000.usbh-ehci: USB 2.0 started, EHCI 1.00
[    3.560304] hub 2-0:1.0: USB hub found
[    3.562704] hub 2-0:1.0: 2 ports detected
[    3.568983] ohci-platform 5800c000.usbh-ohci: Generic Platform OHCI controller
[    3.574903] ohci-platform 5800c000.usbh-ohci: new USB bus registered, assigned bus number 3
[    3.583666] ohci-platform 5800c000.usbh-ohci: irq 44, io mem 0x5800c000
[    3.658967] hub 3-0:1.0: USB hub found
[    3.661332] hub 3-0:1.0: 2 ports detected
[    3.681615] EXT4-fs (mmcblk0p4): mounted filesystem with ordered data mode. Opts: (null)
[    3.688500] VFS: Mounted root (ext4 filesystem) on device 179:4.
[    3.695362] devtmpfs: mounted
[    3.699470] Freeing unused kernel memory: 1024K
[    3.714054] Run /sbin/init as init process
[    3.898628] systemd[1]: System time before build time, advancing clock.
[    4.010348] NET: Registered protocol family 10
[    4.046001] Segment Routing with IPv6
[    4.075040] systemd[1]: systemd 244.5+ running in system mode. (-PAM -AUDIT -SELINUX +IMA -APPARMOR -SMACK +SYSVINIT +UTMP -LIBCRYPTSETUP -GCRYPT -GNUTLS +ACL +XZ -LZ4 -SECCOMP +BLKID -ELFUTILS +KMOD -IDN2 -IDN -PCRE2 default-hierarchy=hybrid)
[    4.102292] systemd[1]: Detected architecture arm.

Welcome to Poky (Yocto Project Reference Distro) 3.1.19 (dunfell)!

[    4.184800] systemd[1]: Set hostname to <stm32mp1>.
[    4.195730] systemd[1]: Hardware watchdog 'STM32 Independent Watchdog', version 0
[    4.202903] systemd[1]: Set hardware watchdog to 32s.
[    4.969036] systemd[1]: Created slice system-getty.slice.
[  OK  ] Created slice system-getty.slice.
[    5.006227] systemd[1]: Created slice system-serial\x2dgetty.slice.
[  OK  ] Created slice system-serial\x2dgetty.slice.
[    5.036182] systemd[1]: Created slice User and Session Slice.
[  OK  ] Created slice User and Session Slice.
[    5.064503] systemd[1]: Started Dispatch Password Requests to Console Directory Watch.
[  OK  ] Started Dispatch Password âts to Console Directory Watch.
[    5.094390] systemd[1]: Started Forward Password Requests to Wall Directory Watch.
[  OK  ] Started Forward Password Râ¦uests to Wall Directory Watch.
[    5.124174] systemd[1]: Reached target Host and Network Name Lookups.
[  OK  ] Reached target Host and Network Name Lookups.
[    5.153910] systemd[1]: Reached target Paths.
[  OK  ] Reached target Paths.
[    5.183941] systemd[1]: Reached target Remote File Systems.
[  OK  ] Reached target Remote File Systems.
[    5.213918] systemd[1]: Reached target Slices.
[  OK  ] Reached target Slices.
[    5.244018] systemd[1]: Reached target Swap.
[  OK  ] Reached target Swap.
[    5.275218] systemd[1]: Listening on Syslog Socket.
[  OK  ] Listening on Syslog Socket.
[    5.304547] systemd[1]: Listening on initctl Compatibility Named Pipe.
[  OK  ] Listening on initctl Compatibility Named Pipe.
[    5.340739] systemd[1]: Condition check resulted in Journal Audit Socket being skipped.
[    5.348651] systemd[1]: Listening on Journal Socket (/dev/log).
[  OK  ] Listening on Journal Socket (/dev/log).
[    5.385049] systemd[1]: Listening on Journal Socket.
[  OK  ] Listening on Journal Socket.
[    5.415321] systemd[1]: Listening on Network Service Netlink Socket.
[  OK  ] Listening on Network Service Netlink Socket.
[    5.444949] systemd[1]: Listening on udev Control Socket.
[  OK  ] Listening on udev Control Socket.
[    5.474689] systemd[1]: Listening on udev Kernel Socket.
[  OK  ] Listening on udev Kernel Socket.
[    5.505086] systemd[1]: Condition check resulted in Huge Pages File System being skipped.
[    5.519289] systemd[1]: Mounting POSIX Message Queue File System...
         Mounting POSIX Message Queue File System...
[    5.561304] systemd[1]: Mounting Kernel Debug File System...
         Mounting Kernel Debug File System...
[    5.601960] systemd[1]: Mounting Temporary Directory (/tmp)...
         Mounting Temporary Directory (/tmp)...
[    5.641787] systemd[1]: Starting Create list of static device nodes for the current kernel...
         Starting Create list of stâ¦odes for the current kernel...
[    5.684291] systemd[1]: Condition check resulted in File System Check on Root Device being skipped.
[    5.702120] systemd[1]: Starting Journal Service...
         Starting Journal Service...
[    5.736946] systemd[1]: Condition check resulted in Load Kernel Modules being skipped.
[    5.751143] systemd[1]: Mounting FUSE Control File System...
         Mounting FUSE Control File System...
[    5.771994] systemd[1]: Mounting Kernel Configuration File System...
         Mounting Kernel Configuration File System...
[    5.830545] systemd[1]: Starting Remount Root and Kernel File Systems...
         Starting Remount Root and Kernel File Systems...
[    5.881827] systemd[1]: Starting Apply Kernel Variables...
         Starting Apply Kernel Variables...
[    5.909948] EXT4-fs (mmcblk0p4): re-mounted. Opts: (null)
[    5.940903] systemd[1]: Starting udev Coldplug all Devices...
         Starting udev Coldplug all Devices...
[    6.002250] systemd[1]: Started Journal Service.
[  OK  ] Started Journal Service.
[  OK  ] Mounted POSIX Message Queue File System.
[  OK  ] Mounted Kernel Debug File System.
[  OK  ] Mounted Temporary Directory (/tmp).
[  OK  ] Started Create list of staâ¦ nodes for the current kernel.
[  OK  ] Mounted FUSE Control File System.
[  OK  ] Mounted Kernel Configuration File System.
[  OK  ] Started Remount Root and Kernel File Systems.
[  OK  ] Started Apply Kernel Variables.
         Starting Flush Journal to Persistent Storage...
[    6.328800] systemd-journald[106]: Received client request to flush runtime journal.
         Starting Create Static Device Nodes in /dev...
[  OK  ] Started Flush Journal to Persistent Storage.
[  OK  ] Started Create Static Device Nodes in /dev.
[  OK  ] Reached target Local File Systems (Pre).
         Mounting /var/volatile...
         Starting udev Kernel Device Manager...
[  OK  ] Mounted /var/volatile.
         Starting Load/Save Random Seed...
[  OK  ] Reached target Local File Systems.
         Starting Create Volatile Files and Directories...
[  OK  ] Started Load/Save Random Seed.
[  OK  ] Started Create Volatile Files and Directories.
         Starting Network Time Synchronization...
         Starting Update UTMP about System Boot/Shutdown...
[  OK  ] Started udev Kernel Device Manager.
[  OK  ] Started Update UTMP about System Boot/Shutdown.
[  OK  ] Started udev Coldplug all Devices.
         Starting udev Wait for Complete Device Initialization...
[  OK  ] Started Network Time Synchronization.
[  OK  ] Reached target System Time Set.
[  OK  ] Reached target System Time Synchronized.
[    7.922289] spidev@0 enforce active low on chipselect handle
[    7.929193] spi_stm32 4000b000.spi: driver initialized
[  OK  ] Reached target Hardware activated USB gadget.
[    8.353931] etnaviv etnaviv: bound 59000000.gpu (ops gpu_ops [etnaviv])
[    8.359393] etnaviv-gpu 59000000.gpu: model: GC400, revision: 4652
[    8.394370] etnaviv-gpu 59000000.gpu: Need to move linear window on MC1.0, disabling TS
[    8.403228] [drm] Initialized etnaviv 1.3.0 20151214 for etnaviv on minor 0
[  OK  ] Started udev Wait for Complete Device Initialization.
[  OK  ] Listening on Load/Save RF â¦itch Status /dev/rfkill Watch.
[  OK  ] Started Hardware RNG Entropy Gatherer Daemon.
[  OK  ] Reached target System Initialization.
[  OK  ] Started Daily Cleanup of Temporary Directories.
[  OK  ] Reached target Timers.
[  OK  ] Listening on D-Bus System Message Bus Socket.
         Starting sshd.socket.
[  OK  ] Listening on sshd.socket.
[  OK  ] Reached target Sockets.
[  OK  ] Reached target Basic System.
[  OK  ] Started Kernel Logging Service.
[  OK  ] Started System Logging Service.
[  OK  ] Started D-Bus System Message Bus.
[  OK  ] Started Getty on tty1.
         Starting IPv6 Packet Filtering Framework...
         Starting IPv4 Packet Filtering Framework...
         Starting Telephony service...
[  OK  ] Started Serial Getty on ttySTM0.
[  OK  ] Reached target Login Prompts.
         Starting Login Service...
[  OK  ] Started IPv6 Packet Filtering Framework.
[  OK  ] Started IPv4 Packet Filtering Framework.
[  OK  ] Reached target Network (Pre).
         Starting Connection service...
[   10.669947] Bluetooth: Core ver 2.22
         Starting Network Service...
[   10.703834] NET: Registered protocol family 31
[   10.706851] Bluetooth: HCI device and connection manager initialized
[   10.713265] Bluetooth: HCI socket layer initialized
[  OK  ] Started Telephony service.
[   10.753787] Bluetooth: L2CAP socket layer initialized
[   10.761676] Bluetooth: SCO socket layer initialized
[  OK  ] Started Network Service.
[   11.237893] stm32-dwmac 5800a000.ethernet eth0: validation of rmii with support 0000000,00000000,00006280 and advertisement 0000000,00000000,00006280 failed: -22
[  OK  ] Started Connection service.
[  OK  ] Reached target Network.
stm32-dwmac 5800a000.ethernet eth0: no phy at addr -1
[   11.311128] stm32-dwmac 5800a000.ethernet eth0: stmmac_open: Cannot attach to PHY (error: -19)
         Starting WPA supplicant...990] stm32-dwmac 5800a000.ethernet eth0: validation of rmii with support 0000000,00000000,00006280 and advertisement 0000000,00000000,00006280 failed: -22

[   11.513781] stm32-dwmac 5800a000.ethernet eth0: no phy at addr -1
[   11.522936] stm32-dwmac 5800a000.ethernet eth0: stmmac_open: Cannot attach to PHY (error: -19)
         Starting Hostname Service...
[  OK  ] Started WPA supplicant.
[  OK  ] Started Login Service.
[  OK  ] Reached target Multi-User System.
         Starting Update UTMP about System Runlevel Changes...
[  OK  ] Started Update UTMP about System Runlevel Changes.
[  OK  ] Started Hostname Service.

Poky (Yocto Project Reference Distro) 3.1.19 stm32mp1 ttySTM0

stm32mp1 login: 
stm32mp1 login: root
root@stm32mp1:~# sh stm32_usbotg_eth_config.sh restart 
Stop usb gadget
Nothing to do
Start usb gadget
[   18.298238] using random self ethernet address
[   18.301251] using random host ethernet address
[   18.382701] usb0: HOST MAC 4e:af:f7:16:b6:fd
[   18.397392] usb0: MAC 16:55:5a:af:be:ac
[   18.405707] dwc2 49000000.usb-otg: bound driver configfs-gadget
[   18.603890] dwc2 49000000.usb-otg: new device is high-speed
[   18.733310] dwc2 49000000.usb-otg: new device is high-speed
root@stm32mp1:~# [   18.809960] dwc2 49000000.usb-otg: new address 2
[   23.983976] dwc2 49000000.usb-otg: new device is high-speed
[   23.988136] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[   29.359468] dwc2 49000000.usb-otg: new device is high-speed
[   29.363629] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[   33.753656] vdda: disabling
[   44.979350] dwc2 49000000.usb-otg: new device is high-speed
[   44.983511] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[   45.531299] dwc2 49000000.usb-otg: new device is high-speed
[   45.535461] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[   45.599234] dwc2 49000000.usb-otg: new device is high-speed
[   45.603395] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[   56.703169] dwc2 49000000.usb-otg: new device is high-speed
[   56.707330] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
^C
root@stm32mp1:~# NOTICE:  CPU: STM32MP157CAC Rev.Z
NOTICE:  Model: STMicroelectronics STM32MP157C-DK2 Discovery Board
INFO:    Reset reason (0x15):
INFO:      Power-on Reset (rst_por)
INFO:    PMIC version = 0x21
INFO:    FCONF: Reading TB_FW firmware configuration file from: 0x2ffe3000
INFO:    FCONF: Reading firmware configuration information for: stm32mp_io
INFO:    Using USB
INFO:      Instance 2
INFO:    Boot used partition fsbl1
NOTICE:  BL2: v2.4-r1.0(debug):v2.4-dirty
NOTICE:  BL2: Built : 16:43:51, Nov 17 2020
INFO:    BL2: Doing platform setup
INFO:    RAM: DDR3-DDR3L 16bits 533000Khz
WARNING: Couldn't find property st,phy-cal in dtb
INFO:    Memory size = 0x20000000 (512 MB)
INFO:    DFU USB START...
INFO:    phase ID :0, Manifestation 0 at c0000242
INFO:    phase ID :3, Manifestation 3 at c80fef68
INFO:    Send detach request
INFO:    Receive DFU Detach
INFO:    DFU USB STOP...
INFO:    BL2: Loading image id 31
INFO:    Loading image id=31 at address 0x2ffff000
INFO:    Image id=31 loaded: 0x2ffff000 - 0x2ffff226
INFO:    FCONF: Reading FW_CONFIG firmware configuration file from: 0x2ffff000
INFO:    FCONF: Reading firmware configuration information for: dyn_cfg
INFO:    FCONF: Reading firmware configuration information for: stm32mp1_firewall
INFO:    BL2: Loading image id 4
INFO:    Loading image id=4 at address 0x2ffc5000
INFO:    Image id=4 loaded: 0x2ffc5000 - 0x2ffd847c
WARNING: Not a known TEE, use default loading options.
INFO:    BL2: Skip loading image id 21
INFO:    BL2: Skip loading image id 22
INFO:    BL2: Loading image id 23
INFO:    Loading image id=23 at address 0xc0500000
INFO:    Image id=23 loaded: 0xc0500000 - 0xc051739b
INFO:    BL2: Loading image id 26
INFO:    Loading image id=26 at address 0x2ffc0000
INFO:    Image id=26 loaded: 0x2ffc0000 - 0x2ffc4a5b
INFO:    BL2: Loading image id 5
INFO:    Loading image id=5 at address 0xc0100000
INFO:    Image id=5 loaded: 0xc0100000 - 0xc01cf9d0
NOTICE:  BL2: Booting BL32
INFO:    Entry point address = 0x2ffc5000
INFO:    SPSR = 0x1d3
NOTICE:  SP_MIN: v2.4-r1.0(debug):v2.4-dirty
NOTICE:  SP_MIN: Built : 16:43:51, Nov 17 2020
INFO:    ARM GICv2 driver initialized
WARNING: Timer is not accurate enough for calibration
INFO:    Set calibration timer to 60 sec
INFO:    stm32mp1 IWDG1 is secure
INFO:    SP_MIN: Initializing runtime services
INFO:    SP_MIN: Preparing exit to normal world


U-Boot 2020.10-stm32mp-r1-dirty (Oct 05 2020 - 15:15:32 +0000)

CPU: STM32MP157CAC Rev.Z
Model: Seeed Studio Odyssey-STM32MP157C Board
Board: stm32mp1 in trusted mode (seeed,stm32mp157c-odyssey)
DRAM:  512 MiB
Clocks:
- MPU : 650 MHz
- MCU : 40.878 MHz
- AXI : 266.500 MHz
- PER : 24 MHz
- DDR : 533 MHz
STM32Programmer key pressed, entering download mode...
WDT:   Started with servicing (32s timeout)
NAND:  0 MiB
MMC:   STM32 SD/MMC: 1
In:    serial
Out:   serial
Err:   serial
invalid MAC address in OTP 00:00:00:00:00:00
Net:   
Error: ethernet@5800a000 address not set.
No ethernet found.

Hit any key to stop autoboot:  1  0
STM32MP> 
STM32MP> stm32prog usb 0
partitions : Writing GPT: success!
done
DFU alt info setting: done
crq->brequest:0x0
#
UPLOAD ... done
Ctrl+C to exit ...
#DOWNLOAD ... OK
Ctrl+C to exit ...
#
UPLOAD ... done
Ctrl+C to exit ...
#
UPLOAD ... done
Ctrl+C to exit ...
#DOWNLOAD ... OK
Ctrl+C to exit ...
#
UPLOAD ... done
Ctrl+C to exit ...
#
UPLOAD ... done
Ctrl+C to exit ...
#DOWNLOAD ... OK
Ctrl+C to exit ...
#
UPLOAD ... done
Ctrl+C to exit ...
#
UPLOAD ... done
Ctrl+C to exit ...
########DOWNLOAD ... OK
Ctrl+C to exit ...
#
UPLOAD ... done
Ctrl+C to exit ...
#
UPLOAD ... done
Ctrl+C to exit ...
##DOWNLOAD ... OK
Ctrl+C to exit ...
#
UPLOAD ... done
Ctrl+C to exit ...
#
UPLOAD ... done
Ctrl+C to exit ...
#############################################################################################################################NOTICE:  CPU: STM32MP157CAC Rev.Z
NOTICE:  Model: STMicroelectronics STM32MP157C-DK2 Discovery Board
INFO:    Reset reason (0x15):
INFO:      Power-on Reset (rst_por)
INFO:    PMIC version = 0x21
INFO:    FCONF: Reading TB_FW firmware configuration file from: 0x2ffe3000
INFO:    FCONF: Reading firmware configuration information for: stm32mp_io
INFO:    Using EMMC
INFO:      Instance 2
INFO:    Boot used partition fsbl1
NOTICE:  BL2: v2.4-r1.0(debug):v2.4-dirty
NOTICE:  BL2: Built : 16:43:51, Nov 17 2020
INFO:    BL2: Doing platform setup
INFO:    RAM: DDR3-DDR3L 16bits 533000Khz
WARNING: Couldn't find property st,phy-cal in dtb
INFO:    Memory size = 0x20000000 (512 MB)
INFO:    BL2: Loading image id 31
INFO:    Loading image id=31 at address 0x2ffff000
INFO:    Image id=31 loaded: 0x2ffff000 - 0x2ffff226
INFO:    FCONF: Reading FW_CONFIG firmware configuration file from: 0x2ffff000
INFO:    FCONF: Reading firmware configuration information for: dyn_cfg
INFO:    FCONF: Reading firmware configuration information for: stm32mp1_firewall
INFO:    BL2: Loading image id 4
INFO:    Loading image id=4 at address 0x2ffc5000
INFO:    Image id=4 loaded: 0x2ffc5000 - 0x2ffd847c
WARNING: Not a known TEE, use default loading options.
INFO:    BL2: Skip loading image id 21
INFO:    BL2: Skip loading image id 22
INFO:    BL2: Loading image id 23
INFO:    Loading image id=23 at address 0xc0500000
INFO:    Image id=23 loaded: 0xc0500000 - 0xc051739b
INFO:    BL2: Loading image id 26
INFO:    Loading image id=26 at address 0x2ffc0000
INFO:    Image id=26 loaded: 0x2ffc0000 - 0x2ffc4a5b
INFO:    BL2: Loading image id 5
INFO:    Loading image id=5 at address 0xc0100000
INFO:    Image id=5 loaded: 0xc0100000 - 0xc01cf9d0
NOTICE:  BL2: Booting BL32
INFO:    Entry point address = 0x2ffc5000
INFO:    SPSR = 0x1d3
NOTICE:  SP_MIN: v2.4-r1.0(debug):v2.4-dirty
NOTICE:  SP_MIN: Built : 16:43:51, Nov 17 2020
INFO:    ARM GICv2 driver initialized
WARNING: Timer is not accurate enough for calibration
INFO:    Set calibration timer to 60 sec
INFO:    stm32mp1 IWDG1 is secure
INFO:    SP_MIN: Initializing runtime services
INFO:    SP_MIN: Preparing exit to normal world


U-Boot 2020.10-stm32mp-r1-dirty (Oct 05 2020 - 15:15:32 +0000)

CPU: STM32MP157CAC Rev.Z
Model: Seeed Studio Odyssey-STM32MP157C Board
Board: stm32mp1 in trusted mode (seeed,stm32mp157c-odyssey)
DRAM:  512 MiB
Clocks:
- MPU : 650 MHz
- MCU : 40.878 MHz
- AXI : 266.500 MHz
- PER : 24 MHz
- DDR : 533 MHz
STM32Programmer key pressed, entering download mode...
WDT:   Started with servicing (32s timeout)
NAND:  0 MiB
MMC:   STM32 SD/MMC: 1
Loading Environment from MMC... OK
In:    serial
Out:   serial
Err:   serial
Net:   eth0: ethernet@5800a000
Hit any key to stop autoboot:  0 
Boot over mmc1!
switch to partitions #0, OK
mmc1(part 0) is current device
Scanning mmc 1:2...
Found /mmc1_extlinux/extlinux.conf
Retrieving file: /mmc1_extlinux/extlinux.conf
239 bytes read in 29 ms (7.8 KiB/s)
Retrieving file: /splash.bmp
18244 bytes read in 30 ms (593.8 KiB/s)
1:	OpenSTLinux
Retrieving file: /uImage
7455528 bytes read in 346 ms (20.5 MiB/s)
append: root=PARTUUID=491f6117-415d-4f53-88c9-6e0de54deac6 rootwait rw console=ttySTM0,115200
Retrieving file: /stm32mp157c-odyssey.dtb
63615 bytes read in 32 ms (1.9 MiB/s)
## Booting kernel from Legacy Image at c2000000 ...
   Image Name:   Linux-5.10.10
   Created:      2021-01-23  15:04:06 UTC
   Image Type:   ARM Linux Kernel Image (uncompressed)
   Data Size:    7455464 Bytes = 7.1 MiB
   Load Address: c2000040
   Entry Point:  c2000040
   Verifying Checksum ... OK
## Flattened Device Tree blob at c4000000
   Booting using the fdt blob at 0xc4000000
   XIP Kernel Image
   Loading Device Tree to cffed000, end cffff87e ... OK
ETZPC: 0x48001000 node disabled, decprot 89=2

Starting kernel ...

[    0.000000] Booting Linux on physical CPU 0x0
[    0.000000] Linux version 5.10.10 (oe-user@oe-host) (arm-poky-linux-gnueabi-gcc (GCC) 9.3.0, GNU ld (GNU Binutils) 2.34.0.20200220) #1 SMP PREEMPT Sat Jan 23 15:04:06 UTC 2021
[    0.000000] CPU: ARMv7 Processor [410fc075] revision 5 (ARMv7), cr=10c5387d
[    0.000000] CPU: div instructions available: patching division code
[    0.000000] CPU: PIPT / VIPT nonaliasing data cache, VIPT aliasing instruction cache
[    0.000000] OF: fdt: Machine model: Seeed Studio Odyssey-STM32MP157C Board
[    0.000000] Memory policy: Data cache writealloc
[    0.000000] Reserved memory: created DMA memory pool at 0x10000000, size 0 MiB
[    0.000000] OF: reserved mem: initialized node mcuram2@10000000, compatible id shared-dma-pool
[    0.000000] Reserved memory: created DMA memory pool at 0x10040000, size 0 MiB
[    0.000000] OF: reserved mem: initialized node vdev0vring0@10040000, compatible id shared-dma-pool
[    0.000000] Reserved memory: created DMA memory pool at 0x10041000, size 0 MiB
[    0.000000] OF: reserved mem: initialized node vdev0vring1@10041000, compatible id shared-dma-pool
[    0.000000] Reserved memory: created DMA memory pool at 0x10042000, size 0 MiB
[    0.000000] OF: reserved mem: initialized node vdev0buffer@10042000, compatible id shared-dma-pool
[    0.000000] Reserved memory: created DMA memory pool at 0x30000000, size 0 MiB
[    0.000000] OF: reserved mem: initialized node mcuram@30000000, compatible id shared-dma-pool
[    0.000000] Reserved memory: created DMA memory pool at 0x38000000, size 0 MiB
[    0.000000] OF: reserved mem: initialized node retram@38000000, compatible id shared-dma-pool
[    0.000000] cma: Reserved 128 MiB at 0xd8000000
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x00000000c0000000-0x00000000dfffffff]
[    0.000000]   HighMem  empty
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x00000000c0000000-0x00000000d3ffffff]
[    0.000000]   node   0: [mem 0x00000000d8000000-0x00000000dfffffff]
[    0.000000] Initmem setup node 0 [mem 0x00000000c0000000-0x00000000dfffffff]
[    0.000000] psci: probing for conduit method from DT.
[    0.000000] psci: PSCIv1.1 detected in firmware.
[    0.000000] psci: Using standard PSCI v0.2 function IDs
[    0.000000] psci: MIGRATE_INFO_TYPE not supported.
[    0.000000] psci: SMC Calling Convention v1.2
[    0.000000] percpu: Embedded 20 pages/cpu s51788 r8192 d21940 u81920
[    0.000000] Built 1 zonelists, mobility grouping on.  Total pages: 113536
[    0.000000] Kernel command line: root=PARTUUID=491f6117-415d-4f53-88c9-6e0de54deac6 rootwait rw console=ttySTM0,115200
[    0.000000] Dentry cache hash table entries: 65536 (order: 6, 262144 bytes, linear)
[    0.000000] Inode-cache hash table entries: 32768 (order: 5, 131072 bytes, linear)
[    0.000000] mem auto-init: stack:off, heap alloc:off, heap free:off
[    0.000000] Memory: 304684K/458752K available (11264K kernel code, 1206K rwdata, 3312K rodata, 1024K init, 248K bss, 22996K reserved, 131072K cma-reserved, 0K highmem)
[    0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=2, Nodes=1
[    0.000000] rcu: Preemptible hierarchical RCU implementation.
[    0.000000] rcu: 	RCU event tracing is enabled.
[    0.000000] 	Trampoline variant of Tasks RCU enabled.
[    0.000000] 	Tracing variant of Tasks RCU enabled.
[    0.000000] rcu: RCU calculated value of scheduler-enlistment delay is 10 jiffies.
[    0.000000] NR_IRQS: 16, nr_irqs: 16, preallocated irqs: 16
[    0.000000] random: get_random_bytes called from start_kernel+0x390/0x568 with crng_init=0
[    0.000000] arch_timer: cp15 timer(s) running at 24.00MHz (virt).
[    0.000000] clocksource: arch_sys_counter: mask: 0xffffffffffffff max_cycles: 0x588fe9dc0, max_idle_ns: 440795202592 ns
[    0.000010] sched_clock: 56 bits at 24MHz, resolution 41ns, wraps every 4398046511097ns
[    0.000031] Switching to timer-based delay loop, resolution 41ns
[    0.001341] Console: colour dummy device 80x30
[    0.001398] Calibrating delay loop (skipped), value calculated using timer frequency.. 48.00 BogoMIPS (lpj=240000)
[    0.001428] pid_max: default: 32768 minimum: 301
[    0.001691] Mount-cache hash table entries: 1024 (order: 0, 4096 bytes, linear)
[    0.001715] Mountpoint-cache hash table entries: 1024 (order: 0, 4096 bytes, linear)
[    0.003061] CPU: Testing write buffer coherency: ok
[    0.003511] /cpus/cpu@0 missing clock-frequency property
[    0.003558] /cpus/cpu@1 missing clock-frequency property
[    0.003579] CPU0: thread -1, cpu 0, socket 0, mpidr 80000000
[    0.004870] Setting up static identity map for 0xc0100000 - 0xc0100060
[    0.005081] rcu: Hierarchical SRCU implementation.
[    0.006535] smp: Bringing up secondary CPUs ...
[    0.007778] CPU1: thread -1, cpu 1, socket 0, mpidr 80000001
[    0.008033] smp: Brought up 1 node, 2 CPUs
[    0.008063] SMP: Total of 2 processors activated (96.00 BogoMIPS).
[    0.008076] CPU: All CPU(s) started in SVC mode.
[    0.008923] devtmpfs: initialized
[    0.034733] VFP support v0.3: implementor 41 architecture 2 part 30 variant 7 rev 5
[    0.035115] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 19112604462750000 ns
[    0.035151] futex hash table entries: 512 (order: 3, 32768 bytes, linear)
[    0.041371] pinctrl core: initialized pinctrl subsystem
[    0.043362] NET: Registered protocol family 16
[    0.046763] DMA: preallocated 256 KiB pool for atomic coherent allocations
[    0.048649] thermal_sys: Registered thermal governor 'step_wise'
[    0.049050] cpuidle: using governor menu
[    0.049473] hw-breakpoint: found 5 (+1 reserved) breakpoint and 4 watchpoint registers.
[    0.049495] hw-breakpoint: maximum watchpoint size is 8 bytes.
[    0.050007] Serial: AMBA PL011 UART driver
[    0.089833] stm32-pm-domain pm_domain: domain core-ret-power-domain registered
[    0.089883] stm32-pm-domain pm_domain: subdomain core-power-domain registered
[    0.089903] stm32-pm-domain pm_domain: domains probed
[    0.117721] SCSI subsystem initialized
[    0.118608] usbcore: registered new interface driver usbfs
[    0.118699] usbcore: registered new interface driver hub
[    0.118775] usbcore: registered new device driver usb
[    0.119092] pps_core: LinuxPPS API ver. 1 registered
[    0.119109] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti <giometti@linux.it>
[    0.119156] PTP clock support registered
[    0.120041] arm-scmi firmware:scmi0: SCMI Notifications - Core Enabled.
[    0.120135] arm-scmi firmware:scmi0: SCMI Protocol v2.0 'ST:' Firmware version 0x0
[    0.123751] clocksource: Switched to clocksource arch_sys_counter
[    1.571161] NET: Registered protocol family 2
[    1.572458] tcp_listen_portaddr_hash hash table entries: 512 (order: 0, 6144 bytes, linear)
[    1.572626] TCP established hash table entries: 4096 (order: 2, 16384 bytes, linear)
[    1.572702] TCP bind hash table entries: 4096 (order: 3, 32768 bytes, linear)
[    1.572802] TCP: Hash tables configured (established 4096 bind 4096)
[    1.572980] UDP hash table entries: 256 (order: 1, 8192 bytes, linear)
[    1.573036] UDP-Lite hash table entries: 256 (order: 1, 8192 bytes, linear)
[    1.573564] NET: Registered protocol family 1
[    1.574688] RPC: Registered named UNIX socket transport module.
[    1.574717] RPC: Registered udp transport module.
[    1.574730] RPC: Registered tcp transport module.
[    1.574743] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    1.575905] hw perfevents: enabled with armv7_cortex_a7 PMU driver, 5 counters available
[    1.577895] Initialise system trusted keyrings
[    1.578306] workingset: timestamp_bits=14 max_order=17 bucket_order=3
[    1.589496] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    1.591007] NFS: Registering the id_resolver key type
[    1.591087] Key type id_resolver registered
[    1.591103] Key type id_legacy registered
[    1.591294] nfs4filelayout_init: NFSv4 File Layout Driver Registering...
[    1.591502] ntfs: driver 2.1.32 [Flags: R/O].
[    1.591842] jffs2: version 2.2. (NAND) Â© 2001-2006 Red Hat, Inc.
[    1.592812] fuse: init (API version 7.32)
[    1.594076] NET: Registered protocol family 38
[    1.594107] Key type asymmetric registered
[    1.594123] Asymmetric key parser 'x509' registered
[    1.594196] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 246)
[    1.594216] io scheduler mq-deadline registered
[    1.594230] io scheduler kyber registered
[    1.601454] reg11: supplied by regulator-dummy
[    1.601895] reg18: supplied by regulator-dummy
[    1.602276] usb33: supplied by regulator-dummy
[    1.607023] STM32 USART driver initialized
[    1.629889] brd: module loaded
[    1.631175] random: fast init done
[    1.635989] random: crng init done
[    1.644557] loop: module loaded
[    1.650399] libphy: Fixed MDIO Bus: probed
[    1.652600] CAN device driver interface
[    1.654677] pegasus: v0.9.3 (2013/04/25), Pegasus/Pegasus II USB Ethernet driver
[    1.654779] usbcore: registered new interface driver pegasus
[    1.654865] usbcore: registered new interface driver asix
[    1.654932] usbcore: registered new interface driver ax88179_178a
[    1.654997] usbcore: registered new interface driver cdc_ether
[    1.655098] usbcore: registered new interface driver smsc75xx
[    1.655183] usbcore: registered new interface driver smsc95xx
[    1.655248] usbcore: registered new interface driver net1080
[    1.655313] usbcore: registered new interface driver cdc_subset
[    1.655375] usbcore: registered new interface driver zaurus
[    1.655469] usbcore: registered new interface driver cdc_ncm
[    1.656624] ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver
[    1.656679] ehci-platform: EHCI generic platform driver
[    1.657165] ohci_hcd: USB 1.1 'Open' Host Controller (OHCI) Driver
[    1.657212] ohci-platform: OHCI generic platform driver
[    1.658078] usbcore: registered new interface driver usb-storage
[    1.661715] i2c /dev entries driver
[    1.666194] stm32-cpufreq stm32-cpufreq: Failed to get chip info: -517
[    1.667268] sdhci: Secure Digital Host Controller Interface driver
[    1.667288] sdhci: Copyright(c) Pierre Ossman
[    1.667300] Synopsys Designware Multimedia Card Interface Driver
[    1.667745] sdhci-pltfm: SDHCI platform and OF driver helper
[    1.669025] ledtrig-cpu: registered to indicate activity on CPUs
[    1.669148] SMCCC: SOC_ID: ARCH_SOC_ID not implemented, skipping ....
[    1.669610] usbcore: registered new interface driver usbhid
[    1.669627] usbhid: USB HID core driver
[    1.671033] remoteproc remoteproc0: releasing m4
[    1.673298] NET: Registered protocol family 17
[    1.673344] can: controller area network core
[    1.673482] NET: Registered protocol family 29
[    1.673504] can: raw protocol
[    1.673519] can: broadcast manager protocol
[    1.673541] can: netlink gateway - max_hops=1
[    1.674445] Key type dns_resolver registered
[    1.674634] ThumbEE CPU extension supported.
[    1.674663] Registering SWP/SWPB emulation handler
[    1.675099] registered taskstats version 1
[    1.675129] Loading compiled-in X.509 certificates
[    1.719408] stm32-mdma 58000000.dma-controller: STM32 MDMA driver registered
[    1.721934] stm32-dma 48000000.dma-controller: no dma pool: can't use MDMA: 0
[    1.723577] stm32-dma 48000000.dma-controller: STM32 DMA driver registered
[    1.737977] remoteproc remoteproc0: releasing m4
[    1.738886] /soc/interrupt-controller@5000d000: bank0
[    1.738916] /soc/interrupt-controller@5000d000: bank1
[    1.738937] /soc/interrupt-controller@5000d000: bank2
[    1.741214] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOA bank added
[    1.741739] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOB bank added
[    1.742174] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOC bank added
[    1.742576] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOD bank added
[    1.742985] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOE bank added
[    1.743380] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOF bank added
[    1.743898] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOG bank added
[    1.744380] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOH bank added
[    1.744823] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOI bank added
[    1.745087] stm32mp157-pinctrl soc:pin-controller@50002000: Pinctrl STM32 initialized
[    1.746411] stm32mp157-pinctrl soc:pin-controller-z@54004000: GPIOZ bank added
[    1.746454] stm32mp157-pinctrl soc:pin-controller-z@54004000: Pinctrl STM32 initialized
[    1.749440] stm32-usart 4000e000.serial: failed to get alias id, errno -19
[    1.751621] 40010000.serial: ttySTM0 at MMIO 0x40010000 (irq = 46, base_baud = 4000000) is a stm32-usart
[    2.892560] printk: console [ttySTM0] enabled
[    2.898700] stm32-usart 5c000000.serial: failed to get alias id, errno -19
[    2.906294] stm32-dwmac 5800a000.ethernet: IRQ eth_lpi not found
[    2.911043] stm32-dwmac 5800a000.ethernet: PTP uses main clock
[    2.916810] stm32-dwmac 5800a000.ethernet: no reset control found
[    2.923574] stm32-dwmac 5800a000.ethernet: User ID: 0x40, Synopsys ID: 0x42
[    2.929870] stm32-dwmac 5800a000.ethernet: 	DWMAC4/5
[    2.934801] stm32-dwmac 5800a000.ethernet: DMA HW capability register supported
[    2.942084] stm32-dwmac 5800a000.ethernet: RX Checksum Offload Engine supported
[    2.949444] stm32-dwmac 5800a000.ethernet: TX Checksum insertion supported
[    2.956321] stm32-dwmac 5800a000.ethernet: Wake-Up On Lan supported
[    2.962720] stm32-dwmac 5800a000.ethernet: TSO supported
[    2.967937] stm32-dwmac 5800a000.ethernet: Enable RX Mitigation via HW Watchdog Timer
[    2.975776] stm32-dwmac 5800a000.ethernet: Enabled Flow TC (entries=2)
[    2.982289] stm32-dwmac 5800a000.ethernet: TSO feature enabled
[    2.988178] stm32-dwmac 5800a000.ethernet: Using 32 bits DMA width
[    2.995705] libphy: stmmac: probed
[    2.997734] mdio_bus stmmac-0: fixed-link has invalid PHY address
[    3.005917] mdio_bus stmmac-0: scan phy fixed-link at address 1
[    3.020612] stm32_rtc 5c004000.rtc: registered as rtc0
[    3.024460] stm32_rtc 5c004000.rtc: setting system clock to 2000-01-01T00:08:19 UTC (946685299)
[    3.033946] stm32_rtc 5c004000.rtc: Date/Time must be initialized
[    3.039140] stm32_rtc 5c004000.rtc: registered rev:1.2
[    3.067546] stpmic1 0-0033: PMIC Chip Version: 0x21
[    3.080776] vddcore: supplied by regulator-dummy
[    3.087693] vdd_ddr: supplied by regulator-dummy
[    3.094460] vdd: supplied by regulator-dummy
[    3.101258] v3v3: supplied by regulator-dummy
[    3.107480] v3v3_env: supplied by v3v3
[    3.115555] v3v3_eth0: supplied by vin
[    3.121824] vtt_ddr: supplied by vdd_ddr
[    3.125259] vdd_usb: supplied by regulator-dummy
[    3.133051] vdda: supplied by regulator-dummy
[    3.140120] v3v3_cam: supplied by v3v3
[    3.146513] stpmic1-regulator 40013000.i2c:stpmic@33:regulators: Supply for VREF_DDR (vref_ddr) resolved to itself
[    3.155483] vref_ddr: supplied by regulator-dummy
[    3.161089] bst_out: supplied by regulator-dummy
[    3.166116] vbus_otg: supplied by bst_out
[    3.170365] vbus_sw: supplied by bst_out
[    3.177859] input: pmic_onkey as /devices/platform/soc/40013000.i2c/i2c-0/0-0033/40013000.i2c:stpmic@33:onkey/input/input0
[    3.188637] stm32f7-i2c 40013000.i2c: STM32F7 I2C-0 bus adapter
[    3.213929] stm32f7-i2c 5c002000.i2c: using dma0chan0 (tx) and dma0chan1 (rx) for DMA transfers
[    3.221948] stm32f7-i2c 5c002000.i2c: STM32F7 I2C-1 bus adapter
[    3.247720] stm32f7-i2c 5c009000.i2c: using dma0chan2 (tx) and dma0chan3 (rx) for DMA transfers
[    3.255782] stm32f7-i2c 5c009000.i2c: STM32F7 I2C-2 bus adapter
[    3.263860] mmci-pl18x 58007000.sdmmc: mmc0: PL180 manf 53 rev2 at 0x58007000 irq 42,0 (pio)
[    3.302154] stm32-ipcc 4c001000.mailbox: ipcc rev:1.0 enabled, 6 chans, proc 0
[    3.310893] stm32-rproc 10000000.m4: wdg irq registered
[    3.316972] remoteproc remoteproc0: m4 is available
[    3.322797] stm32-usbphyc 5a006000.usbphyc: registered rev:1.0
[    3.331208] dwc2 49000000.usb-otg: supply vusb_d not found, using dummy regulator
[    3.338766] dwc2 49000000.usb-otg: supply vusb_a not found, using dummy regulator
[    3.380492] mmc0: new DDR MMC card at address 0001
[    3.385244] mmcblk0: mmc0:0001 M62704 3.56 GiB 
[    3.389046] mmcblk0boot0: mmc0:0001 M62704 partition 1 2.00 MiB
[    3.395206] mmcblk0boot1: mmc0:0001 M62704 partition 2 2.00 MiB
[    3.400668] mmcblk0rpmb: mmc0:0001 M62704 partition 3 512 KiB, chardev (243:0)
[    3.419752]  mmcblk0: p1 p2 p3 p4 p5
[    3.474214] dwc2 49000000.usb-otg: EPs: 9, dedicated fifos, 952 entries in SPRAM
[    3.481005] dwc2 49000000.usb-otg: DWC OTG Controller
[    3.485410] dwc2 49000000.usb-otg: new USB bus registered, assigned bus number 1
[    3.492714] dwc2 49000000.usb-otg: irq 69, io mem 0x49000000
[    3.499709] hub 1-0:1.0: USB hub found
[    3.502147] hub 1-0:1.0: 1 port detected
[    3.508812] ehci-platform 5800d000.usbh-ehci: EHCI Host Controller
[    3.513592] ehci-platform 5800d000.usbh-ehci: new USB bus registered, assigned bus number 2
[    3.522895] ehci-platform 5800d000.usbh-ehci: irq 48, io mem 0x5800d000
[    3.553777] ehci-platform 5800d000.usbh-ehci: USB 2.0 started, EHCI 1.00
[    3.560445] hub 2-0:1.0: USB hub found
[    3.562865] hub 2-0:1.0: 2 ports detected
[    3.569082] ohci-platform 5800c000.usbh-ohci: Generic Platform OHCI controller
[    3.575000] ohci-platform 5800c000.usbh-ohci: new USB bus registered, assigned bus number 3
[    3.583777] ohci-platform 5800c000.usbh-ohci: irq 44, io mem 0x5800c000
[    3.659100] hub 3-0:1.0: USB hub found
[    3.661483] hub 3-0:1.0: 2 ports detected
[    3.739500] EXT4-fs (mmcblk0p4): mounted filesystem with ordered data mode. Opts: (null)
[    3.746313] VFS: Mounted root (ext4 filesystem) on device 179:4.
[    3.753157] devtmpfs: mounted
[    3.757479] Freeing unused kernel memory: 1024K
[    3.760945] Run /sbin/init as init process
[    3.941953] systemd[1]: System time before build time, advancing clock.
[    4.050356] NET: Registered protocol family 10
[    4.086752] Segment Routing with IPv6
[    4.115294] systemd[1]: systemd 244.5+ running in system mode. (-PAM -AUDIT -SELINUX +IMA -APPARMOR -SMACK +SYSVINIT +UTMP -LIBCRYPTSETUP -GCRYPT -GNUTLS +ACL +XZ -LZ4 -SECCOMP +BLKID -ELFUTILS +KMOD -IDN2 -IDN -PCRE2 default-hierarchy=hybrid)
[    4.142614] systemd[1]: Detected architecture arm.

Welcome to Poky (Yocto Project Reference Distro) 3.1.19 (dunfell)!

[    4.234888] systemd[1]: Set hostname to <stm32mp1>.
[    4.248629] systemd[1]: Initializing machine ID from random generator.
[    4.268170] systemd[1]: Hardware watchdog 'STM32 Independent Watchdog', version 0
[    4.275534] systemd[1]: Set hardware watchdog to 32s.
[    5.046855] systemd[1]: Created slice system-getty.slice.
[  OK  ] Created slice system-getty.slice.
[    5.076364] systemd[1]: Created slice system-serial\x2dgetty.slice.
[  OK  ] Created slice system-serial\x2dgetty.slice.
[    5.106502] systemd[1]: Created slice User and Session Slice.
[  OK  ] Created slice User and Session Slice.
[    5.134682] systemd[1]: Started Dispatch Password Requests to Console Directory Watch.
[  OK  ] Started Dispatch Password â¦ts to Console Directory Watch.
[    5.164581] systemd[1]: Started Forward Password Requests to Wall Directory Watch.
[  OK  ] Started Forward Password Râ¦uests to Wall Directory Watch.
[    5.204386] systemd[1]: Reached target Host and Network Name Lookups.
[  OK  ] Reached target Host and Network Name Lookups.
[    5.234090] systemd[1]: Reached target Paths.
[  OK  ] Reached target Paths.
[    5.264122] systemd[1]: Reached target Remote File Systems.
[  OK  ] Reached target Remote File Systems.
[    5.294059] systemd[1]: Reached target Slices.
[  OK  ] Reached target Slices.
[    5.324132] systemd[1]: Reached target Swap.
[  OK  ] Reached target Swap.
[    5.355338] systemd[1]: Listening on Syslog Socket.
[  OK  ] Listening on Syslog Socket.
[    5.384662] systemd[1]: Listening on initctl Compatibility Named Pipe.
[  OK  ] Listening on initctl Compatibility Named Pipe.
[    5.420971] systemd[1]: Condition check resulted in Journal Audit Socket being skipped.
[    5.428874] systemd[1]: Listening on Journal Socket (/dev/log).
[  OK  ] Listening on Journal Socket (/dev/log).
[    5.465201] systemd[1]: Listening on Journal Socket.
[  OK  ] Listening on Journal Socket.
[    5.495415] systemd[1]: Listening on Network Service Netlink Socket.
[  OK  ] Listening on Network Service Netlink Socket.
[    5.525084] systemd[1]: Listening on udev Control Socket.
[  OK  ] Listening on udev Control Socket.
[    5.554811] systemd[1]: Listening on udev Kernel Socket.
[  OK  ] Listening on udev Kernel Socket.
[    5.585243] systemd[1]: Condition check resulted in Huge Pages File System being skipped.
[    5.599521] systemd[1]: Mounting POSIX Message Queue File System...
         Mounting POSIX Message Queue File System...
[    5.651333] systemd[1]: Mounting Kernel Debug File System...
         Mounting Kernel Debug File System...
[    5.692043] systemd[1]: Mounting Temporary Directory (/tmp)...
         Mounting Temporary Directory (/tmp)...
[    5.731944] systemd[1]: Starting Create list of static device nodes for the current kernel...
         Starting Create list of stâ¦odes for the current kernel...
[    5.764468] systemd[1]: Condition check resulted in File System Check on Root Device being skipped.
[    5.782408] systemd[1]: Starting Journal Service...
         Starting Journal Service...
[    5.817111] systemd[1]: Condition check resulted in Load Kernel Modules being skipped.
[    5.831093] systemd[1]: Mounting FUSE Control File System...
         Mounting FUSE Control File System...
[    5.851878] systemd[1]: Mounting Kernel Configuration File System...
         Mounting Kernel Configuration File System...
[    5.910732] systemd[1]: Starting Remount Root and Kernel File Systems...
         Starting Remount Root and Kernel File Systems...
[    5.961740] systemd[1]: Starting Apply Kernel Variables...
         Starting Apply Kernel Variables...
[    6.001508] EXT4-fs (mmcblk0p4): re-mounted. Opts: (null)
[    6.020872] systemd[1]: Starting udev Coldplug all Devices...
         Starting udev Coldplug all Devices...
[    6.079254] systemd[1]: Started Journal Service.
[  OK  ] Started Journal Service.
[  OK  ] Mounted POSIX Message Queue File System.
[  OK  ] Mounted Kernel Debug File System.
[  OK  ] Mounted Temporary Directory (/tmp).
[  OK  ] Started Create list of staâ nodes for the current kernel.
[  OK  ] Mounted FUSE Control File System.
[  OK  ] Mounted Kernel Configuration File System.
[  OK  ] Started Remount Root and Kernel File Systems.
[  OK  ] Started Apply Kernel Variables.
         Starting Flush Journal to Persistent Storage...
         Starting Create System Users...
[    6.398092] systemd-journald[107]: Received client request to flush runtime journal.
[  OK  ] Started Flush Journal to Persistent Storage.
[  OK  ] Started Create System Users.
         Starting Create Static Device Nodes in /dev...
[  OK  ] Started Create Static Device Nodes in /dev.
[  OK  ] Reached target Local File Systems (Pre).
         Mounting /var/volatile...
         Starting udev Kernel Device Manager...
[  OK  ] Mounted /var/volatile.
         Starting Load/Save Random Seed...
[  OK  ] Reached target Local File Systems.
         Starting Rebuild Dynamic Linker Cache...
         Starting Create Volatile Files and Directories...
[  OK  ] Started Load/Save Random Seed.
[  OK  ] Started Create Volatile Files and Directories.
         Starting Run pending postinsts...
         Starting Rebuild Journal Catalog...
         Starting Network Time Synchronization...
         Starting Update UTMP about System Boot/Shutdown...
[  OK  ] Started udev Kernel Device Manager.
[  OK  ] Started udev Coldplug all Devices.
         Starting udev Wait for Complete Device Initialization...
[  OK  ] Started Rebuild Journal Catalog.
[  OK  ] Started Update UTMP about System Boot/Shutdown.
[  OK  ] Started Rebuild Dynamic Linker Cache.
         Starting Update is Completed...
[  OK  ] Started Run pending postinsts.
[  OK  ] Started Update is Completed.
[    8.463565] spidev@0 enforce active low on chipselect handle
[    8.495371] spi_stm32 4000b000.spi: driver initialized
[  OK  ] Reached target Hardware activated USB gadget.
[  OK  ] Started Network Time Synchronization.
[  OK  ] Reached target System Time Set.
[  OK  ] Reached target System Time Synchronized.
[    9.144104] etnaviv etnaviv: bound 59000000.gpu (ops gpu_ops [etnaviv])
[    9.149310] etnaviv-gpu 59000000.gpu: model: GC400, revision: 4652
[    9.194287] etnaviv-gpu 59000000.gpu: Need to move linear window on MC1.0, disabling TS
[    9.244570] [drm] Initialized etnaviv 1.3.0 20151214 for etnaviv on minor 0
[  OK  ] Started udev Wait for Complete Device Initialization.
[  OK  ] Listening on Load/Save RF âitch Status /dev/rfkill Watch.
[  OK  ] Started Hardware RNG Entropy Gatherer Daemon.
[  OK  ] Reached target System Initialization.
[  OK  ] Started Daily Cleanup of Temporary Directories.
[  OK  ] Reached target Timers.
[  OK  ] Listening on D-Bus System Message Bus Socket.
         Starting sshd.socket.
[  OK  ] Listening on sshd.socket.
[  OK  ] Reached target Sockets.
[  OK  ] Reached target Basic System.
[  OK  ] Started Kernel Logging Service.
[  OK  ] Started System Logging Service.
[  OK  ] Started D-Bus System Message Bus.
[  OK  ] Started Getty on tty1.
         Starting IPv6 Packet Filtering Framework...
         Starting IPv4 Packet Filtering Framework...
         Starting Telephony service...
[  OK  ] Started Serial Getty on ttySTM0.
[  OK  ] Reached target Login Prompts.
         Starting Login Service...
[  OK  ] Started IPv6 Packet Filtering Framework.
[  OK  ] Started IPv4 Packet Filtering Framework.
[  OK  ] Reached target Network (Pre).
         Starting Connection service...
[   11.195127] Bluetooth: Core ver 2.22
[   11.197449] NET: Registered protocol family 31
[   11.201736] Bluetooth: HCI device and connection manager initialized
[   11.201774] Bluetooth: HCI socket layer initialized
[   11.201792] Bluetooth: L2CAP socket layer initialized
[   11.201850] Bluetooth: SCO socket layer initialized
         Starting Network Service...
[  OK  ] Started Telephony service.
[  OK  ] Started Connection service.
[  OK  ] Started Network Service.
[  OK  ] Reached target Network.
[   11.823946] stm32-dwmac 5800a000.ethernet eth0: validation of rmii with support 0000000,00000000,00006280 and advertisement 0000000,00000000,00006280 failed: -22
[   11.897810] stm32-dwmac 5800a000.ethernet eth0: no phy at addr -1
[   11.902487] stm32-dwmac 5800a000.ethernet eth0: stmmac_open: Cannot attach to PHY (error: -19)
         Starting WPA supplicant...
         Starting Hostname Service...
[   12.008741] stm32-dwmac 5800a000.ethernet eth0: validation of rmii with support 0000000,00000000,00006280 and advertisement 0000000,00000000,00006280 failed: -22
[   12.047054] stm32-dwmac 5800a000.ethernet eth0: no phy at addr -1
[   12.051753] stm32-dwmac 5800a000.ethernet eth0: stmmac_open: Cannot attach to PHY (error: -19)
[  OK  ] Started WPA supplicant.
[  OK  ] Started Login Service.
[  OK  ] Reached target Multi-User System.
         Starting Update UTMP about System Runlevel Changes...
[  OK  ] Started Update UTMP about System Runlevel Changes.
[  OK  ] Started Hostname Service.

Poky (Yocto Project Reference Distro) 3.1.19 stm32mp1 ttySTM0

stm32mp1 login: root
root@stm32mp1:~# 
root@stm32mp1:~# sh stm32_usbotg_eth_config.sh restart
Stop usb gadget
Nothing to do
Start usb gadget
[   25.568283] using random self ethernet address
[   25.571296] using random host ethernet address
[   25.660662] usb0: HOST MAC 22:5b:2c:3f:44:0b
[   25.667697] usb0: MAC fa:30:bf:e1:ec:df
[   25.670186] dwc2 49000000.usb-otg: bound driver configfs-gadget
[   25.890061] dwc2 49000000.usb-otg: new device is high-speed
root@stm32mp1:~# [   26.019542] dwc2 49000000.usb-otg: new device is high-speed
[   26.096071] dwc2 49000000.usb-otg: new address 2
[   31.222350] dwc2 49000000.usb-otg: new device is high-speed
[   31.226512] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[   33.753833] vdda: disabling
[   36.598091] dwc2 49000000.usb-otg: new device is high-speed
[   36.602250] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[   52.214122] dwc2 49000000.usb-otg: new device is high-speed
[   52.218284] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[   52.766081] dwc2 49000000.usb-otg: new device is high-speed
[   52.770240] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[   52.834110] dwc2 49000000.usb-otg: new device is high-speed
[   52.838268] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[   63.942154] dwc2 49000000.usb-otg: new device is high-speed
[   63.946317] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)

root@stm32mp1:~# 
root@stm32mp1:~# sh stm32_usbotg_eth_config.sh restart
Stop usb gadget
Start usb gadget
[  493.524882] using random self ethernet address
[  493.527893] using random host ethernet address
[  493.564212] usb0: HOST MAC aa:e9:7d:64:72:80
[  493.567776] usb0: MAC 36:6e:a3:cb:43:44
[  493.576958] dwc2 49000000.usb-otg: bound driver configfs-gadget
[  493.782072] dwc2 49000000.usb-otg: new device is high-speed
root@stm32mp1:~# [  493.910405] dwc2 49000000.usb-otg: new device is high-speed
[  493.988066] dwc2 49000000.usb-otg: new address 2
[  499.186228] dwc2 49000000.usb-otg: new device is high-speed
[  499.190390] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[  505.302262] dwc2 49000000.usb-otg: new device is high-speed
[  505.306422] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)

root@stm32mp1:~# 
root@stm32mp1:~# sh stm32_usbotg_eth_config.sh restart
Stop usb gadget
Start usb gadget
[  510.564871] using random self ethernet address
[  510.567884] using random host ethernet address
[  510.601698] usb0: HOST MAC aa:eb:44:7e:ab:76
[  510.605659] usb0: MAC 7a:71:c5:ee:4c:2c
[  510.609147] dwc2 49000000.usb-otg: bound driver configfs-gadget
[  510.810195] dwc2 49000000.usb-otg: new device is high-speed
root@stm32mp1:~# [  510.939707] dwc2 49000000.usb-otg: new device is high-speed
[  511.015992] dwc2 49000000.usb-otg: new address 2
[  516.338274] dwc2 49000000.usb-otg: new device is high-speed
[  516.342435] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[  521.713866] dwc2 49000000.usb-otg: new device is high-speed
[  521.718026] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[  537.329663] dwc2 49000000.usb-otg: new device is high-speed
[  537.333822] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[  537.881594] dwc2 49000000.usb-otg: new device is high-speed
[  537.885754] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[  537.949545] dwc2 49000000.usb-otg: new device is high-speed
[  537.953702] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[  549.057920] dwc2 49000000.usb-otg: new device is high-speed
[  549.062079] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
NOTICE:  CPU: STM32MP157CAC Rev.Z
NOTICE:  Model: STMicroelectronics STM32MP157C-DK2 Discovery Board
INFO:    Reset reason (0x14):
INFO:      Pad Reset from NRST
INFO:    PMIC version = 0x21
INFO:    FCONF: Reading TB_FW firmware configuration file from: 0x2ffe3000
INFO:    FCONF: Reading firmware configuration information for: stm32mp_io
INFO:    Using EMMC
INFO:      Instance 2
INFO:    Boot used partition fsbl1
NOTICE:  BL2: v2.4-r1.0(debug):v2.4-dirty
NOTICE:  BL2: Built : 16:43:51, Nov 17 2020
INFO:    BL2: Doing platform setup
INFO:    RAM: DDR3-DDR3L 16bits 533000Khz
WARNING: Couldn't find property st,phy-cal in dtb
INFO:    Memory size = 0x20000000 (512 MB)
INFO:    BL2: Loading image id 31
INFO:    Loading image id=31 at address 0x2ffff000
INFO:    Image id=31 loaded: 0x2ffff000 - 0x2ffff226
INFO:    FCONF: Reading FW_CONFIG firmware configuration file from: 0x2ffff000
INFO:    FCONF: Reading firmware configuration information for: dyn_cfg
INFO:    FCONF: Reading firmware configuration information for: stm32mp1_firewall
INFO:    BL2: Loading image id 4
INFO:    Loading image id=4 at address 0x2ffc5000
INFO:    Image id=4 loaded: 0x2ffc5000 - 0x2ffd847c
WARNING: Not a known TEE, use default loading options.
INFO:    BL2: Skip loading image id 21
INFO:    BL2: Skip loading image id 22
INFO:    BL2: Loading image id 23
INFO:    Loading image id=23 at address 0xc0500000
INFO:    Image id=23 loaded: 0xc0500000 - 0xc051739b
INFO:    BL2: Loading image id 26
INFO:    Loading image id=26 at address 0x2ffc0000
INFO:    Image id=26 loaded: 0x2ffc0000 - 0x2ffc4a5b
INFO:    BL2: Loading image id 5
INFO:    Loading image id=5 at address 0xc0100000
INFO:    Image id=5 loaded: 0xc0100000 - 0xc01cf9d0
NOTICE:  BL2: Booting BL32
INFO:    Entry point address = 0x2ffc5000
INFO:    SPSR = 0x1d3
NOTICE:  SP_MIN: v2.4-r1.0(debug):v2.4-dirty
NOTICE:  SP_MIN: Built : 16:43:51, Nov 17 2020
INFO:    ARM GICv2 driver initialized
WARNING: Timer is not accurate enough for calibration
INFO:    Set calibration timer to 60 sec
INFO:    stm32mp1 IWDG1 is secure
INFO:    SP_MIN: Initializing runtime services
INFO:    SP_MIN: Preparing exit to normal world


U-Boot 2020.10-stm32mp-r1-dirty (Oct 05 2020 - 15:15:32 +0000)

CPU: STM32MP157CAC Rev.Z
Model: Seeed Studio Odyssey-STM32MP157C Board
Board: stm32mp1 in trusted mode (seeed,stm32mp157c-odyssey)
DRAM:  512 MiB
Clocks:
- MPU : 650 MHz
- MCU : 40.878 MHz
- AXI : 266.500 MHz
- PER : 24 MHz
- DDR : 533 MHz
STM32Programmer key pressed, entering download mode...
WDT:   Started with servicing (32s timeout)
NAND:  0 MiB
MMC:   STM32 SD/MMC: 1
Loading Environment from MMC... OK
In:    serial
Out:   serial
Err:   serial
Net:   eth0: ethernet@5800a000
Hit any key to stop autoboot:  0 
Boot over mmc1!
switch to partitions #0, OK
mmc1(part 0) is current device
Scanning mmc 1:2...
Found /mmc1_extlinux/extlinux.conf
Retrieving file: /mmc1_extlinux/extlinux.conf
239 bytes read in 29 ms (7.8 KiB/s)
Retrieving file: /splash.bmp
18244 bytes read in 30 ms (593.8 KiB/s)
1:	OpenSTLinux
Retrieving file: /uImage
7455528 bytes read in 346 ms (20.5 MiB/s)
append: root=PARTUUID=491f6117-415d-4f53-88c9-6e0de54deac6 rootwait rw console=ttySTM0,115200
Retrieving file: /stm32mp157c-odyssey.dtb
63615 bytes read in 32 ms (1.9 MiB/s)
## Booting kernel from Legacy Image at c2000000 ...
   Image Name:   Linux-5.10.10
   Created:      2021-01-23  15:04:06 UTC
   Image Type:   ARM Linux Kernel Image (uncompressed)
   Data Size:    7455464 Bytes = 7.1 MiB
   Load Address: c2000040
   Entry Point:  c2000040
   Verifying Checksum ... OK
## Flattened Device Tree blob at c4000000
   Booting using the fdt blob at 0xc4000000
   XIP Kernel Image
   Loading Device Tree to cffed000, end cffff87e ... OK
ETZPC: 0x48001000 node disabled, decprot 89=2

Starting kernel ...

[    0.000000] Booting Linux on physical CPU 0x0
[    0.000000] Linux version 5.10.10 (oe-user@oe-host) (arm-poky-linux-gnueabi-gcc (GCC) 9.3.0, GNU ld (GNU Binutils) 2.34.0.20200220) #1 SMP PREEMPT Sat Jan 23 15:04:06 UTC 2021
[    0.000000] CPU: ARMv7 Processor [410fc075] revision 5 (ARMv7), cr=10c5387d
[    0.000000] CPU: div instructions available: patching division code
[    0.000000] CPU: PIPT / VIPT nonaliasing data cache, VIPT aliasing instruction cache
[    0.000000] OF: fdt: Machine model: Seeed Studio Odyssey-STM32MP157C Board
[    0.000000] Memory policy: Data cache writealloc
[    0.000000] Reserved memory: created DMA memory pool at 0x10000000, size 0 MiB
[    0.000000] OF: reserved mem: initialized node mcuram2@10000000, compatible id shared-dma-pool
[    0.000000] Reserved memory: created DMA memory pool at 0x10040000, size 0 MiB
[    0.000000] OF: reserved mem: initialized node vdev0vring0@10040000, compatible id shared-dma-pool
[    0.000000] Reserved memory: created DMA memory pool at 0x10041000, size 0 MiB
[    0.000000] OF: reserved mem: initialized node vdev0vring1@10041000, compatible id shared-dma-pool
[    0.000000] Reserved memory: created DMA memory pool at 0x10042000, size 0 MiB
[    0.000000] OF: reserved mem: initialized node vdev0buffer@10042000, compatible id shared-dma-pool
[    0.000000] Reserved memory: created DMA memory pool at 0x30000000, size 0 MiB
[    0.000000] OF: reserved mem: initialized node mcuram@30000000, compatible id shared-dma-pool
[    0.000000] Reserved memory: created DMA memory pool at 0x38000000, size 0 MiB
[    0.000000] OF: reserved mem: initialized node retram@38000000, compatible id shared-dma-pool
[    0.000000] cma: Reserved 128 MiB at 0xd8000000
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x00000000c0000000-0x00000000dfffffff]
[    0.000000]   HighMem  empty
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x00000000c0000000-0x00000000d3ffffff]
[    0.000000]   node   0: [mem 0x00000000d8000000-0x00000000dfffffff]
[    0.000000] Initmem setup node 0 [mem 0x00000000c0000000-0x00000000dfffffff]
[    0.000000] psci: probing for conduit method from DT.
[    0.000000] psci: PSCIv1.1 detected in firmware.
[    0.000000] psci: Using standard PSCI v0.2 function IDs
[    0.000000] psci: MIGRATE_INFO_TYPE not supported.
[    0.000000] psci: SMC Calling Convention v1.2
[    0.000000] percpu: Embedded 20 pages/cpu s51788 r8192 d21940 u81920
[    0.000000] Built 1 zonelists, mobility grouping on.  Total pages: 113536
[    0.000000] Kernel command line: root=PARTUUID=491f6117-415d-4f53-88c9-6e0de54deac6 rootwait rw console=ttySTM0,115200
[    0.000000] Dentry cache hash table entries: 65536 (order: 6, 262144 bytes, linear)
[    0.000000] Inode-cache hash table entries: 32768 (order: 5, 131072 bytes, linear)
[    0.000000] mem auto-init: stack:off, heap alloc:off, heap free:off
[    0.000000] Memory: 304684K/458752K available (11264K kernel code, 1206K rwdata, 3312K rodata, 1024K init, 248K bss, 22996K reserved, 131072K cma-reserved, 0K highmem)
[    0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=2, Nodes=1
[    0.000000] rcu: Preemptible hierarchical RCU implementation.
[    0.000000] rcu: 	RCU event tracing is enabled.
[    0.000000] 	Trampoline variant of Tasks RCU enabled.
[    0.000000] 	Tracing variant of Tasks RCU enabled.
[    0.000000] rcu: RCU calculated value of scheduler-enlistment delay is 10 jiffies.
[    0.000000] NR_IRQS: 16, nr_irqs: 16, preallocated irqs: 16
[    0.000000] random: get_random_bytes called from start_kernel+0x390/0x568 with crng_init=0
[    0.000000] arch_timer: cp15 timer(s) running at 24.00MHz (virt).
[    0.000000] clocksource: arch_sys_counter: mask: 0xffffffffffffff max_cycles: 0x588fe9dc0, max_idle_ns: 440795202592 ns
[    0.000009] sched_clock: 56 bits at 24MHz, resolution 41ns, wraps every 4398046511097ns
[    0.000030] Switching to timer-based delay loop, resolution 41ns
[    0.001342] Console: colour dummy device 80x30
[    0.001398] Calibrating delay loop (skipped), value calculated using timer frequency.. 48.00 BogoMIPS (lpj=240000)
[    0.001428] pid_max: default: 32768 minimum: 301
[    0.001691] Mount-cache hash table entries: 1024 (order: 0, 4096 bytes, linear)
[    0.001719] Mountpoint-cache hash table entries: 1024 (order: 0, 4096 bytes, linear)
[    0.003068] CPU: Testing write buffer coherency: ok
[    0.003519] /cpus/cpu@0 missing clock-frequency property
[    0.003563] /cpus/cpu@1 missing clock-frequency property
[    0.003585] CPU0: thread -1, cpu 0, socket 0, mpidr 80000000
[    0.004867] Setting up static identity map for 0xc0100000 - 0xc0100060
[    0.005084] rcu: Hierarchical SRCU implementation.
[    0.006545] smp: Bringing up secondary CPUs ...
[    0.007783] CPU1: thread -1, cpu 1, socket 0, mpidr 80000001
[    0.008042] smp: Brought up 1 node, 2 CPUs
[    0.008075] SMP: Total of 2 processors activated (96.00 BogoMIPS).
[    0.008087] CPU: All CPU(s) started in SVC mode.
[    0.008932] devtmpfs: initialized
[    0.034735] VFP support v0.3: implementor 41 architecture 2 part 30 variant 7 rev 5
[    0.035119] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 19112604462750000 ns
[    0.035156] futex hash table entries: 512 (order: 3, 32768 bytes, linear)
[    0.041402] pinctrl core: initialized pinctrl subsystem
[    0.043390] NET: Registered protocol family 16
[    0.046908] DMA: preallocated 256 KiB pool for atomic coherent allocations
[    0.048936] thermal_sys: Registered thermal governor 'step_wise'
[    0.049335] cpuidle: using governor menu
[    0.049753] hw-breakpoint: found 5 (+1 reserved) breakpoint and 4 watchpoint registers.
[    0.049774] hw-breakpoint: maximum watchpoint size is 8 bytes.
[    0.050191] Serial: AMBA PL011 UART driver
[    0.090033] stm32-pm-domain pm_domain: domain core-ret-power-domain registered
[    0.090083] stm32-pm-domain pm_domain: subdomain core-power-domain registered
[    0.090103] stm32-pm-domain pm_domain: domains probed
[    0.117844] SCSI subsystem initialized
[    0.118900] usbcore: registered new interface driver usbfs
[    0.119003] usbcore: registered new interface driver hub
[    0.119088] usbcore: registered new device driver usb
[    0.119400] pps_core: LinuxPPS API ver. 1 registered
[    0.119418] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti <giometti@linux.it>
[    0.119456] PTP clock support registered
[    0.120376] arm-scmi firmware:scmi0: SCMI Notifications - Core Enabled.
[    0.120469] arm-scmi firmware:scmi0: SCMI Protocol v2.0 'ST:' Firmware version 0x0
[    0.123882] clocksource: Switched to clocksource arch_sys_counter
[    1.571079] NET: Registered protocol family 2
[    1.572360] tcp_listen_portaddr_hash hash table entries: 512 (order: 0, 6144 bytes, linear)
[    1.572538] TCP established hash table entries: 4096 (order: 2, 16384 bytes, linear)
[    1.572615] TCP bind hash table entries: 4096 (order: 3, 32768 bytes, linear)
[    1.572715] TCP: Hash tables configured (established 4096 bind 4096)
[    1.572890] UDP hash table entries: 256 (order: 1, 8192 bytes, linear)
[    1.572961] UDP-Lite hash table entries: 256 (order: 1, 8192 bytes, linear)
[    1.573474] NET: Registered protocol family 1
[    1.574622] RPC: Registered named UNIX socket transport module.
[    1.574651] RPC: Registered udp transport module.
[    1.574665] RPC: Registered tcp transport module.
[    1.574678] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    1.575796] hw perfevents: enabled with armv7_cortex_a7 PMU driver, 5 counters available
[    1.577795] Initialise system trusted keyrings
[    1.578281] workingset: timestamp_bits=14 max_order=17 bucket_order=3
[    1.589410] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    1.590902] NFS: Registering the id_resolver key type
[    1.590961] Key type id_resolver registered
[    1.590976] Key type id_legacy registered
[    1.591181] nfs4filelayout_init: NFSv4 File Layout Driver Registering...
[    1.591374] ntfs: driver 2.1.32 [Flags: R/O].
[    1.591712] jffs2: version 2.2. (NAND) Â 2001-2006 Red Hat, Inc.
[    1.592654] fuse: init (API version 7.32)
[    1.593782] NET: Registered protocol family 38
[    1.593811] Key type asymmetric registered
[    1.593827] Asymmetric key parser 'x509' registered
[    1.594078] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 246)
[    1.594099] io scheduler mq-deadline registered
[    1.594114] io scheduler kyber registered
[    1.601308] reg11: supplied by regulator-dummy
[    1.601760] reg18: supplied by regulator-dummy
[    1.602144] usb33: supplied by regulator-dummy
[    1.606910] STM32 USART driver initialized
[    1.629845] brd: module loaded
[    1.631097] random: fast init done
[    1.635918] random: crng init done
[    1.644447] loop: module loaded
[    1.650350] libphy: Fixed MDIO Bus: probed
[    1.652507] CAN device driver interface
[    1.654567] pegasus: v0.9.3 (2013/04/25), Pegasus/Pegasus II USB Ethernet driver
[    1.654701] usbcore: registered new interface driver pegasus
[    1.654791] usbcore: registered new interface driver asix
[    1.654857] usbcore: registered new interface driver ax88179_178a
[    1.654922] usbcore: registered new interface driver cdc_ether
[    1.655006] usbcore: registered new interface driver smsc75xx
[    1.655090] usbcore: registered new interface driver smsc95xx
[    1.655166] usbcore: registered new interface driver net1080
[    1.655232] usbcore: registered new interface driver cdc_subset
[    1.655294] usbcore: registered new interface driver zaurus
[    1.655386] usbcore: registered new interface driver cdc_ncm
[    1.656543] ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver
[    1.656601] ehci-platform: EHCI generic platform driver
[    1.657107] ohci_hcd: USB 1.1 'Open' Host Controller (OHCI) Driver
[    1.657156] ohci-platform: OHCI generic platform driver
[    1.658036] usbcore: registered new interface driver usb-storage
[    1.661659] i2c /dev entries driver
[    1.666099] stm32-cpufreq stm32-cpufreq: Failed to get chip info: -517
[    1.667162] sdhci: Secure Digital Host Controller Interface driver
[    1.667183] sdhci: Copyright(c) Pierre Ossman
[    1.667195] Synopsys Designware Multimedia Card Interface Driver
[    1.667643] sdhci-pltfm: SDHCI platform and OF driver helper
[    1.668971] ledtrig-cpu: registered to indicate activity on CPUs
[    1.669097] SMCCC: SOC_ID: ARCH_SOC_ID not implemented, skipping ....
[    1.669568] usbcore: registered new interface driver usbhid
[    1.669588] usbhid: USB HID core driver
[    1.671035] remoteproc remoteproc0: releasing m4
[    1.673231] NET: Registered protocol family 17
[    1.673277] can: controller area network core
[    1.673408] NET: Registered protocol family 29
[    1.673429] can: raw protocol
[    1.673444] can: broadcast manager protocol
[    1.673466] can: netlink gateway - max_hops=1
[    1.674377] Key type dns_resolver registered
[    1.674569] ThumbEE CPU extension supported.
[    1.674611] Registering SWP/SWPB emulation handler
[    1.675032] registered taskstats version 1
[    1.675064] Loading compiled-in X.509 certificates
[    1.719353] stm32-mdma 58000000.dma-controller: STM32 MDMA driver registered
[    1.721904] stm32-dma 48000000.dma-controller: no dma pool: can't use MDMA: 0
[    1.723531] stm32-dma 48000000.dma-controller: STM32 DMA driver registered
[    1.737920] remoteproc remoteproc0: releasing m4
[    1.738822] /soc/interrupt-controller@5000d000: bank0
[    1.738851] /soc/interrupt-controller@5000d000: bank1
[    1.738872] /soc/interrupt-controller@5000d000: bank2
[    1.741154] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOA bank added
[    1.741635] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOB bank added
[    1.742066] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOC bank added
[    1.742471] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOD bank added
[    1.742869] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOE bank added
[    1.743300] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOF bank added
[    1.743738] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOG bank added
[    1.744317] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOH bank added
[    1.744763] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOI bank added
[    1.745026] stm32mp157-pinctrl soc:pin-controller@50002000: Pinctrl STM32 initialized
[    1.746301] stm32mp157-pinctrl soc:pin-controller-z@54004000: GPIOZ bank added
[    1.746343] stm32mp157-pinctrl soc:pin-controller-z@54004000: Pinctrl STM32 initialized
[    1.749393] stm32-usart 4000e000.serial: failed to get alias id, errno -19
[    1.751577] 40010000.serial: ttySTM0 at MMIO 0x40010000 (irq = 46, base_baud = 4000000) is a stm32-usart
[    2.892348] printk: console [ttySTM0] enabled
[    2.898549] stm32-usart 5c000000.serial: failed to get alias id, errno -19
[    2.906141] stm32-dwmac 5800a000.ethernet: IRQ eth_lpi not found
[    2.910889] stm32-dwmac 5800a000.ethernet: PTP uses main clock
[    2.916656] stm32-dwmac 5800a000.ethernet: no reset control found
[    2.923429] stm32-dwmac 5800a000.ethernet: User ID: 0x40, Synopsys ID: 0x42
[    2.929707] stm32-dwmac 5800a000.ethernet: 	DWMAC4/5
[    2.934646] stm32-dwmac 5800a000.ethernet: DMA HW capability register supported
[    2.941926] stm32-dwmac 5800a000.ethernet: RX Checksum Offload Engine supported
[    2.949284] stm32-dwmac 5800a000.ethernet: TX Checksum insertion supported
[    2.956161] stm32-dwmac 5800a000.ethernet: Wake-Up On Lan supported
[    2.962553] stm32-dwmac 5800a000.ethernet: TSO supported
[    2.967797] stm32-dwmac 5800a000.ethernet: Enable RX Mitigation via HW Watchdog Timer
[    2.975616] stm32-dwmac 5800a000.ethernet: Enabled Flow TC (entries=2)
[    2.982123] stm32-dwmac 5800a000.ethernet: TSO feature enabled
[    2.987995] stm32-dwmac 5800a000.ethernet: Using 32 bits DMA width
[    2.995510] libphy: stmmac: probed
[    2.997565] mdio_bus stmmac-0: fixed-link has invalid PHY address
[    3.005714] mdio_bus stmmac-0: scan phy fixed-link at address 1
[    3.019896] stm32_rtc 5c004000.rtc: registered as rtc0
[    3.023665] stm32_rtc 5c004000.rtc: setting system clock to 2000-01-01T00:09:50 UTC (946685390)
[    3.033217] stm32_rtc 5c004000.rtc: Date/Time must be initialized
[    3.038517] stm32_rtc 5c004000.rtc: registered rev:1.2
[    3.066777] stpmic1 0-0033: PMIC Chip Version: 0x21
[    3.080204] vddcore: supplied by regulator-dummy
[    3.087048] vdd_ddr: supplied by regulator-dummy
[    3.093745] vdd: supplied by regulator-dummy
[    3.100679] v3v3: supplied by regulator-dummy
[    3.106765] v3v3_env: supplied by v3v3
[    3.114882] v3v3_eth0: supplied by vin
[    3.121154] vtt_ddr: supplied by vdd_ddr
[    3.124547] vdd_usb: supplied by regulator-dummy
[    3.132364] vdda: supplied by regulator-dummy
[    3.139488] v3v3_cam: supplied by v3v3
[    3.145896] stpmic1-regulator 40013000.i2c:stpmic@33:regulators: Supply for VREF_DDR (vref_ddr) resolved to itself
[    3.154945] vref_ddr: supplied by regulator-dummy
[    3.160481] bst_out: supplied by regulator-dummy
[    3.165496] vbus_otg: supplied by bst_out
[    3.169723] vbus_sw: supplied by bst_out
[    3.177248] input: pmic_onkey as /devices/platform/soc/40013000.i2c/i2c-0/0-0033/40013000.i2c:stpmic@33:onkey/input/input0
[    3.188058] stm32f7-i2c 40013000.i2c: STM32F7 I2C-0 bus adapter
[    3.213231] stm32f7-i2c 5c002000.i2c: using dma0chan0 (tx) and dma0chan1 (rx) for DMA transfers
[    3.221271] stm32f7-i2c 5c002000.i2c: STM32F7 I2C-1 bus adapter
[    3.247019] stm32f7-i2c 5c009000.i2c: using dma0chan2 (tx) and dma0chan3 (rx) for DMA transfers
[    3.255057] stm32f7-i2c 5c009000.i2c: STM32F7 I2C-2 bus adapter
[    3.263127] mmci-pl18x 58007000.sdmmc: mmc0: PL180 manf 53 rev2 at 0x58007000 irq 42,0 (pio)
[    3.301494] stm32-ipcc 4c001000.mailbox: ipcc rev:1.0 enabled, 6 chans, proc 0
[    3.310214] stm32-rproc 10000000.m4: wdg irq registered
[    3.316342] remoteproc remoteproc0: m4 is available
[    3.322135] stm32-usbphyc 5a006000.usbphyc: registered rev:1.0
[    3.330628] dwc2 49000000.usb-otg: supply vusb_d not found, using dummy regulator
[    3.338137] dwc2 49000000.usb-otg: supply vusb_a not found, using dummy regulator
[    3.379904] mmc0: new DDR MMC card at address 0001
[    3.384661] mmcblk0: mmc0:0001 M62704 3.56 GiB 
[    3.388450] mmcblk0boot0: mmc0:0001 M62704 partition 1 2.00 MiB
[    3.394580] mmcblk0boot1: mmc0:0001 M62704 partition 2 2.00 MiB
[    3.400045] mmcblk0rpmb: mmc0:0001 M62704 partition 3 512 KiB, chardev (243:0)
[    3.414116]  mmcblk0: p1 p2 p3 p4 p5
[    3.474331] dwc2 49000000.usb-otg: EPs: 9, dedicated fifos, 952 entries in SPRAM
[    3.481103] dwc2 49000000.usb-otg: DWC OTG Controller
[    3.485520] dwc2 49000000.usb-otg: new USB bus registered, assigned bus number 1
[    3.492829] dwc2 49000000.usb-otg: irq 69, io mem 0x49000000
[    3.499987] hub 1-0:1.0: USB hub found
[    3.502356] hub 1-0:1.0: 1 port detected
[    3.508988] ehci-platform 5800d000.usbh-ehci: EHCI Host Controller
[    3.513764] ehci-platform 5800d000.usbh-ehci: new USB bus registered, assigned bus number 2
[    3.522725] ehci-platform 5800d000.usbh-ehci: irq 48, io mem 0x5800d000
[    3.553911] ehci-platform 5800d000.usbh-ehci: USB 2.0 started, EHCI 1.00
[    3.560612] hub 2-0:1.0: USB hub found
[    3.562992] hub 2-0:1.0: 2 ports detected
[    3.569186] ohci-platform 5800c000.usbh-ohci: Generic Platform OHCI controller
[    3.575098] ohci-platform 5800c000.usbh-ohci: new USB bus registered, assigned bus number 3
[    3.583765] ohci-platform 5800c000.usbh-ohci: irq 44, io mem 0x5800c000
[    3.659259] hub 3-0:1.0: USB hub found
[    3.661631] hub 3-0:1.0: 2 ports detected
[    3.741673] EXT4-fs (mmcblk0p4): recovery complete
[    3.745840] EXT4-fs (mmcblk0p4): mounted filesystem with ordered data mode. Opts: (null)
[    3.753243] VFS: Mounted root (ext4 filesystem) on device 179:4.
[    3.760149] devtmpfs: mounted
[    3.764383] Freeing unused kernel memory: 1024K
[    3.767904] Run /sbin/init as init process
[    3.948124] systemd[1]: System time before build time, advancing clock.
[    4.060130] NET: Registered protocol family 10
[    4.095341] Segment Routing with IPv6
[    4.123425] systemd[1]: systemd 244.5+ running in system mode. (-PAM -AUDIT -SELINUX +IMA -APPARMOR -SMACK +SYSVINIT +UTMP -LIBCRYPTSETUP -GCRYPT -GNUTLS +ACL +XZ -LZ4 -SECCOMP +BLKID -ELFUTILS +KMOD -IDN2 -IDN -PCRE2 default-hierarchy=hybrid)
[    4.144925] systemd[1]: Detected architecture arm.

Welcome to Poky (Yocto Project Reference Distro) 3.1.19 (dunfell)!

[    4.215027] systemd[1]: Set hostname to <stm32mp1>.
[    4.226005] systemd[1]: Hardware watchdog 'STM32 Independent Watchdog', version 0
[    4.233176] systemd[1]: Set hardware watchdog to 32s.
[    4.995657] systemd[1]: Created slice system-getty.slice.
[  OK  ] Created slice system-getty.slice.
[    5.026480] systemd[1]: Created slice system-serial\x2dgetty.slice.
[  OK  ] Created slice system-serial\x2dgetty.slice.
[    5.056519] systemd[1]: Created slice User and Session Slice.
[  OK  ] Created slice User and Session Slice.
[    5.084807] systemd[1]: Started Dispatch Password Requests to Console Directory Watch.
[  OK  ] Started Dispatch Password â¦ts to Console Directory Watch.
[    5.124691] systemd[1]: Started Forward Password Requests to Wall Directory Watch.
[  OK  ] Started Forward Password Râ¦uests to Wall Directory Watch.
[    5.154491] systemd[1]: Reached target Host and Network Name Lookups.
[  OK  ] Reached target Host and Network Name Lookups.
[    5.194206] systemd[1]: Reached target Paths.
[  OK  ] Reached target Paths.
[    5.224257] systemd[1]: Reached target Remote File Systems.
[  OK  ] Reached target Remote File Systems.
[    5.254183] systemd[1]: Reached target Slices.
[  OK  ] Reached target Slices.
[    5.284237] systemd[1]: Reached target Swap.
[  OK  ] Reached target Swap.
[    5.315422] systemd[1]: Listening on Syslog Socket.
[  OK  ] Listening on Syslog Socket.
[    5.344844] systemd[1]: Listening on initctl Compatibility Named Pipe.
[  OK  ] Listening on initctl Compatibility Named Pipe.
[    5.381011] systemd[1]: Condition check resulted in Journal Audit Socket being skipped.
[    5.388907] systemd[1]: Listening on Journal Socket (/dev/log).
[  OK  ] Listening on Journal Socket (/dev/log).
[    5.425280] systemd[1]: Listening on Journal Socket.
[  OK  ] Listening on Journal Socket.
[    5.455588] systemd[1]: Listening on Network Service Netlink Socket.
[  OK  ] Listening on Network Service Netlink Socket.
[    5.485224] systemd[1]: Listening on udev Control Socket.
[  OK  ] Listening on udev Control Socket.
[    5.514995] systemd[1]: Listening on udev Kernel Socket.
[  OK  ] Listening on udev Kernel Socket.
[    5.545361] systemd[1]: Condition check resulted in Huge Pages File System being skipped.
[    5.559685] systemd[1]: Mounting POSIX Message Queue File System...
         Mounting POSIX Message Queue File System...
[    5.601389] systemd[1]: Mounting Kernel Debug File System...
         Mounting Kernel Debug File System...
[    5.642151] systemd[1]: Mounting Temporary Directory (/tmp)...
         Mounting Temporary Directory (/tmp)...
[    5.682099] systemd[1]: Starting Create list of static device nodes for the current kernel...
         Starting Create list of stâ¦odes for the current kernel...
[    5.724482] systemd[1]: Condition check resulted in File System Check on Root Device being skipped.
[    5.742287] systemd[1]: Starting Journal Service...
         Starting Journal Service...
[    5.777347] systemd[1]: Condition check resulted in Load Kernel Modules being skipped.
[    5.791501] systemd[1]: Mounting FUSE Control File System...
         Mounting FUSE Control File System...
[    5.812043] systemd[1]: Mounting Kernel Configuration File System...
         Mounting Kernel Configuration File System...
[    5.870898] systemd[1]: Starting Remount Root and Kernel File Systems...
         Starting Remount Root and Kernel File Systems...
[    5.921937] systemd[1]: Starting Apply Kernel Variables...
         Starting Apply Kernel Variables...
[    5.950765] EXT4-fs (mmcblk0p4): re-mounted. Opts: (null)
[    5.986603] systemd[1]: Starting udev Coldplug all Devices...
         Starting udev Coldplug all Devices...
[    6.041088] systemd[1]: Started Journal Service.
[  OK  ] Started Journal Service.
[  OK  ] Mounted POSIX Message Queue File System.
[  OK  ] Mounted Kernel Debug File System.
[  OK  ] Mounted Temporary Directory (/tmp).
[  OK  ] Started Create list of staâ nodes for the current kernel.
[  OK  ] Mounted FUSE Control File System.
[  OK  ] Mounted Kernel Configuration File System.
[  OK  ] Started Remount Root and Kernel File Systems.
[  OK  ] Started Apply Kernel Variables.
         Starting Flush Journal to Persistent Storage...
[    6.373082] systemd-journald[107]: Received client request to flush runtime journal.
         Starting Create Static Device Nodes in /dev...
[  OK  ] Started Flush Journal to Persistent Storage.
[  OK  ] Started Create Static Device Nodes in /dev.
[  OK  ] Reached target Local File Systems (Pre).
         Mounting /var/volatile...
         Starting udev Kernel Device Manager...
[  OK  ] Mounted /var/volatile.
         Starting Load/Save Random Seed...
[  OK  ] Reached target Local File Systems.
         Starting Create Volatile Files and Directories...
[  OK  ] Started Load/Save Random Seed.
[  OK  ] Started Create Volatile Files and Directories.
         Starting Network Time Synchronization...
         Starting Update UTMP about System Boot/Shutdown...
[  OK  ] Started udev Kernel Device Manager.
[  OK  ] Started Update UTMP about System Boot/Shutdown.
[  OK  ] Started udev Coldplug all Devices.
         Starting udev Wait for Complete Device Initialization...
[  OK  ] Started Network Time Synchronization.
[  OK  ] Reached target System Time Set.
[  OK  ] Reached target System Time Synchronized.
[    8.064665] spidev@0 enforce active low on chipselect handle
[    8.084606] spi_stm32 4000b000.spi: driver initialized
[  OK  ] Reached target Hardware activated USB gadget.
[    8.401321] etnaviv etnaviv: bound 59000000.gpu (ops gpu_ops [etnaviv])
[    8.424195] etnaviv-gpu 59000000.gpu: model: GC400, revision: 4652
[    8.451783] etnaviv-gpu 59000000.gpu: Need to move linear window on MC1.0, disabling TS
[    8.474284] [drm] Initialized etnaviv 1.3.0 20151214 for etnaviv on minor 0
[  OK  ] Started udev Wait for Complete Device Initialization.
[  OK  ] Listening on Load/Save RF â¦itch Status /dev/rfkill Watch.
[  OK  ] Started Hardware RNG Entropy Gatherer Daemon.
[  OK  ] Reached target System Initialization.
[  OK  ] Started Daily Cleanup of Temporary Directories.
[  OK  ] Reached target Timers.
[  OK  ] Listening on D-Bus System Message Bus Socket.
         Starting sshd.socket.
[  OK  ] Listening on sshd.socket.
[  OK  ] Reached target Sockets.
[  OK  ] Reached target Basic System.
[  OK  ] Started Kernel Logging Service.
[  OK  ] Started System Logging Service.
[  OK  ] Started D-Bus System Message Bus.
[  OK  ] Started Getty on tty1.
         Starting IPv6 Packet Filtering Framework...
         Starting IPv4 Packet Filtering Framework...
         Starting Telephony service...
[  OK  ] Started Serial Getty on ttySTM0.
[  OK  ] Reached target Login Prompts.
         Starting Login Service...
[  OK  ] Started IPv6 Packet Filtering Framework.
[  OK  ] Started IPv4 Packet Filtering Framework.
[  OK  ] Reached target Network (Pre).
         Starting Connection service...
         Starting Network Service...
[   10.775241] Bluetooth: Core ver 2.22
[   10.781588] NET: Registered protocol family 31
[   10.784709] Bluetooth: HCI device and connection manager initialized
[  OK  ] Started Telephony service.
[   10.804048] Bluetooth: HCI socket layer initialized
[   10.807504] Bluetooth: L2CAP socket layer initialized
[   10.812606] Bluetooth: SCO socket layer initialized
[  OK  ] Started Connection service.
[  OK  ] Started Network Service.
[   11.439649] stm32-dwmac 5800a000.ethernet eth0: validation of rmii with support 0000000,00000000,00006280 and advertisement 0000000,00000000,00006280 failed: -22
         Starting WPA supplicant...
[   11.489352] stm32-dwmac 5800a000.ethernet eth0: no phy at addr -1
[   11.495561] stm32-dwmac 5800a000.ethernet eth0: stmmac_open: Cannot attach to PHY (error: -19)
[   11.513503] stm32-dwmac 5800a000.ethernet eth0: validation of rmii with support 0000000,00000000,00006280 and advertisement 0000000,00000000,00006280 failed: -22
[   11.565389] stm32-dwmac 5800a000.ethernet eth0: no phy at addr -1
[   11.570060] stm32-dwmac 5800a000.ethernet eth0: stmmac_open: Cannot attach to PHY (error: -19)
         Starting Hostname Service...
[  OK  ] Started WPA supplicant.
[  OK  ] Reached target Network.
[  OK  ] Started Login Service.
[  OK  ] Reached target Multi-User System.
         Starting Update UTMP about System Runlevel Changes...
[  OK  ] Started Update UTMP about System Runlevel Changes.
[  OK  ] Started Hostname Service.

Poky (Yocto Project Reference Distro) 3.1.19 stm32mp1 ttySTM0

stm32mp1 login: [   33.753954] vdda: disabling

stm32mp1 login: root
root@stm32mp1:~# sh stm32_usbotg_eth_config.sh restart
Stop usb gadget
Nothing to do
Start usb gadget
[   66.848026] using random self ethernet address
[   66.851036] using random host ethernet address
[   66.899865] usb0: HOST MAC 32:a2:ba:d5:bd:51
[   66.904941] usb0: MAC 4a:06:19:2c:a8:b2
[   66.907400] dwc2 49000000.usb-otg: bound driver configfs-gadget
[   67.109822] dwc2 49000000.usb-otg: new device is high-speed
root@stm32mp1:~# [   67.238781] dwc2 49000000.usb-otg: new device is high-speed
[   67.315815] dwc2 49000000.usb-otg: new address 2
[   72.617847] dwc2 49000000.usb-otg: new device is high-speed
[   72.622008] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[   77.993708] dwc2 49000000.usb-otg: new device is high-speed
[   77.997868] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[   93.609344] dwc2 49000000.usb-otg: new device is high-speed
[   93.613504] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[   94.161288] dwc2 49000000.usb-otg: new device is high-speed
[   94.165449] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[   94.229229] dwc2 49000000.usb-otg: new device is high-speed
[   94.233385] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[  105.337577] dwc2 49000000.usb-otg: new device is high-speed
[  105.341734] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
NOTICE:  CPU: STM32MP157CAC Rev.Z
NOTICE:  Model: STMicroelectronics STM32MP157C-DK2 Discovery Board
INFO:    Reset reason (0x14):
INFO:      Pad Reset from NRST
INFO:    PMIC version = 0x21
INFO:    FCONF: Reading TB_FW firmware configuration file from: 0x2ffe3000
INFO:    FCONF: Reading firmware configuration information for: stm32mp_io
INFO:    Using EMMC
INFO:      Instance 2
INFO:    Boot used partition fsbl1
NOTICE:  BL2: v2.4-r1.0(debug):v2.4-dirty
NOTICE:  BL2: Built : 16:43:51, Nov 17 2020
INFO:    BL2: Doing platform setup
INFO:    RAM: DDR3-DDR3L 16bits 533000Khz
WARNING: Couldn't find property st,phy-cal in dtb
INFO:    Memory size = 0x20000000 (512 MB)
INFO:    BL2: Loading image id 31
INFO:    Loading image id=31 at address 0x2ffff000
INFO:    Image id=31 loaded: 0x2ffff000 - 0x2ffff226
INFO:    FCONF: Reading FW_CONFIG firmware configuration file from: 0x2ffff000
INFO:    FCONF: Reading firmware configuration information for: dyn_cfg
INFO:    FCONF: Reading firmware configuration information for: stm32mp1_firewall
INFO:    BL2: Loading image id 4
INFO:    Loading image id=4 at address 0x2ffc5000
INFO:    Image id=4 loaded: 0x2ffc5000 - 0x2ffd847c
WARNING: Not a known TEE, use default loading options.
INFO:    BL2: Skip loading image id 21
INFO:    BL2: Skip loading image id 22
INFO:    BL2: Loading image id 23
INFO:    Loading image id=23 at address 0xc0500000
INFO:    Image id=23 loaded: 0xc0500000 - 0xc051739b
INFO:    BL2: Loading image id 26
INFO:    Loading image id=26 at address 0x2ffc0000
INFO:    Image id=26 loaded: 0x2ffc0000 - 0x2ffc4a5b
INFO:    BL2: Loading image id 5
INFO:    Loading image id=5 at address 0xc0100000
INFO:    Image id=5 loaded: 0xc0100000 - 0xc01cf9d0
NOTICE:  BL2: Booting BL32
INFO:    Entry point address = 0x2ffc5000
INFO:    SPSR = 0x1d3
NOTICE:  SP_MIN: v2.4-r1.0(debug):v2.4-dirty
NOTICE:  SP_MIN: Built : 16:43:51, Nov 17 2020
INFO:    ARM GICv2 driver initialized
WARNING: Timer is not accurate enough for calibration
INFO:    Set calibration timer to 60 sec
INFO:    stm32mp1 IWDG1 is secure
INFO:    SP_MIN: Initializing runtime services
INFO:    SP_MIN: Preparing exit to normal world


U-Boot 2020.10-stm32mp-r1-dirty (Oct 05 2020 - 15:15:32 +0000)

CPU: STM32MP157CAC Rev.Z
Model: Seeed Studio Odyssey-STM32MP157C Board
Board: stm32mp1 in trusted mode (seeed,stm32mp157c-odyssey)
DRAM:  512 MiB
Clocks:
- MPU : 650 MHz
- MCU : 40.878 MHz
- AXI : 266.500 MHz
- PER : 24 MHz
- DDR : 533 MHz
STM32Programmer key pressed, entering download mode...
WDT:   Started with servicing (32s timeout)
NAND:  0 MiB
MMC:   STM32 SD/MMC: 1
Loading Environment from MMC... OK
In:    serial
Out:   serial
Err:   serial
Net:   eth0: ethernet@5800a000
Hit any key to stop autoboot:  0 
Boot over mmc1!
switch to partitions #0, OK
mmc1(part 0) is current device
Scanning mmc 1:2...
Found /mmc1_extlinux/extlinux.conf
Retrieving file: /mmc1_extlinux/extlinux.conf
239 bytes read in 30 ms (6.8 KiB/s)
Retrieving file: /splash.bmp
18244 bytes read in 30 ms (593.8 KiB/s)
1:	OpenSTLinux
Retrieving file: /uImage
7455528 bytes read in 346 ms (20.5 MiB/s)
append: root=PARTUUID=491f6117-415d-4f53-88c9-6e0de54deac6 rootwait rw console=ttySTM0,115200
Retrieving file: /stm32mp157c-odyssey.dtb
63615 bytes read in 32 ms (1.9 MiB/s)
## Booting kernel from Legacy Image at c2000000 ...
   Image Name:   Linux-5.10.10
   Created:      2021-01-23  15:04:06 UTC
   Image Type:   ARM Linux Kernel Image (uncompressed)
   Data Size:    7455464 Bytes = 7.1 MiB
   Load Address: c2000040
   Entry Point:  c2000040
   Verifying Checksum ... OK
## Flattened Device Tree blob at c4000000
   Booting using the fdt blob at 0xc4000000
   XIP Kernel Image
   Loading Device Tree to cffed000, end cffff87e ... OK
ETZPC: 0x48001000 node disabled, decprot 89=2

Starting kernel ...

[    0.000000] Booting Linux on physical CPU 0x0
[    0.000000] Linux version 5.10.10 (oe-user@oe-host) (arm-poky-linux-gnueabi-gcc (GCC) 9.3.0, GNU ld (GNU Binutils) 2.34.0.20200220) #1 SMP PREEMPT Sat Jan 23 15:04:06 UTC 2021
[    0.000000] CPU: ARMv7 Processor [410fc075] revision 5 (ARMv7), cr=10c5387d
[    0.000000] CPU: div instructions available: patching division code
[    0.000000] CPU: PIPT / VIPT nonaliasing data cache, VIPT aliasing instruction cache
[    0.000000] OF: fdt: Machine model: Seeed Studio Odyssey-STM32MP157C Board
[    0.000000] Memory policy: Data cache writealloc
[    0.000000] Reserved memory: created DMA memory pool at 0x10000000, size 0 MiB
[    0.000000] OF: reserved mem: initialized node mcuram2@10000000, compatible id shared-dma-pool
[    0.000000] Reserved memory: created DMA memory pool at 0x10040000, size 0 MiB
[    0.000000] OF: reserved mem: initialized node vdev0vring0@10040000, compatible id shared-dma-pool
[    0.000000] Reserved memory: created DMA memory pool at 0x10041000, size 0 MiB
[    0.000000] OF: reserved mem: initialized node vdev0vring1@10041000, compatible id shared-dma-pool
[    0.000000] Reserved memory: created DMA memory pool at 0x10042000, size 0 MiB
[    0.000000] OF: reserved mem: initialized node vdev0buffer@10042000, compatible id shared-dma-pool
[    0.000000] Reserved memory: created DMA memory pool at 0x30000000, size 0 MiB
[    0.000000] OF: reserved mem: initialized node mcuram@30000000, compatible id shared-dma-pool
[    0.000000] Reserved memory: created DMA memory pool at 0x38000000, size 0 MiB
[    0.000000] OF: reserved mem: initialized node retram@38000000, compatible id shared-dma-pool
[    0.000000] cma: Reserved 128 MiB at 0xd8000000
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x00000000c0000000-0x00000000dfffffff]
[    0.000000]   HighMem  empty
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x00000000c0000000-0x00000000d3ffffff]
[    0.000000]   node   0: [mem 0x00000000d8000000-0x00000000dfffffff]
[    0.000000] Initmem setup node 0 [mem 0x00000000c0000000-0x00000000dfffffff]
[    0.000000] psci: probing for conduit method from DT.
[    0.000000] psci: PSCIv1.1 detected in firmware.
[    0.000000] psci: Using standard PSCI v0.2 function IDs
[    0.000000] psci: MIGRATE_INFO_TYPE not supported.
[    0.000000] psci: SMC Calling Convention v1.2
[    0.000000] percpu: Embedded 20 pages/cpu s51788 r8192 d21940 u81920
[    0.000000] Built 1 zonelists, mobility grouping on.  Total pages: 113536
[    0.000000] Kernel command line: root=PARTUUID=491f6117-415d-4f53-88c9-6e0de54deac6 rootwait rw console=ttySTM0,115200
[    0.000000] Dentry cache hash table entries: 65536 (order: 6, 262144 bytes, linear)
[    0.000000] Inode-cache hash table entries: 32768 (order: 5, 131072 bytes, linear)
[    0.000000] mem auto-init: stack:off, heap alloc:off, heap free:off
[    0.000000] Memory: 304684K/458752K available (11264K kernel code, 1206K rwdata, 3312K rodata, 1024K init, 248K bss, 22996K reserved, 131072K cma-reserved, 0K highmem)
[    0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=2, Nodes=1
[    0.000000] rcu: Preemptible hierarchical RCU implementation.
[    0.000000] rcu: 	RCU event tracing is enabled.
[    0.000000] 	Trampoline variant of Tasks RCU enabled.
[    0.000000] 	Tracing variant of Tasks RCU enabled.
[    0.000000] rcu: RCU calculated value of scheduler-enlistment delay is 10 jiffies.
[    0.000000] NR_IRQS: 16, nr_irqs: 16, preallocated irqs: 16
[    0.000000] random: get_random_bytes called from start_kernel+0x390/0x568 with crng_init=0
[    0.000000] arch_timer: cp15 timer(s) running at 24.00MHz (virt).
[    0.000000] clocksource: arch_sys_counter: mask: 0xffffffffffffff max_cycles: 0x588fe9dc0, max_idle_ns: 440795202592 ns
[    0.000009] sched_clock: 56 bits at 24MHz, resolution 41ns, wraps every 4398046511097ns
[    0.000031] Switching to timer-based delay loop, resolution 41ns
[    0.001336] Console: colour dummy device 80x30
[    0.001392] Calibrating delay loop (skipped), value calculated using timer frequency.. 48.00 BogoMIPS (lpj=240000)
[    0.001422] pid_max: default: 32768 minimum: 301
[    0.001684] Mount-cache hash table entries: 1024 (order: 0, 4096 bytes, linear)
[    0.001711] Mountpoint-cache hash table entries: 1024 (order: 0, 4096 bytes, linear)
[    0.003057] CPU: Testing write buffer coherency: ok
[    0.003505] /cpus/cpu@0 missing clock-frequency property
[    0.003550] /cpus/cpu@1 missing clock-frequency property
[    0.003572] CPU0: thread -1, cpu 0, socket 0, mpidr 80000000
[    0.004856] Setting up static identity map for 0xc0100000 - 0xc0100060
[    0.005070] rcu: Hierarchical SRCU implementation.
[    0.006533] smp: Bringing up secondary CPUs ...
[    0.007772] CPU1: thread -1, cpu 1, socket 0, mpidr 80000001
[    0.008031] smp: Brought up 1 node, 2 CPUs
[    0.008064] SMP: Total of 2 processors activated (96.00 BogoMIPS).
[    0.008077] CPU: All CPU(s) started in SVC mode.
[    0.008937] devtmpfs: initialized
[    0.034748] VFP support v0.3: implementor 41 architecture 2 part 30 variant 7 rev 5
[    0.035125] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 19112604462750000 ns
[    0.035164] futex hash table entries: 512 (order: 3, 32768 bytes, linear)
[    0.041382] pinctrl core: initialized pinctrl subsystem
[    0.043370] NET: Registered protocol family 16
[    0.046776] DMA: preallocated 256 KiB pool for atomic coherent allocations
[    0.048661] thermal_sys: Registered thermal governor 'step_wise'
[    0.049060] cpuidle: using governor menu
[    0.049480] hw-breakpoint: found 5 (+1 reserved) breakpoint and 4 watchpoint registers.
[    0.049502] hw-breakpoint: maximum watchpoint size is 8 bytes.
[    0.050019] Serial: AMBA PL011 UART driver
[    0.089859] stm32-pm-domain pm_domain: domain core-ret-power-domain registered
[    0.089909] stm32-pm-domain pm_domain: subdomain core-power-domain registered
[    0.089928] stm32-pm-domain pm_domain: domains probed
[    0.117756] SCSI subsystem initialized
[    0.118642] usbcore: registered new interface driver usbfs
[    0.118730] usbcore: registered new interface driver hub
[    0.118808] usbcore: registered new device driver usb
[    0.119123] pps_core: LinuxPPS API ver. 1 registered
[    0.119141] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti <giometti@linux.it>
[    0.119189] PTP clock support registered
[    0.120068] arm-scmi firmware:scmi0: SCMI Notifications - Core Enabled.
[    0.120161] arm-scmi firmware:scmi0: SCMI Protocol v2.0 'ST:' Firmware version 0x0
[    0.123777] clocksource: Switched to clocksource arch_sys_counter
[    1.571120] NET: Registered protocol family 2
[    1.572424] tcp_listen_portaddr_hash hash table entries: 512 (order: 0, 6144 bytes, linear)
[    1.572597] TCP established hash table entries: 4096 (order: 2, 16384 bytes, linear)
[    1.572674] TCP bind hash table entries: 4096 (order: 3, 32768 bytes, linear)
[    1.572775] TCP: Hash tables configured (established 4096 bind 4096)
[    1.572955] UDP hash table entries: 256 (order: 1, 8192 bytes, linear)
[    1.573010] UDP-Lite hash table entries: 256 (order: 1, 8192 bytes, linear)
[    1.573537] NET: Registered protocol family 1
[    1.574658] RPC: Registered named UNIX socket transport module.
[    1.574687] RPC: Registered udp transport module.
[    1.574701] RPC: Registered tcp transport module.
[    1.574713] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    1.575879] hw perfevents: enabled with armv7_cortex_a7 PMU driver, 5 counters available
[    1.577872] Initialise system trusted keyrings
[    1.578298] workingset: timestamp_bits=14 max_order=17 bucket_order=3
[    1.589477] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    1.590989] NFS: Registering the id_resolver key type
[    1.591055] Key type id_resolver registered
[    1.591070] Key type id_legacy registered
[    1.591256] nfs4filelayout_init: NFSv4 File Layout Driver Registering...
[    1.591463] ntfs: driver 2.1.32 [Flags: R/O].
[    1.591799] jffs2: version 2.2. (NAND) Â 2001-2006 Red Hat, Inc.
[    1.592766] fuse: init (API version 7.32)
[    1.594033] NET: Registered protocol family 38
[    1.594063] Key type asymmetric registered
[    1.594079] Asymmetric key parser 'x509' registered
[    1.594156] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 246)
[    1.594174] io scheduler mq-deadline registered
[    1.594189] io scheduler kyber registered
[    1.601402] reg11: supplied by regulator-dummy
[    1.601838] reg18: supplied by regulator-dummy
[    1.602220] usb33: supplied by regulator-dummy
[    1.606977] STM32 USART driver initialized
[    1.629894] brd: module loaded
[    1.631126] random: fast init done
[    1.635951] random: crng init done
[    1.644515] loop: module loaded
[    1.650359] libphy: Fixed MDIO Bus: probed
[    1.652562] CAN device driver interface
[    1.654638] pegasus: v0.9.3 (2013/04/25), Pegasus/Pegasus II USB Ethernet driver
[    1.654739] usbcore: registered new interface driver pegasus
[    1.654826] usbcore: registered new interface driver asix
[    1.654893] usbcore: registered new interface driver ax88179_178a
[    1.654959] usbcore: registered new interface driver cdc_ether
[    1.655060] usbcore: registered new interface driver smsc75xx
[    1.655146] usbcore: registered new interface driver smsc95xx
[    1.655210] usbcore: registered new interface driver net1080
[    1.655273] usbcore: registered new interface driver cdc_subset
[    1.655336] usbcore: registered new interface driver zaurus
[    1.655428] usbcore: registered new interface driver cdc_ncm
[    1.656587] ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver
[    1.656643] ehci-platform: EHCI generic platform driver
[    1.657129] ohci_hcd: USB 1.1 'Open' Host Controller (OHCI) Driver
[    1.657175] ohci-platform: OHCI generic platform driver
[    1.658039] usbcore: registered new interface driver usb-storage
[    1.661678] i2c /dev entries driver
[    1.666151] stm32-cpufreq stm32-cpufreq: Failed to get chip info: -517
[    1.667230] sdhci: Secure Digital Host Controller Interface driver
[    1.667249] sdhci: Copyright(c) Pierre Ossman
[    1.667262] Synopsys Designware Multimedia Card Interface Driver
[    1.667705] sdhci-pltfm: SDHCI platform and OF driver helper
[    1.668985] ledtrig-cpu: registered to indicate activity on CPUs
[    1.669109] SMCCC: SOC_ID: ARCH_SOC_ID not implemented, skipping ....
[    1.669567] usbcore: registered new interface driver usbhid
[    1.669587] usbhid: USB HID core driver
[    1.671009] remoteproc remoteproc0: releasing m4
[    1.673275] NET: Registered protocol family 17
[    1.673322] can: controller area network core
[    1.673459] NET: Registered protocol family 29
[    1.673481] can: raw protocol
[    1.673495] can: broadcast manager protocol
[    1.673517] can: netlink gateway - max_hops=1
[    1.674417] Key type dns_resolver registered
[    1.674606] ThumbEE CPU extension supported.
[    1.674638] Registering SWP/SWPB emulation handler
[    1.675080] registered taskstats version 1
[    1.675112] Loading compiled-in X.509 certificates
[    1.719422] stm32-mdma 58000000.dma-controller: STM32 MDMA driver registered
[    1.721955] stm32-dma 48000000.dma-controller: no dma pool: can't use MDMA: 0
[    1.723592] stm32-dma 48000000.dma-controller: STM32 DMA driver registered
[    1.738040] remoteproc remoteproc0: releasing m4
[    1.738945] /soc/interrupt-controller@5000d000: bank0
[    1.738977] /soc/interrupt-controller@5000d000: bank1
[    1.738998] /soc/interrupt-controller@5000d000: bank2
[    1.741281] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOA bank added
[    1.741805] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOB bank added
[    1.742236] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOC bank added
[    1.742641] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOD bank added
[    1.743055] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOE bank added
[    1.743453] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOF bank added
[    1.743977] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOG bank added
[    1.744443] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOH bank added
[    1.744880] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOI bank added
[    1.745146] stm32mp157-pinctrl soc:pin-controller@50002000: Pinctrl STM32 initialized
[    1.746473] stm32mp157-pinctrl soc:pin-controller-z@54004000: GPIOZ bank added
[    1.746517] stm32mp157-pinctrl soc:pin-controller-z@54004000: Pinctrl STM32 initialized
[    1.749504] stm32-usart 4000e000.serial: failed to get alias id, errno -19
[    1.751687] 40010000.serial: ttySTM0 at MMIO 0x40010000 (irq = 46, base_baud = 4000000) is a stm32-usart
[    2.892024] printk: console [ttySTM0] enabled
[    2.898159] stm32-usart 5c000000.serial: failed to get alias id, errno -19
[    2.905757] stm32-dwmac 5800a000.ethernet: IRQ eth_lpi not found
[    2.910508] stm32-dwmac 5800a000.ethernet: PTP uses main clock
[    2.916265] stm32-dwmac 5800a000.ethernet: no reset control found
[    2.923023] stm32-dwmac 5800a000.ethernet: User ID: 0x40, Synopsys ID: 0x42
[    2.929323] stm32-dwmac 5800a000.ethernet: 	DWMAC4/5
[    2.934251] stm32-dwmac 5800a000.ethernet: DMA HW capability register supported
[    2.941529] stm32-dwmac 5800a000.ethernet: RX Checksum Offload Engine supported
[    2.948885] stm32-dwmac 5800a000.ethernet: TX Checksum insertion supported
[    2.955760] stm32-dwmac 5800a000.ethernet: Wake-Up On Lan supported
[    2.962156] stm32-dwmac 5800a000.ethernet: TSO supported
[    2.967370] stm32-dwmac 5800a000.ethernet: Enable RX Mitigation via HW Watchdog Timer
[    2.975207] stm32-dwmac 5800a000.ethernet: Enabled Flow TC (entries=2)
[    2.981714] stm32-dwmac 5800a000.ethernet: TSO feature enabled
[    2.987599] stm32-dwmac 5800a000.ethernet: Using 32 bits DMA width
[    2.995111] libphy: stmmac: probed
[    2.997147] mdio_bus stmmac-0: fixed-link has invalid PHY address
[    3.005341] mdio_bus stmmac-0: scan phy fixed-link at address 1
[    3.019844] stm32_rtc 5c004000.rtc: registered as rtc0
[    3.023606] stm32_rtc 5c004000.rtc: setting system clock to 2000-01-01T00:13:46 UTC (946685626)
[    3.033165] stm32_rtc 5c004000.rtc: Date/Time must be initialized
[    3.038456] stm32_rtc 5c004000.rtc: registered rev:1.2
[    3.066799] stpmic1 0-0033: PMIC Chip Version: 0x21
[    3.080147] vddcore: supplied by regulator-dummy
[    3.086945] vdd_ddr: supplied by regulator-dummy
[    3.093697] vdd: supplied by regulator-dummy
[    3.100598] v3v3: supplied by regulator-dummy
[    3.106755] v3v3_env: supplied by v3v3
[    3.114818] v3v3_eth0: supplied by vin
[    3.121097] vtt_ddr: supplied by vdd_ddr
[    3.124477] vdd_usb: supplied by regulator-dummy
[    3.132257] vdda: supplied by regulator-dummy
[    3.139377] v3v3_cam: supplied by v3v3
[    3.145791] stpmic1-regulator 40013000.i2c:stpmic@33:regulators: Supply for VREF_DDR (vref_ddr) resolved to itself
[    3.154757] vref_ddr: supplied by regulator-dummy
[    3.160347] bst_out: supplied by regulator-dummy
[    3.165378] vbus_otg: supplied by bst_out
[    3.169634] vbus_sw: supplied by bst_out
[    3.177115] input: pmic_onkey as /devices/platform/soc/40013000.i2c/i2c-0/0-0033/40013000.i2c:stpmic@33:onkey/input/input0
[    3.187909] stm32f7-i2c 40013000.i2c: STM32F7 I2C-0 bus adapter
[    3.213098] stm32f7-i2c 5c002000.i2c: using dma0chan0 (tx) and dma0chan1 (rx) for DMA transfers
[    3.221137] stm32f7-i2c 5c002000.i2c: STM32F7 I2C-1 bus adapter
[    3.246892] stm32f7-i2c 5c009000.i2c: using dma0chan2 (tx) and dma0chan3 (rx) for DMA transfers
[    3.254947] stm32f7-i2c 5c009000.i2c: STM32F7 I2C-2 bus adapter
[    3.262999] mmci-pl18x 58007000.sdmmc: mmc0: PL180 manf 53 rev2 at 0x58007000 irq 42,0 (pio)
[    3.301394] stm32-ipcc 4c001000.mailbox: ipcc rev:1.0 enabled, 6 chans, proc 0
[    3.310130] stm32-rproc 10000000.m4: wdg irq registered
[    3.316220] remoteproc remoteproc0: m4 is available
[    3.322035] stm32-usbphyc 5a006000.usbphyc: registered rev:1.0
[    3.330517] dwc2 49000000.usb-otg: supply vusb_d not found, using dummy regulator
[    3.338016] dwc2 49000000.usb-otg: supply vusb_a not found, using dummy regulator
[    3.379774] mmc0: new DDR MMC card at address 0001
[    3.384547] mmcblk0: mmc0:0001 M62704 3.56 GiB 
[    3.388324] mmcblk0boot0: mmc0:0001 M62704 partition 1 2.00 MiB
[    3.394466] mmcblk0boot1: mmc0:0001 M62704 partition 2 2.00 MiB
[    3.399924] mmcblk0rpmb: mmc0:0001 M62704 partition 3 512 KiB, chardev (243:0)
[    3.419380]  mmcblk0: p1 p2 p3 p4 p5
[    3.474206] dwc2 49000000.usb-otg: EPs: 9, dedicated fifos, 952 entries in SPRAM
[    3.480993] dwc2 49000000.usb-otg: DWC OTG Controller
[    3.485378] dwc2 49000000.usb-otg: new USB bus registered, assigned bus number 1
[    3.492687] dwc2 49000000.usb-otg: irq 69, io mem 0x49000000
[    3.499634] hub 1-0:1.0: USB hub found
[    3.502112] hub 1-0:1.0: 1 port detected
[    3.508791] ehci-platform 5800d000.usbh-ehci: EHCI Host Controller
[    3.513563] ehci-platform 5800d000.usbh-ehci: new USB bus registered, assigned bus number 2
[    3.522869] ehci-platform 5800d000.usbh-ehci: irq 48, io mem 0x5800d000
[    3.553798] ehci-platform 5800d000.usbh-ehci: USB 2.0 started, EHCI 1.00
[    3.560445] hub 2-0:1.0: USB hub found
[    3.562878] hub 2-0:1.0: 2 ports detected
[    3.569093] ohci-platform 5800c000.usbh-ohci: Generic Platform OHCI controller
[    3.575006] ohci-platform 5800c000.usbh-ohci: new USB bus registered, assigned bus number 3
[    3.583735] ohci-platform 5800c000.usbh-ohci: irq 44, io mem 0x5800c000
[    3.659131] hub 3-0:1.0: USB hub found
[    3.661513] hub 3-0:1.0: 2 ports detected
[    4.049581] irq 46: nobody cared (try booting with the "irqpoll" option)
[    4.054853] CPU: 0 PID: 1 Comm: swapper/0 Not tainted 5.10.10 #1
[    4.060855] Hardware name: STM32 (Device Tree Support)
[    4.066036] [<c0110824>] (unwind_backtrace) from [<c010c4e0>] (show_stack+0x10/0x14)
[    4.073769] [<c010c4e0>] (show_stack) from [<c0b82ef4>] (dump_stack+0xb8/0xcc)
[    4.081001] [<c0b82ef4>] (dump_stack) from [<c0b7ed6c>] (__report_bad_irq+0x3c/0xc0)
[    4.088758] [<c0b7ed6c>] (__report_bad_irq) from [<c0181eb4>] (note_interrupt+0x25c/0x2a8)
[    4.097034] [<c0181eb4>] (note_interrupt) from [<c017e5c0>] (handle_irq_event_percpu+0x84/0x8c)
[    4.105746] [<c017e5c0>] (handle_irq_event_percpu) from [<c017e600>] (handle_irq_event+0x38/0x5c)
[    4.114637] [<c017e600>] (handle_irq_event) from [<c0183064>] (handle_fasteoi_irq+0xcc/0x17c)
[    4.123178] [<c0183064>] (handle_fasteoi_irq) from [<c017d514>] (generic_handle_irq+0x34/0x44)
[    4.131804] [<c017d514>] (generic_handle_irq) from [<c017db0c>] (__handle_domain_irq+0x7c/0xe8)
[    4.140523] [<c017db0c>] (__handle_domain_irq) from [<c0601b30>] (gic_handle_irq+0x80/0x94)
[    4.148890] [<c0601b30>] (gic_handle_irq) from [<c0100b0c>] (__irq_svc+0x6c/0xa8)
[    4.156375] Exception stack(0xc189dba0 to 0xc189dbe8)
[    4.161438] dba0: 00000000 00000000 12a82000 c1062a40 c1062a40 00000000 c1061ce4 00000282
[    4.169631] dbc0: c189c000 00000000 c1810800 c189dbf0 00000101 c189dbf0 c01012d4 c01012e8
[    4.177817] dbe0: 20000113 ffffffff
[    4.181314] [<c0100b0c>] (__irq_svc) from [<c01012e8>] (__do_softirq+0xc0/0x430)
[    4.188722] [<c01012e8>] (__do_softirq) from [<c012beac>] (irq_exit+0xc4/0xdc)
[    4.195955] [<c012beac>] (irq_exit) from [<c017db10>] (__handle_domain_irq+0x80/0xe8)
[    4.203800] [<c017db10>] (__handle_domain_irq) from [<c0601b30>] (gic_handle_irq+0x80/0x94)
[    4.212168] [<c0601b30>] (gic_handle_irq) from [<c0100b0c>] (__irq_svc+0x6c/0xa8)
[    4.219656] Exception stack(0xc189dc90 to 0xc189dcd8)
[    4.224715] dc80:                                     c1dc1f6c 60000013 00000001 00000005
[    4.232913] dca0: c1dc1f00 00000000 0000002e c2854280 60000013 c1dc1fd4 c1dc1f6c c125a098
[    4.241103] dcc0: 00000000 c189dce0 c01803b0 c0b938f0 60000013 ffffffff
[    4.247735] [<c0100b0c>] (__irq_svc) from [<c0b938f0>] (_raw_spin_unlock_irqrestore+0x20/0x54)
[    4.256363] [<c0b938f0>] (_raw_spin_unlock_irqrestore) from [<c01803b0>] (__setup_irq+0x3c8/0x87c)
[    4.265338] [<c01803b0>] (__setup_irq) from [<c0180938>] (request_threaded_irq+0xd4/0x14c)
[    4.273618] [<c0180938>] (request_threaded_irq) from [<c06b1678>] (stm32_usart_startup+0x3c/0xc8)
[    4.282509] [<c06b1678>] (stm32_usart_startup) from [<c06ac100>] (uart_startup.part.0+0x194/0x258)
[    4.291483] [<c06ac100>] (uart_startup.part.0) from [<c06ac214>] (uart_port_activate+0x50/0x74)
[    4.300199] [<c06ac214>] (uart_port_activate) from [<c0694bb8>] (tty_port_open+0x7c/0xbc)
[    4.308390] [<c0694bb8>] (tty_port_open) from [<c06a9398>] (uart_open+0x14/0x1c)
[    4.315796] [<c06a9398>] (uart_open) from [<c068d50c>] (tty_open+0x12c/0x4d0)
[    4.322943] [<c068d50c>] (tty_open) from [<c02f2e3c>] (chrdev_open+0xb0/0x19c)
[    4.330176] [<c02f2e3c>] (chrdev_open) from [<c02e9720>] (do_dentry_open+0x130/0x3d0)
[    4.338021] [<c02e9720>] (do_dentry_open) from [<c02fe484>] (path_openat+0xa30/0xdb0)
[    4.345866] [<c02fe484>] (path_openat) from [<c02ffd64>] (do_filp_open+0x74/0xe8)
[    4.353360] [<c02ffd64>] (do_filp_open) from [<c02eb5d8>] (file_open_name+0xdc/0x1b4)
[    4.361201] [<c02eb5d8>] (file_open_name) from [<c02eb6d8>] (filp_open+0x28/0x40)
[    4.368699] [<c02eb6d8>] (filp_open) from [<c1000ef4>] (console_on_rootfs+0x18/0x54)
[    4.376457] [<c1000ef4>] (console_on_rootfs) from [<c1001160>] (kernel_init_freeable+0x230/0x268)
[    4.385343] [<c1001160>] (kernel_init_freeable) from [<c0b8ca38>] (kernel_init+0x8/0x118)
[    4.393532] [<c0b8ca38>] (kernel_init) from [<c0100148>] (ret_from_fork+0x14/0x2c)
[    4.401106] Exception stack(0xc189dfb0 to 0xc189dff8)
[    4.406164] dfa0:                                     00000000 00000000 00000000 00000000
[    4.414360] dfc0: 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[    4.422551] dfe0: 00000000 00000000 00000000 00000000 00000013 00000000
[    4.429169] handlers:
[    4.431444] [<60d2d444>] stm32_usart_interrupt threaded [<60bde085>] stm32_usart_threaded_interrupt
[    4.440499] Disabling IRQ #46














[    4.501360] EXT4-fs (mmcblk0p4): recovery complete
[    4.505578] EXT4-fs (mmcblk0p4): mounted filesystem with ordered data mode. Opts: (null)
[    4.512919] VFS: Mounted root (ext4 filesystem) on device 179:4.
[    4.519906] devtmpfs: mounted
[    4.524086] Freeing unused kernel memory: 1024K
[    4.527562] Run /sbin/init as init process
[    4.708925] systemd[1]: System time before build time, advancing clock.
[    4.820225] NET: Registered protocol family 10
[    4.855500] Segment Routing with IPv6
[    4.884438] systemd[1]: systemd 244.5+ running in system mode. (-PAM -AUDIT -SELINUX +IMA -APPARMOR -SMACK +SYSVINIT +UTMP -LIBCRYPTSETUP -GCRYPT -GNUTLS +ACL +XZ -LZ4 -SECCOMP +BLKID -ELFUTILS +KMOD -IDN2 -IDN -PCRE2 default-hierarchy=hybrid)
[    4.907227] systemd[1]: Detected architecture arm.

Welcome to Poky (Yocto Project Reference Distro) 3.1.19 (dunfell)!

[    5.004872] systemd[1]: Set hostname to <stm32mp1>.
[    5.015836] systemd[1]: Hardware watchdog 'STM32 Independent Watchdog', version 0
[    5.023005] systemd[1]: Set hardware watchdog to 32s.
[    5.791170] systemd[1]: Created slice system-getty.slice.
[  OK  ] Created slice system-getty.slice.
[    5.826406] systemd[1]: Created slice system-serial\x2dgetty.slice.
[  OK  ] Created slice system-serial\x2dgetty.slice.
[    5.856355] systemd[1]: Created slice User and Session Slice.
[  OK  ] Created slice User and Session Slice.
[    5.884667] systemd[1]: Started Dispatch Password Requests to Console Directory Watch.
[  OK  ] Started Dispatch Password âts to Console Directory Watch.
[    5.914540] systemd[1]: Started Forward Password Requests to Wall Directory Watch.
[  OK  ] Started Forward Password Râ¦uests to Wall Directory Watch.
[    5.944448] systemd[1]: Reached target Host and Network Name Lookups.
[  OK  ] Reached target Host and Network Name Lookups.
[    5.974121] systemd[1]: Reached target Paths.
[  OK  ] Reached target Paths.
[    6.014125] systemd[1]: Reached target Remote File Systems.
[  OK  ] Reached target Remote File Systems.
[    6.044043] systemd[1]: Reached target Slices.
[  OK  ] Reached target Slices.
[    6.074202] systemd[1]: Reached target Swap.
[  OK  ] Reached target Swap.
[    6.105350] systemd[1]: Listening on Syslog Socket.
[  OK  ] Listening on Syslog Socket.
[    6.134718] systemd[1]: Listening on initctl Compatibility Named Pipe.
[  OK  ] Listening on initctl Compatibility Named Pipe.
[    6.170829] systemd[1]: Condition check resulted in Journal Audit Socket being skipped.
[    6.178711] systemd[1]: Listening on Journal Socket (/dev/log).
[  OK  ] Listening on Journal Socket (/dev/log).
[    6.215173] systemd[1]: Listening on Journal Socket.
[  OK  ] Listening on Journal Socket.
[    6.245486] systemd[1]: Listening on Network Service Netlink Socket.
[  OK  ] Listening on Network Service Netlink Socket.
[    6.275072] systemd[1]: Listening on udev Control Socket.
[  OK  ] Listening on udev Control Socket.
[    6.304886] systemd[1]: Listening on udev Kernel Socket.
[  OK  ] Listening on udev Kernel Socket.
[    6.335230] systemd[1]: Condition check resulted in Huge Pages File System being skipped.
[    6.349690] systemd[1]: Mounting POSIX Message Queue File System...
         Mounting POSIX Message Queue File System...
[    6.391157] systemd[1]: Mounting Kernel Debug File System...
         Mounting Kernel Debug File System...
[    6.431970] systemd[1]: Mounting Temporary Directory (/tmp)...
         Mounting Temporary Directory (/tmp)...
[    6.472207] systemd[1]: Starting Create list of static device nodes for the current kernel...
         Starting Create list of stâ¦odes for the current kernel...
[    6.504441] systemd[1]: Condition check resulted in File System Check on Root Device being skipped.
[    6.522434] systemd[1]: Starting Journal Service...
         Starting Journal Service...
[    6.557132] systemd[1]: Condition check resulted in Load Kernel Modules being skipped.
[    6.571289] systemd[1]: Mounting FUSE Control File System...
         Mounting FUSE Control File System...
[    6.591955] systemd[1]: Mounting Kernel Configuration File System...
         Mounting Kernel Configuration File System...
[    6.640553] systemd[1]: Starting Remount Root and Kernel File Systems...
         Starting Remount Root and Kernel File Systems...
[    6.691868] systemd[1]: Starting Apply Kernel Variables...
         Starting Apply Kernel Variables...
[    6.728758] EXT4-fs (mmcblk0p4): re-mounted. Opts: (null)
[    6.751012] systemd[1]: Starting udev Coldplug all Devices...
         Starting udev Coldplug all Devices...
[    6.807951] systemd[1]: Mounted POSIX Message Queue File System.
[  OK  ] Mounted POSIX Message Queue File System.
[    6.845128] systemd[1]: Started Journal Service.
[  OK  ] Started Journal Service.
[  OK  ] Mounted Kernel Debug File System.
NOTICE:  CPU: STM32MP157CAC Rev.Z
NOTICE:  Model: STMicroelectronics STM32MP157C-DK2 Discovery Board
INFO:    Reset reason (0x14):
INFO:      Pad Reset from NRST
INFO:    PMIC version = 0x21
INFO:    FCONF: Reading TB_FW firmware configuration file from: 0x2ffe3000
INFO:    FCONF: Reading firmware configuration information for: stm32mp_io
INFO:    Using EMMC
INFO:      Instance 2
INFO:    Boot used partition fsbl1
NOTICE:  BL2: v2.4-r1.0(debug):v2.4-dirty
NOTICE:  BL2: Built : 16:43:51, Nov 17 2020
INFO:    BL2: Doing platform setup
INFO:    RAM: DDR3-DDR3L 16bits 533000Khz
WARNING: Couldn't find property st,phy-cal in dtb
INFO:    Memory size = 0x20000000 (512 MB)
INFO:    BL2: Loading image id 31
INFO:    Loading image id=31 at address 0x2ffff000
INFO:    Image id=31 loaded: 0x2ffff000 - 0x2ffff226
INFO:    FCONF: Reading FW_CONFIG firmware configuration file from: 0x2ffff000
INFO:    FCONF: Reading firmware configuration information for: dyn_cfg
INFO:    FCONF: Reading firmware configuration information for: stm32mp1_firewall
INFO:    BL2: Loading image id 4
INFO:    Loading image id=4 at address 0x2ffc5000
INFO:    Image id=4 loaded: 0x2ffc5000 - 0x2ffd847c
WARNING: Not a known TEE, use default loading options.
INFO:    BL2: Skip loading image id 21
INFO:    BL2: Skip loading image id 22
INFO:    BL2: Loading image id 23
INFO:    Loading image id=23 at address 0xc0500000
INFO:    Image id=23 loaded: 0xc0500000 - 0xc051739b
INFO:    BL2: Loading image id 26
INFO:    Loading image id=26 at address 0x2ffc0000
INFO:    Image id=26 loaded: 0x2ffc0000 - 0x2ffc4a5b
INFO:    BL2: Loading image id 5
INFO:    Loading image id=5 at address 0xc0100000
INFO:    Image id=5 loaded: 0xc0100000 - 0xc01cf9d0
NOTICE:  BL2: Booting BL32
INFO:    Entry point address = 0x2ffc5000
INFO:    SPSR = 0x1d3
NOTICE:  SP_MIN: v2.4-r1.0(debug):v2.4-dirty
NOTICE:  SP_MIN: Built : 16:43:51, Nov 17 2020
INFO:    ARM GICv2 driver initialized
WARNING: Timer is not accurate enough for calibration
INFO:    Set calibration timer to 60 sec
INFO:    stm32mp1 IWDG1 is secure
INFO:    SP_MIN: Initializing runtime services
INFO:    SP_MIN: Preparing exit to normal world


U-Boot 2020.10-stm32mp-r1-dirty (Oct 05 2020 - 15:15:32 +0000)

CPU: STM32MP157CAC Rev.Z
Model: Seeed Studio Odyssey-STM32MP157C Board
Board: stm32mp1 in trusted mode (seeed,stm32mp157c-odyssey)
DRAM:  512 MiB
Clocks:
- MPU : 650 MHz
- MCU : 40.878 MHz
- AXI : 266.500 MHz
- PER : 24 MHz
- DDR : 533 MHz
STM32Programmer key pressed, entering download mode...
WDT:   Started with servicing (32s timeout)
NAND:  0 MiB
MMC:   STM32 SD/MMC: 1
Loading Environment from MMC... OK
In:    serial
Out:   serial
Err:   serial
Net:   eth0: ethernet@5800a000
Hit any key to stop autoboot:  0  0
STM32MP> 
STM32MP> 
STM32MP> 
STM32MP> ums 0 mmc 1
UMS: LUN 0, dev 1, hwpart 0, sector 0x0, count 0x720000
|/-\|/-\/-\|/-\/-\crq->brequest:0x0
|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\CTRL+C - Operation aborted
STM32MP> ums 0 mmc 1
UMS: LUN 0, dev 1, hwpart 0, sector 0x0, count 0x720000
/-\|/-\/-\|/-\/-\|/crq->brequest:0x0
-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\/-\|/-\CTRL+C - Operation aborted
STM32MP> run do istro_bootcmd 
switch to partitions #0, OK
mmc1(part 0) is current device
Scanning mmc 1:2...
Found /mmc1_extlinux/extlinux.conf
Retrieving file: /mmc1_extlinux/extlinux.conf
239 bytes read in 30 ms (6.8 KiB/s)
Retrieving file: /splash.bmp
18244 bytes read in 30 ms (593.8 KiB/s)
1:	OpenSTLinux
Retrieving file: /uImage
7455528 bytes read in 346 ms (20.5 MiB/s)
append: root=PARTUUID=491f6117-415d-4f53-88c9-6e0de54deac6 rootwait rw console=ttySTM0,115200
Retrieving file: /stm32mp157c-odyssey.dtb
63615 bytes read in 32 ms (1.9 MiB/s)
## Booting kernel from Legacy Image at c2000000 ...
   Image Name:   Linux-5.10.10
   Created:      2021-01-23  15:04:06 UTC
   Image Type:   ARM Linux Kernel Image (uncompressed)
   Data Size:    7455464 Bytes = 7.1 MiB
   Load Address: c2000040
   Entry Point:  c2000040
   Verifying Checksum ... OK
## Flattened Device Tree blob at c4000000
   Booting using the fdt blob at 0xc4000000
   XIP Kernel Image
   Loading Device Tree to cffed000, end cffff87e ... OK
ETZPC: 0x48001000 node disabled, decprot 89=2

Starting kernel ...

[    0.000000] Booting Linux on physical CPU 0x0
[    0.000000] Linux version 5.10.10 (oe-user@oe-host) (arm-poky-linux-gnueabi-gcc (GCC) 9.3.0, GNU ld (GNU Binutils) 2.34.0.20200220) #1 SMP PREEMPT Sat Jan 23 15:04:06 UTC 2021
[    0.000000] CPU: ARMv7 Processor [410fc075] revision 5 (ARMv7), cr=10c5387d
[    0.000000] CPU: div instructions available: patching division code
[    0.000000] CPU: PIPT / VIPT nonaliasing data cache, VIPT aliasing instruction cache
[    0.000000] OF: fdt: Machine model: Seeed Studio Odyssey-STM32MP157C Board
[    0.000000] Memory policy: Data cache writealloc
[    0.000000] Reserved memory: created DMA memory pool at 0x10000000, size 0 MiB
[    0.000000] OF: reserved mem: initialized node mcuram2@10000000, compatible id shared-dma-pool
[    0.000000] Reserved memory: created DMA memory pool at 0x10040000, size 0 MiB
[    0.000000] OF: reserved mem: initialized node vdev0vring0@10040000, compatible id shared-dma-pool
[    0.000000] Reserved memory: created DMA memory pool at 0x10041000, size 0 MiB
[    0.000000] OF: reserved mem: initialized node vdev0vring1@10041000, compatible id shared-dma-pool
[    0.000000] Reserved memory: created DMA memory pool at 0x10042000, size 0 MiB
[    0.000000] OF: reserved mem: initialized node vdev0buffer@10042000, compatible id shared-dma-pool
[    0.000000] Reserved memory: created DMA memory pool at 0x30000000, size 0 MiB
[    0.000000] OF: reserved mem: initialized node mcuram@30000000, compatible id shared-dma-pool
[    0.000000] Reserved memory: created DMA memory pool at 0x38000000, size 0 MiB
[    0.000000] OF: reserved mem: initialized node retram@38000000, compatible id shared-dma-pool
[    0.000000] cma: Reserved 128 MiB at 0xd8000000
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x00000000c0000000-0x00000000dfffffff]
[    0.000000]   HighMem  empty
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x00000000c0000000-0x00000000d3ffffff]
[    0.000000]   node   0: [mem 0x00000000d8000000-0x00000000dfffffff]
[    0.000000] Initmem setup node 0 [mem 0x00000000c0000000-0x00000000dfffffff]
[    0.000000] psci: probing for conduit method from DT.
[    0.000000] psci: PSCIv1.1 detected in firmware.
[    0.000000] psci: Using standard PSCI v0.2 function IDs
[    0.000000] psci: MIGRATE_INFO_TYPE not supported.
[    0.000000] psci: SMC Calling Convention v1.2
[    0.000000] percpu: Embedded 20 pages/cpu s51788 r8192 d21940 u81920
[    0.000000] Built 1 zonelists, mobility grouping on.  Total pages: 113536
[    0.000000] Kernel command line: root=PARTUUID=491f6117-415d-4f53-88c9-6e0de54deac6 rootwait rw console=ttySTM0,115200
[    0.000000] Dentry cache hash table entries: 65536 (order: 6, 262144 bytes, linear)
[    0.000000] Inode-cache hash table entries: 32768 (order: 5, 131072 bytes, linear)
[    0.000000] mem auto-init: stack:off, heap alloc:off, heap free:off
[    0.000000] Memory: 304684K/458752K available (11264K kernel code, 1206K rwdata, 3312K rodata, 1024K init, 248K bss, 22996K reserved, 131072K cma-reserved, 0K highmem)
[    0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=2, Nodes=1
[    0.000000] rcu: Preemptible hierarchical RCU implementation.
[    0.000000] rcu: 	RCU event tracing is enabled.
[    0.000000] 	Trampoline variant of Tasks RCU enabled.
[    0.000000] 	Tracing variant of Tasks RCU enabled.
[    0.000000] rcu: RCU calculated value of scheduler-enlistment delay is 10 jiffies.
[    0.000000] NR_IRQS: 16, nr_irqs: 16, preallocated irqs: 16
[    0.000000] random: get_random_bytes called from start_kernel+0x390/0x568 with crng_init=0
[    0.000000] arch_timer: cp15 timer(s) running at 24.00MHz (virt).
[    0.000000] clocksource: arch_sys_counter: mask: 0xffffffffffffff max_cycles: 0x588fe9dc0, max_idle_ns: 440795202592 ns
[    0.000009] sched_clock: 56 bits at 24MHz, resolution 41ns, wraps every 4398046511097ns
[    0.000030] Switching to timer-based delay loop, resolution 41ns
[    0.001341] Console: colour dummy device 80x30
[    0.001400] Calibrating delay loop (skipped), value calculated using timer frequency.. 48.00 BogoMIPS (lpj=240000)
[    0.001429] pid_max: default: 32768 minimum: 301
[    0.001689] Mount-cache hash table entries: 1024 (order: 0, 4096 bytes, linear)
[    0.001715] Mountpoint-cache hash table entries: 1024 (order: 0, 4096 bytes, linear)
[    0.003068] CPU: Testing write buffer coherency: ok
[    0.003519] /cpus/cpu@0 missing clock-frequency property
[    0.003563] /cpus/cpu@1 missing clock-frequency property
[    0.003585] CPU0: thread -1, cpu 0, socket 0, mpidr 80000000
[    0.004866] Setting up static identity map for 0xc0100000 - 0xc0100060
[    0.005077] rcu: Hierarchical SRCU implementation.
[    0.006539] smp: Bringing up secondary CPUs ...
[    0.007779] CPU1: thread -1, cpu 1, socket 0, mpidr 80000001
[    0.008034] smp: Brought up 1 node, 2 CPUs
[    0.008065] SMP: Total of 2 processors activated (96.00 BogoMIPS).
[    0.008078] CPU: All CPU(s) started in SVC mode.
[    0.008938] devtmpfs: initialized
[    0.034693] VFP support v0.3: implementor 41 architecture 2 part 30 variant 7 rev 5
[    0.035080] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 19112604462750000 ns
[    0.035117] futex hash table entries: 512 (order: 3, 32768 bytes, linear)
[    0.041385] pinctrl core: initialized pinctrl subsystem
[    0.043366] NET: Registered protocol family 16
[    0.046739] DMA: preallocated 256 KiB pool for atomic coherent allocations
[    0.048629] thermal_sys: Registered thermal governor 'step_wise'
[    0.049032] cpuidle: using governor menu
[    0.049456] hw-breakpoint: found 5 (+1 reserved) breakpoint and 4 watchpoint registers.
[    0.049478] hw-breakpoint: maximum watchpoint size is 8 bytes.
[    0.049988] Serial: AMBA PL011 UART driver
[    0.089838] stm32-pm-domain pm_domain: domain core-ret-power-domain registered
[    0.089888] stm32-pm-domain pm_domain: subdomain core-power-domain registered
[    0.089908] stm32-pm-domain pm_domain: domains probed
[    0.117613] SCSI subsystem initialized
[    0.118529] usbcore: registered new interface driver usbfs
[    0.118625] usbcore: registered new interface driver hub
[    0.118721] usbcore: registered new device driver usb
[    0.119041] pps_core: LinuxPPS API ver. 1 registered
[    0.119059] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti <giometti@linux.it>
[    0.119098] PTP clock support registered
[    0.119999] arm-scmi firmware:scmi0: SCMI Notifications - Core Enabled.
[    0.120189] arm-scmi firmware:scmi0: SCMI Protocol v2.0 'ST:' Firmware version 0x0
[    0.123611] clocksource: Switched to clocksource arch_sys_counter
[    1.570865] NET: Registered protocol family 2
[    1.572109] tcp_listen_portaddr_hash hash table entries: 512 (order: 0, 6144 bytes, linear)
[    1.572282] TCP established hash table entries: 4096 (order: 2, 16384 bytes, linear)
[    1.572360] TCP bind hash table entries: 4096 (order: 3, 32768 bytes, linear)
[    1.572460] TCP: Hash tables configured (established 4096 bind 4096)
[    1.572648] UDP hash table entries: 256 (order: 1, 8192 bytes, linear)
[    1.572703] UDP-Lite hash table entries: 256 (order: 1, 8192 bytes, linear)
[    1.573212] NET: Registered protocol family 1
[    1.574347] RPC: Registered named UNIX socket transport module.
[    1.574376] RPC: Registered udp transport module.
[    1.574390] RPC: Registered tcp transport module.
[    1.574403] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    1.575508] hw perfevents: enabled with armv7_cortex_a7 PMU driver, 5 counters available
[    1.577500] Initialise system trusted keyrings
[    1.577936] workingset: timestamp_bits=14 max_order=17 bucket_order=3
[    1.589044] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    1.590560] NFS: Registering the id_resolver key type
[    1.590618] Key type id_resolver registered
[    1.590633] Key type id_legacy registered
[    1.590829] nfs4filelayout_init: NFSv4 File Layout Driver Registering...
[    1.591043] ntfs: driver 2.1.32 [Flags: R/O].
[    1.591386] jffs2: version 2.2. (NAND) Â© 2001-2006 Red Hat, Inc.
[    1.592334] fuse: init (API version 7.32)
[    1.593453] NET: Registered protocol family 38
[    1.593482] Key type asymmetric registered
[    1.593497] Asymmetric key parser 'x509' registered
[    1.593569] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 246)
[    1.593682] io scheduler mq-deadline registered
[    1.593696] io scheduler kyber registered
[    1.600871] reg11: supplied by regulator-dummy
[    1.601303] reg18: supplied by regulator-dummy
[    1.601681] usb33: supplied by regulator-dummy
[    1.606336] STM32 USART driver initialized
[    1.629116] brd: module loaded
[    1.630530] random: fast init done
[    1.635347] random: crng init done
[    1.643563] loop: module loaded
[    1.649585] libphy: Fixed MDIO Bus: probed
[    1.651747] CAN device driver interface
[    1.653835] pegasus: v0.9.3 (2013/04/25), Pegasus/Pegasus II USB Ethernet driver
[    1.653942] usbcore: registered new interface driver pegasus
[    1.654031] usbcore: registered new interface driver asix
[    1.654100] usbcore: registered new interface driver ax88179_178a
[    1.654181] usbcore: registered new interface driver cdc_ether
[    1.654267] usbcore: registered new interface driver smsc75xx
[    1.654362] usbcore: registered new interface driver smsc95xx
[    1.654427] usbcore: registered new interface driver net1080
[    1.654491] usbcore: registered new interface driver cdc_subset
[    1.654555] usbcore: registered new interface driver zaurus
[    1.654648] usbcore: registered new interface driver cdc_ncm
[    1.655854] ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver
[    1.655915] ehci-platform: EHCI generic platform driver
[    1.656411] ohci_hcd: USB 1.1 'Open' Host Controller (OHCI) Driver
[    1.656458] ohci-platform: OHCI generic platform driver
[    1.657323] usbcore: registered new interface driver usb-storage
[    1.660959] i2c /dev entries driver
[    1.665434] stm32-cpufreq stm32-cpufreq: Failed to get chip info: -517
[    1.666502] sdhci: Secure Digital Host Controller Interface driver
[    1.666522] sdhci: Copyright(c) Pierre Ossman
[    1.666535] Synopsys Designware Multimedia Card Interface Driver
[    1.666974] sdhci-pltfm: SDHCI platform and OF driver helper
[    1.668260] ledtrig-cpu: registered to indicate activity on CPUs
[    1.668381] SMCCC: SOC_ID: ARCH_SOC_ID not implemented, skipping ....
[    1.668819] usbcore: registered new interface driver usbhid
[    1.668836] usbhid: USB HID core driver
[    1.670274] remoteproc remoteproc0: releasing m4
[    1.672459] NET: Registered protocol family 17
[    1.672504] can: controller area network core
[    1.672644] NET: Registered protocol family 29
[    1.672668] can: raw protocol
[    1.672682] can: broadcast manager protocol
[    1.672703] can: netlink gateway - max_hops=1
[    1.673546] Key type dns_resolver registered
[    1.673833] ThumbEE CPU extension supported.
[    1.673869] Registering SWP/SWPB emulation handler
[    1.674331] registered taskstats version 1
[    1.674362] Loading compiled-in X.509 certificates
[    1.718728] stm32-mdma 58000000.dma-controller: STM32 MDMA driver registered
[    1.721285] stm32-dma 48000000.dma-controller: no dma pool: can't use MDMA: 0
[    1.722909] stm32-dma 48000000.dma-controller: STM32 DMA driver registered
[    1.737315] remoteproc remoteproc0: releasing m4
[    1.738258] /soc/interrupt-controller@5000d000: bank0
[    1.738289] /soc/interrupt-controller@5000d000: bank1
[    1.738310] /soc/interrupt-controller@5000d000: bank2
[    1.740586] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOA bank added
[    1.741131] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOB bank added
[    1.741561] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOC bank added
[    1.741991] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOD bank added
[    1.742398] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOE bank added
[    1.742829] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOF bank added
[    1.743228] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOG bank added
[    1.743711] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOH bank added
[    1.744189] stm32mp157-pinctrl soc:pin-controller@50002000: GPIOI bank added
[    1.744453] stm32mp157-pinctrl soc:pin-controller@50002000: Pinctrl STM32 initialized
[    1.745760] stm32mp157-pinctrl soc:pin-controller-z@54004000: GPIOZ bank added
[    1.745802] stm32mp157-pinctrl soc:pin-controller-z@54004000: Pinctrl STM32 initialized
[    1.748853] stm32-usart 4000e000.serial: failed to get alias id, errno -19
[    1.751031] 40010000.serial: ttySTM0 at MMIO 0x40010000 (irq = 46, base_baud = 4000000) is a stm32-usart
[    2.891561] printk: console [ttySTM0] enabled
[    2.897694] stm32-usart 5c000000.serial: failed to get alias id, errno -19
[    2.905279] stm32-dwmac 5800a000.ethernet: IRQ eth_lpi not found
[    2.910050] stm32-dwmac 5800a000.ethernet: PTP uses main clock
[    2.915786] stm32-dwmac 5800a000.ethernet: no reset control found
[    2.922553] stm32-dwmac 5800a000.ethernet: User ID: 0x40, Synopsys ID: 0x42
[    2.928844] stm32-dwmac 5800a000.ethernet: 	DWMAC4/5
[    2.933775] stm32-dwmac 5800a000.ethernet: DMA HW capability register supported
[    2.941056] stm32-dwmac 5800a000.ethernet: RX Checksum Offload Engine supported
[    2.948413] stm32-dwmac 5800a000.ethernet: TX Checksum insertion supported
[    2.955289] stm32-dwmac 5800a000.ethernet: Wake-Up On Lan supported
[    2.961679] stm32-dwmac 5800a000.ethernet: TSO supported
[    2.966901] stm32-dwmac 5800a000.ethernet: Enable RX Mitigation via HW Watchdog Timer
[    2.974738] stm32-dwmac 5800a000.ethernet: Enabled Flow TC (entries=2)
[    2.981246] stm32-dwmac 5800a000.ethernet: TSO feature enabled
[    2.987132] stm32-dwmac 5800a000.ethernet: Using 32 bits DMA width
[    2.994651] libphy: stmmac: probed
[    2.996683] mdio_bus stmmac-0: fixed-link has invalid PHY address
[    3.004920] mdio_bus stmmac-0: scan phy fixed-link at address 1
[    3.018769] stm32_rtc 5c004000.rtc: registered as rtc0
[    3.022535] stm32_rtc 5c004000.rtc: setting system clock to 2000-01-01T00:13:59 UTC (946685639)
[    3.032176] stm32_rtc 5c004000.rtc: Date/Time must be initialized
[    3.037363] stm32_rtc 5c004000.rtc: registered rev:1.2
[    3.065738] stpmic1 0-0033: PMIC Chip Version: 0x21
[    3.079113] vddcore: supplied by regulator-dummy
[    3.085919] vdd_ddr: supplied by regulator-dummy
[    3.092648] vdd: supplied by regulator-dummy
[    3.099535] v3v3: supplied by regulator-dummy
[    3.105626] v3v3_env: supplied by v3v3
[    3.113806] v3v3_eth0: supplied by vin
[    3.120109] vtt_ddr: supplied by vdd_ddr
[    3.123476] vdd_usb: supplied by regulator-dummy
[    3.131397] vdda: supplied by regulator-dummy
[    3.138496] v3v3_cam: supplied by v3v3
[    3.144871] stpmic1-regulator 40013000.i2c:stpmic@33:regulators: Supply for VREF_DDR (vref_ddr) resolved to itself
[    3.153836] vref_ddr: supplied by regulator-dummy
[    3.159467] bst_out: supplied by regulator-dummy
[    3.164420] vbus_otg: supplied by bst_out
[    3.168734] vbus_sw: supplied by bst_out
[    3.176193] input: pmic_onkey as /devices/platform/soc/40013000.i2c/i2c-0/0-0033/40013000.i2c:stpmic@33:onkey/input/input0
[    3.186985] stm32f7-i2c 40013000.i2c: STM32F7 I2C-0 bus adapter
[    3.212293] stm32f7-i2c 5c002000.i2c: using dma0chan0 (tx) and dma0chan1 (rx) for DMA transfers
[    3.220331] stm32f7-i2c 5c002000.i2c: STM32F7 I2C-1 bus adapter
[    3.246153] stm32f7-i2c 5c009000.i2c: using dma0chan2 (tx) and dma0chan3 (rx) for DMA transfers
[    3.254187] stm32f7-i2c 5c009000.i2c: STM32F7 I2C-2 bus adapter
[    3.262338] mmci-pl18x 58007000.sdmmc: mmc0: PL180 manf 53 rev2 at 0x58007000 irq 42,0 (pio)
[    3.300915] stm32-ipcc 4c001000.mailbox: ipcc rev:1.0 enabled, 6 chans, proc 0
[    3.309626] stm32-rproc 10000000.m4: wdg irq registered
[    3.315700] remoteproc remoteproc0: m4 is available
[    3.321857] stm32-usbphyc 5a006000.usbphyc: registered rev:1.0
[    3.330177] dwc2 49000000.usb-otg: supply vusb_d not found, using dummy regulator
[    3.336636] dwc2 49000000.usb-otg: supply vusb_a not found, using dummy regulator
[    3.380395] mmc0: new DDR MMC card at address 0001
[    3.385176] mmcblk0: mmc0:0001 M62704 3.56 GiB 
[    3.388933] mmcblk0boot0: mmc0:0001 M62704 partition 1 2.00 MiB
[    3.395099] mmcblk0boot1: mmc0:0001 M62704 partition 2 2.00 MiB
[    3.400535] mmcblk0rpmb: mmc0:0001 M62704 partition 3 512 KiB, chardev (243:0)
[    3.419760]  mmcblk0: p1 p2 p3 p4 p5
[    3.474041] dwc2 49000000.usb-otg: EPs: 9, dedicated fifos, 952 entries in SPRAM
[    3.480828] dwc2 49000000.usb-otg: DWC OTG Controller
[    3.485238] dwc2 49000000.usb-otg: new USB bus registered, assigned bus number 1
[    3.492531] dwc2 49000000.usb-otg: irq 69, io mem 0x49000000
[    3.499489] hub 1-0:1.0: USB hub found
[    3.501952] hub 1-0:1.0: 1 port detected
[    3.508609] ehci-platform 5800d000.usbh-ehci: EHCI Host Controller
[    3.513384] ehci-platform 5800d000.usbh-ehci: new USB bus registered, assigned bus number 2
[    3.522687] ehci-platform 5800d000.usbh-ehci: irq 48, io mem 0x5800d000
[    3.553639] ehci-platform 5800d000.usbh-ehci: USB 2.0 started, EHCI 1.00
[    3.560301] hub 2-0:1.0: USB hub found
[    3.562712] hub 2-0:1.0: 2 ports detected
[    3.568956] ohci-platform 5800c000.usbh-ohci: Generic Platform OHCI controller
[    3.574886] ohci-platform 5800c000.usbh-ohci: new USB bus registered, assigned bus number 3
[    3.583650] ohci-platform 5800c000.usbh-ohci: irq 44, io mem 0x5800c000
[    3.658968] hub 3-0:1.0: USB hub found
[    3.661333] hub 3-0:1.0: 2 ports detected
[    3.681719] EXT4-fs (mmcblk0p4): recovery complete
[    3.685181] EXT4-fs (mmcblk0p4): mounted filesystem with ordered data mode. Opts: (null)
[    3.693281] VFS: Mounted root (ext4 filesystem) on device 179:4.
[    3.700265] devtmpfs: mounted
[    3.704419] Freeing unused kernel memory: 1024K
[    3.714078] Run /sbin/init as init process
[    3.898572] systemd[1]: System time before build time, advancing clock.
[    4.009977] NET: Registered protocol family 10
[    4.045547] Segment Routing with IPv6
[    4.074364] systemd[1]: systemd 244.5+ running in system mode. (-PAM -AUDIT -SELINUX +IMA -APPARMOR -SMACK +SYSVINIT +UTMP -LIBCRYPTSETUP -GCRYPT -GNUTLS +ACL +XZ -LZ4 -SECCOMP +BLKID -ELFUTILS +KMOD -IDN2 -IDN -PCRE2 default-hierarchy=hybrid)
[    4.101610] systemd[1]: Detected architecture arm.

Welcome to Poky (Yocto Project Reference Distro) 3.1.19 (dunfell)!

[    4.184747] systemd[1]: Set hostname to <stm32mp1>.
[    4.195809] systemd[1]: Hardware watchdog 'STM32 Independent Watchdog', version 0
[    4.202980] systemd[1]: Set hardware watchdog to 32s.
[    4.970263] systemd[1]: Created slice system-getty.slice.
[  OK  ] Created slice system-getty.slice.
[    5.006232] systemd[1]: Created slice system-serial\x2dgetty.slice.
[  OK  ] Created slice system-serial\x2dgetty.slice.
[    5.036186] systemd[1]: Created slice User and Session Slice.
[  OK  ] Created slice User and Session Slice.
[    5.064515] systemd[1]: Started Dispatch Password Requests to Console Directory Watch.
[  OK  ] Started Dispatch Password âts to Console Directory Watch.
[    5.094391] systemd[1]: Started Forward Password Requests to Wall Directory Watch.
[  OK  ] Started Forward Password Râuests to Wall Directory Watch.
[    5.124199] systemd[1]: Reached target Host and Network Name Lookups.
[  OK  ] Reached target Host and Network Name Lookups.
[    5.153915] systemd[1]: Reached target Paths.
[  OK  ] Reached target Paths.
[    5.183960] systemd[1]: Reached target Remote File Systems.
[  OK  ] Reached target Remote File Systems.
[    5.213896] systemd[1]: Reached target Slices.
[  OK  ] Reached target Slices.
[    5.243957] systemd[1]: Reached target Swap.
[  OK  ] Reached target Swap.
[    5.275184] systemd[1]: Listening on Syslog Socket.
[  OK  ] Listening on Syslog Socket.
[    5.304651] systemd[1]: Listening on initctl Compatibility Named Pipe.
[  OK  ] Listening on initctl Compatibility Named Pipe.
[    5.340629] systemd[1]: Condition check resulted in Journal Audit Socket being skipped.
[    5.348493] systemd[1]: Listening on Journal Socket (/dev/log).
[  OK  ] Listening on Journal Socket (/dev/log).
[    5.385133] systemd[1]: Listening on Journal Socket.
[  OK  ] Listening on Journal Socket.
[    5.415318] systemd[1]: Listening on Network Service Netlink Socket.
[  OK  ] Listening on Network Service Netlink Socket.
[    5.444961] systemd[1]: Listening on udev Control Socket.
[  OK  ] Listening on udev Control Socket.
[    5.474658] systemd[1]: Listening on udev Kernel Socket.
[  OK  ] Listening on udev Kernel Socket.
[    5.505050] systemd[1]: Condition check resulted in Huge Pages File System being skipped.
[    5.519600] systemd[1]: Mounting POSIX Message Queue File System...
         Mounting POSIX Message Queue File System...
[    5.561313] systemd[1]: Mounting Kernel Debug File System...
         Mounting Kernel Debug File System...
[    5.601784] systemd[1]: Mounting Temporary Directory (/tmp)...
         Mounting Temporary Directory (/tmp)...
[    5.641932] systemd[1]: Starting Create list of static device nodes for the current kernel...
         Starting Create list of stâ¦odes for the current kernel...
[    5.674258] systemd[1]: Condition check resulted in File System Check on Root Device being skipped.
[    5.692297] systemd[1]: Starting Journal Service...
         Starting Journal Service...
[    5.727098] systemd[1]: Condition check resulted in Load Kernel Modules being skipped.
[    5.741068] systemd[1]: Mounting FUSE Control File System...
         Mounting FUSE Control File System...
[    5.761848] systemd[1]: Mounting Kernel Configuration File System...
         Mounting Kernel Configuration File System...
[    5.820667] systemd[1]: Starting Remount Root and Kernel File Systems...
         Starting Remount Root and Kernel File Systems...
[    5.871999] systemd[1]: Starting Apply Kernel Variables...
         Starting Apply Kernel Variables...
[    5.907384] EXT4-fs (mmcblk0p4): re-mounted. Opts: (null)
[    5.931332] systemd[1]: Starting udev Coldplug all Devices...
         Starting udev Coldplug all Devices...
[    5.995269] systemd[1]: Started Journal Service.
[  OK  ] Started Journal Service.
[  OK  ] Mounted POSIX Message Queue File System.
[  OK  ] Mounted Kernel Debug File System.
[  OK  ] Mounted Temporary Directory (/tmp).
[  OK  ] Started Create list of staâ¦ nodes for the current kernel.
[  OK  ] Mounted FUSE Control File System.
[  OK  ] Mounted Kernel Configuration File System.
[  OK  ] Started Remount Root and Kernel File Systems.
[  OK  ] Started Apply Kernel Variables.
         Starting Flush Journal to Persistent Storage...
[    6.318276] systemd-journald[106]: Received client request to flush runtime journal.
         Starting Create Static Device Nodes in /dev...
[  OK  ] Started Flush Journal to Persistent Storage.
[  OK  ] Started Create Static Device Nodes in /dev.
[  OK  ] Reached target Local File Systems (Pre).
         Mounting /var/volatile...
         Starting udev Kernel Device Manager...
[  OK  ] Mounted /var/volatile.
         Starting Load/Save Random Seed...
[  OK  ] Reached target Local File Systems.
         Starting Create Volatile Files and Directories...
[  OK  ] Started Load/Save Random Seed.
[  OK  ] Started Create Volatile Files and Directories.
[  OK  ] Started udev Kernel Device Manager.
         Starting Network Time Synchronization...
         Starting Update UTMP about System Boot/Shutdown...
[  OK  ] Started Update UTMP about System Boot/Shutdown.
[  OK  ] Started udev Coldplug all Devices.
         Starting udev Wait for Complete Device Initialization...
[  OK  ] Started Network Time Synchronization.
[  OK  ] Reached target System Time Set.
[  OK  ] Reached target System Time Synchronized.
[    7.924454] spidev@0 enforce active low on chipselect handle
[    7.952557] spi_stm32 4000b000.spi: driver initialized
[  OK  ] Reached target Hardware activated USB gadget.
[    8.299822] etnaviv etnaviv: bound 59000000.gpu (ops gpu_ops [etnaviv])
[    8.305523] etnaviv-gpu 59000000.gpu: model: GC400, revision: 4652
[    8.375215] etnaviv-gpu 59000000.gpu: Need to move linear window on MC1.0, disabling TS
[    8.401854] [drm] Initialized etnaviv 1.3.0 20151214 for etnaviv on minor 0
[  OK  ] Started udev Wait for Complete Device Initialization.
[  OK  ] Listening on Load/Save RF â¦itch Status /dev/rfkill Watch.
[  OK  ] Started Hardware RNG Entropy Gatherer Daemon.
[  OK  ] Reached target System Initialization.
[  OK  ] Started Daily Cleanup of Temporary Directories.
[  OK  ] Reached target Timers.
[  OK  ] Listening on D-Bus System Message Bus Socket.
         Starting sshd.socket.
[  OK  ] Listening on sshd.socket.
[  OK  ] Reached target Sockets.
[  OK  ] Reached target Basic System.
[  OK  ] Started Kernel Logging Service.
[  OK  ] Started System Logging Service.
[  OK  ] Started D-Bus System Message Bus.
[  OK  ] Started Getty on tty1.
         Starting IPv6 Packet Filtering Framework...
         Starting IPv4 Packet Filtering Framework...
         Starting Telephony service...
[  OK  ] Started Serial Getty on ttySTM0.
[  OK  ] Reached target Login Prompts.
         Starting Login Service...
[  OK  ] Started IPv6 Packet Filtering Framework.
[  OK  ] Started IPv4 Packet Filtering Framework.
[  OK  ] Reached target Network (Pre).
         Starting Connection service...
         Starting Network Service...
[   10.591555] Bluetooth: Core ver 2.22
[  OK  ] Started Telephony service.
[   10.610138] NET: Registered protocol family 31
[   10.623776] Bluetooth: HCI device and connection manager initialized
[   10.628725] Bluetooth: HCI socket layer initialized
[   10.635888] Bluetooth: L2CAP socket layer initialized
[   10.639550] Bluetooth: SCO socket layer initialized
[  OK  ] Started Network Service.
[  OK  ] Started Connection service.
[   11.180021] stm32-dwmac 5800a000.ethernet eth0: validation of rmii with support 0000000,00000000,00006280 and advertisement 0000000,00000000,00006280 failed: -22
[  OK  ] Reached target Network.
[   11.224935] stm32-dwmac 5800a000.ethernet eth0: no phy at addr -1
[   11.229599] stm32-dwmac 5800a000.ethernet eth0: stmmac_open: Cannot attach to PHY (error: -19)
         Starting WPA supplicant...
[   11.398228] stm32-dwmac 5800a000.ethernet eth0: validation of rmii with support 0000000,00000000,00006280 and advertisement 0000000,00000000,00006280 failed: -22
[   11.429208] stm32-dwmac 5800a000.ethernet eth0: no phy at addr -1
[   11.454722] stm32-dwmac 5800a000.ethernet eth0: stmmac_open: Cannot attach to PHY (error: -19)
         Starting Hostname Service...
[  OK  ] Started WPA supplicant.
[  OK  ] Started Login Service.
[  OK  ] Reached target Multi-User System.
         Starting Update UTMP about System Runlevel Changes...
[  OK  ] Started Update UTMP about System Runlevel Changes.
[  OK  ] Started Hostname Service.

Poky (Yocto Project Reference Distro) 3.1.19 stm32mp1 ttySTM0

stm32mp1 login: root
root@stm32mp1:~# sh stm32_usbotg_eth_config.sh restart
Stop usb gadget
Nothing to do
Start usb gadget
[   29.204700] using random self ethernet address
[   29.207711] using random host ethernet address
[   29.282597] usb0: HOST MAC d6:de:de:95:44:1c
[   29.305023] usb0: MAC 8a:6a:bb:78:9e:30
[   29.307468] dwc2 49000000.usb-otg: bound driver configfs-gadget
[   29.509882] dwc2 49000000.usb-otg: new device is high-speed
root@stm32mp1:~# [   29.638352] dwc2 49000000.usb-otg: new device is high-speed
[   29.716013] dwc2 49000000.usb-otg: new address 2
[   33.753673] vdda: disabling
[   34.958010] dwc2 49000000.usb-otg: new device is high-speed
[   34.962167] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[   40.333893] dwc2 49000000.usb-otg: new device is high-speed
[   40.338053] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[   55.949777] dwc2 49000000.usb-otg: new device is high-speed
[   55.953937] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[   56.505785] dwc2 49000000.usb-otg: new device is high-speed
[   56.509943] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[   56.573514] dwc2 49000000.usb-otg: new device is high-speed
[   56.577671] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[   66.937604] dwc2 49000000.usb-otg: new device is high-speed
[   66.941765] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[   72.077799] dwc2 49000000.usb-otg: new device is high-speed
[   72.081957] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)

root@stm32mp1:~# sh stm32_usbotg_eth_config.sh restart
Stop usb gadget
Start usb gadget
[   84.273491] using random self ethernet address
[   84.276709] using random host ethernet address
[   84.316525] usb0: HOST MAC a6:06:36:46:7e:b8
[   84.320258] usb0: MAC ba:cf:5c:42:87:7c
[   84.323259] dwc2 49000000.usb-otg: bound driver configfs-gadget
[   84.529721] dwc2 49000000.usb-otg: new device is high-speed
root@stm32mp1:~# [   84.658139] dwc2 49000000.usb-otg: new device is high-speed
[   84.735797] dwc2 49000000.usb-otg: new address 2
[   89.997829] dwc2 49000000.usb-otg: new device is high-speed
[   90.001990] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
sh stm32_usbotg_eth_config.sh restart
Stop usb gadget
Start usb gadget
[   94.454630] using random self ethernet address
[   94.457641] using random host ethernet address
[   94.492999] usb0: HOST MAC ee:cf:ee:e0:ef:b9
[   94.496590] usb0: MAC d2:05:ea:9c:bc:8b
[   94.499718] dwc2 49000000.usb-otg: bound driver configfs-gadget
[   94.701703] dwc2 49000000.usb-otg: new device is high-speed
root@stm32mp1:~# [   94.830808] dwc2 49000000.usb-otg: new device is high-speed
[   94.907718] dwc2 49000000.usb-otg: new address 2
[   99.981870] dwc2 49000000.usb-otg: new device is high-speed
[   99.986029] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[  105.357730] dwc2 49000000.usb-otg: new device is high-speed
[  105.361889] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[  120.973719] dwc2 49000000.usb-otg: new device is high-speed
[  120.977878] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[  121.525668] dwc2 49000000.usb-otg: new device is high-speed
[  121.529828] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
[  121.593374] dwc2 49000000.usb-otg: new device is high-speed
[  121.597530] dwc2 49000000.usb-otg: dwc2_hsotg_enqueue_setup: failed queue (-11)
