Version 4
SHEET 1 1772 680
WIRE 528 -128 528 -160
WIRE 1008 -128 1008 -160
WIRE 1488 -128 1488 -160
WIRE 528 0 528 -48
WIRE 1008 0 1008 -48
WIRE 1488 0 1488 -48
WIRE -432 64 -480 64
WIRE -80 64 -352 64
WIRE 176 96 80 96
WIRE 176 112 176 96
WIRE 336 112 272 112
WIRE 496 112 496 80
WIRE 496 112 336 112
WIRE 528 112 528 80
WIRE 624 112 528 112
WIRE 736 112 624 112
WIRE 976 112 976 80
WIRE 1008 112 1008 80
WIRE 1104 112 1008 112
WIRE 1216 112 1104 112
WIRE 1456 112 1456 80
WIRE 1488 112 1488 80
WIRE 1584 112 1488 112
WIRE 1696 112 1584 112
WIRE -80 160 -80 64
WIRE -80 160 -160 160
WIRE -32 160 -80 160
WIRE 80 160 80 96
WIRE 80 160 48 160
WIRE 624 176 624 112
WIRE 1104 176 1104 112
WIRE 1584 176 1584 112
WIRE 336 192 272 192
WIRE 496 192 336 192
WIRE -320 208 -400 208
WIRE -96 256 -160 256
WIRE -880 272 -1040 272
WIRE -608 272 -800 272
WIRE -480 272 -480 64
WIRE -480 272 -528 272
WIRE -320 272 -480 272
WIRE -96 288 -96 256
WIRE -96 288 -160 288
WIRE -1040 304 -1040 272
WIRE 496 336 496 192
WIRE 624 336 624 240
WIRE 624 336 496 336
WIRE 736 336 624 336
WIRE 976 336 976 192
WIRE 1104 336 1104 240
WIRE 1104 336 976 336
WIRE 1216 336 1104 336
WIRE 1456 336 1456 192
WIRE 1584 336 1584 240
WIRE 1584 336 1456 336
WIRE 1696 336 1584 336
WIRE -528 368 -624 368
WIRE -400 368 -400 208
WIRE -400 368 -448 368
WIRE -400 384 -400 368
WIRE -1040 416 -1040 384
WIRE -624 448 -624 368
FLAG -928 16 0
FLAG -928 176 0
FLAG -928 96 -6
IOPIN -928 96 Out
FLAG -928 -64 6
IOPIN -928 -64 Out
FLAG -320 144 6
IOPIN -320 144 In
FLAG -320 176 -6
IOPIN -320 176 In
FLAG -160 224 0
FLAG 528 -240 0
FLAG 1008 -240 0
FLAG 976 0 0
FLAG 336 192 T-
FLAG 336 112 T+
FLAG 976 192 T-
FLAG 976 112 T+
FLAG 1488 -240 0
FLAG 1456 0 0
FLAG 1456 192 T-
FLAG 1456 112 T+
FLAG -1040 416 0
FLAG 496 0 0
FLAG 496 336 0
FLAG -400 464 0
FLAG -864 320 0
FLAG -816 400 0
FLAG -624 528 0
FLAG -96 288 0
FLAG 176 192 0
SYMBOL ind2 192 208 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L1
SYMATTR Value 160µ
SYMATTR Type ind
SYMATTR SpiceLine Rser=0.6
SYMBOL ind2 288 208 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L2
SYMATTR Value 100m
SYMATTR Type ind
SYMATTR SpiceLine Rser=3.4
SYMBOL res -512 256 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL res -336 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 5.7k
SYMBOL res -48 144 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 0
SYMBOL cap 608 176 R0
SYMATTR InstName C1
SYMATTR Value 120p
SYMBOL ind 720 96 R0
SYMATTR InstName L3
SYMATTR Value 30m
SYMBOL cap 720 192 R0
SYMATTR InstName C2
SYMATTR Value 140p
SYMBOL res 720 240 R0
SYMATTR InstName R3
SYMATTR Value 63
SYMBOL AutoGenerated\\OPA2673_Model -240 208 R0
SYMATTR InstName U1
SYMBOL voltage -1040 288 R0
WINDOW 0 42 42 Left 2
WINDOW 3 -62 179 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value SINE(1.5 1 108k 0 0 0 80)
SYMBOL AutoGenerated\\LH1546 512 32 R90
SYMATTR InstName U2
SYMBOL voltage 528 -144 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 0
SYMBOL res 512 -144 R0
SYMATTR InstName R7
SYMATTR Value 1k
SYMBOL cap 1088 176 R0
SYMATTR InstName C3
SYMATTR Value 120p
SYMBOL ind 1200 96 R0
SYMATTR InstName L4
SYMATTR Value 30m
SYMBOL cap 1200 192 R0
SYMATTR InstName C4
SYMATTR Value 140p
SYMBOL res 1200 240 R0
SYMATTR InstName R8
SYMATTR Value 63
SYMBOL AutoGenerated\\LH1546 992 32 R90
SYMATTR InstName U3
SYMBOL voltage 1008 -144 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value PULSE(0 3.3 0.2m 10n 10n .3m)
SYMBOL res 992 -144 R0
SYMATTR InstName R9
SYMATTR Value 1k
SYMBOL cap 1568 176 R0
SYMATTR InstName C5
SYMATTR Value 120p
SYMBOL ind 1680 96 R0
SYMATTR InstName L5
SYMATTR Value 30m
SYMBOL cap 1680 192 R0
SYMATTR InstName C6
SYMATTR Value 140p
SYMBOL res 1680 240 R0
SYMATTR InstName R10
SYMATTR Value 63
SYMBOL AutoGenerated\\LH1546 1472 32 R90
SYMATTR InstName U4
SYMBOL voltage 1488 -144 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value 0
SYMBOL res 1472 -144 R0
SYMATTR InstName R11
SYMATTR Value 1k
SYMBOL res -432 352 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL res -384 480 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R6
SYMATTR Value 5.7k
SYMBOL voltage -928 -80 R0
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V8
SYMATTR Value PULSE(0 6 .1m 10n 10n .6m)
SYMBOL voltage -928 80 R0
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V9
SYMATTR Value PULSE(0 -6 .1m 10n 10n .6m)
SYMBOL sw -896 272 R270
SYMATTR InstName S1
SYMATTR Value MYSW
SYMBOL voltage -816 304 R0
WINDOW 0 24 96 Left 2
WINDOW 3 -183 130 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 3.3 0.2m 10n 10n .3m)
SYMBOL voltage -624 432 R0
WINDOW 0 24 96 Left 2
WINDOW 3 -183 130 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PULSE(0 1.5 0.2m 10n 10n .3m)
TEXT 160 64 Left 2 !K L1 L2 1
TEXT -320 472 Left 2 !.tran 1m startup uic
TEXT 616 384 Left 2 ;Tranducer - https://doi.org/10.3390/s22176378
TEXT 120 24 Left 2 ;1/25 turn ratio
TEXT 352 312 Left 2 ;Temp GND
TEXT -1112 240 Left 2 ;12-bit DAC
TEXT -520 -40 Left 4 ;Difference Amplifier
TEXT -320 448 Left 2 !.model MYSW SW(Ron=1 Roff=1Meg Vt=.5 Vh=-.4)
TEXT -704 344 Left 2 ;8-bit DAC
TEXT 616 408 Left 2 ;Tranducer - https://www.piezodrive.com/ultrasonic-drivers/intro-ultrasonic/
